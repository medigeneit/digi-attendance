import{f as T,c as r,o as a,a as s,t as l,j as i,d,m as c,i as n,b as C,w as p,s as B}from"./index-I6EODA-h.js";import{d as $,b as D}from"./datetime-BEfC2TVK.js";import{_,T as j,a as E,b as M}from"./TaskUrgentBadge-ArPhJpwM.js";import{_ as N,a as L}from"./TaskAssignedUsers-Cg9a-jkC.js";import{T as P}from"./TaskIsClosedBadge-DoSC8ySL.js";const V={class:"border text-center py-2 px-1 border-gray-200"},q={class:"font-semibold text-purple-400 text-sm"},z={class:"border px-3 py-1 border-gray-200 relative"},I={class:"flex items-center justify-between gap-2"},O={class:"flex items-center gap-3 mb-0.5"},R={class:"flex items-center flex-none lg:w-full order-0 lg:order-1"},A={class:"text-gray-600 text-xs mr-2 whitespace-nowrap font-bold"},S={class:"text-gray-400 text-xs mr-4 whitespace-nowrap"},F={class:"ml-1"},U={class:"flex items-center gap-2 text-xs text-gray-500 opacity-80 text-left"},G={class:"text-xs flex items-center gap-1 text-sky-400 ml-4"},H=["href"],J={class:"border px-3 py-1 border-gray-200"},K={class:"flex gap-2 justify-between items-center relative w-full"},Q={key:0,class:"shrink-0"},W=["href"],X={class:"border px-3 py-1 border-gray-200 text-center"},Y={key:0,class:"ml-4 text-gray-500 text-sm"},Z={class:"text-blue-500 font-semibold whitespace-nowrap"},tt={class:"border px-3 border-gray-200 sticky right-0 border-l bg-gray-50"},st={class:"flex justify-end flex-wrap gap-2 py-2"},nt={__name:"TaskTableRow",props:{task:{type:Object},indexing:{type:[Number,String]},hideButtons:{type:Boolean,default:!1},taskLinkTo:{type:Function,default:null}},emits:["editClick","employeeAssignClick"],setup(t,{emit:v}){const u=v,w=T();return(et,e)=>{var k,m,f,g,x,y,b,h;return a(),r("tr",{class:B(["group/sub-task-row h-20",{" bg-green-400/20":t.task.status=="COMPLETED"," bg-white hover:bg-slate-50":t.task.status!=="COMPLETED"}])},[s("td",V,[s("div",q,l(t.indexing),1)]),s("td",z,[s("div",I,[s("div",null,[s("div",O,[d(_,{titleClass:"text-sm text-blue-400 font-semibold",task:t.task,"sub-tasks-open":!1,isMyTask:c(w).name=="RequirementList",to:o=>`/requirement-tasks/${o.id}`},null,8,["task","isMyTask","to"])]),s("div",R,[s("div",A,l(t.task.id),1),s("div",S,[e[2]||(e[2]=s("i",{class:"fas fa-clock"},null,-1)),s("span",F,l(c($)(t.task.created_at)),1)]),s("div",U,[(k=t.task)!=null&&k.is_important?(a(),n(j,{key:0})):i("",!0),(m=t.task)!=null&&m.is_urgent?(a(),n(E,{key:1})):i("",!0)]),s("div",G,[e[3]||(e[3]=s("i",{class:"fas fa-tasks"},null,-1)),C(" "+l((f=t.task)==null?void 0:f.todos_count),1)])])]),!t.task.closed_at&&!t.hideButtons?(a(),r("a",{key:0,href:`/tasks/edit/${t.task.id}`,onClick:e[0]||(e[0]=p(o=>u("editClick",t.task.id),["stop","prevent"])),class:"btn-3 py-1.5 px-1.5 !border-0 size-7 text-sm opacity-40 group-hover/sub-task-row:opacity-100 duration-100"},e[4]||(e[4]=[s("i",{class:"fas fa-edit"},null,-1)]),8,H)):i("",!0)])]),s("td",J,[s("div",K,[d(N,{class:"flex items-center justify-center gap-x-3 gap-y-2",users:((g=t.task)==null?void 0:g.users)||[],isTargetTask:t.task.is_target,maxItem:1,"route-to":o=>`/requirement-tasks?status=not-completed&view=userwise&user-ids=${o.id}`},null,8,["users","isTargetTask","route-to"]),t.task.closed_at?i("",!0):(a(),r("div",Q,[t.hideButtons?i("",!0):(a(),r("a",{key:0,href:`/tasks/${t.task.id}/assign-users`,onClick:e[1]||(e[1]=p(o=>u("employeeAssignClick",t.task.id),["stop","prevent"])),class:"btn-3 py-1.5 px-1.5 !border-0 size-7 text-sm opacity-40 group-hover/sub-task-row:opacity-100 duration-100 flex-shrink-0"},e[5]||(e[5]=[s("i",{class:"fas fa-users-cog"},null,-1)]),8,W))]))])]),s("td",X,[t.task.deadline?(a(),r("span",Y,[s("span",Z,l(c(D)(t.task.deadline)),1)])):i("",!0)]),s("td",tt,[s("div",st,[t.task.closed_at?(a(),n(P,{key:0})):i("",!0),d(L,{status:(x=t.task)==null?void 0:x.status,progressPercent:((y=t.task)==null?void 0:y.progress_percent)||0,class:"w-full"},null,8,["status","progressPercent"]),((h=(b=t.task)==null?void 0:b.children_tasks)==null?void 0:h.length)>0?(a(),n(M,{key:1,ref:"progress",task:t.task,class:"text-sm w-full"},null,8,["task"])):i("",!0)])])],2)}}};export{nt as _};
