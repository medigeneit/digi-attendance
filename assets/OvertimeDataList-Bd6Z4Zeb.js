import{r as q,c as n,o,a as e,g as l,h as P,v as L,F as j,b as M,u as R,d as V,a2 as E,t as r,x as F,f as O,k as x}from"./index-Nb0dutxh.js";import{u as B}from"./overtime-BVrz5TOP.js";import{_ as z}from"./AcceptAndRejectHandler-BN038pZb.js";const G={key:0,class:"fixed inset-0 z-50 flex justify-center items-center bg-black/50"},W={class:"modal-card max-w-sm"},H={__name:"UpdateApprovalTime",props:{overtime:Object},setup(a){const c=a,b=B(),i=q(!1),d=q(parseInt(c.overtime.approval_overtime_hours||c.overtime.request_overtime_hours||"")),y=async()=>{if(!d.value)return alert("Please set approval time!");await b.updateApprovalTime(c.overtime.id,d.value),p()},p=()=>{i.value=!1};return(U,t)=>(o(),n(j,null,[e("i",{onClick:t[0]||(t[0]=u=>i.value=!i.value),class:"fa fa-edit cursor-pointer text-sky-600"}),i.value?(o(),n("div",G,[e("div",W,[t[2]||(t[2]=e("h3",{class:"title-lg"},"Update Approval Time",-1)),t[3]||(t[3]=e("hr",{class:"my-2"},null,-1)),P(e("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>d.value=u),type:"number",class:"input-1",required:""},null,512),[[L,d.value]]),t[4]||(t[4]=e("hr",{class:"my-2"},null,-1)),e("div",{class:"flex justify-between gap-2 mt-4"},[e("button",{class:"btn-3",onClick:p},"Cancel"),e("button",{class:"btn-2-green",onClick:y},"Update Time")])])])):l("",!0)],64))}},J={class:"space-y-4"},K={class:"card-bg p-4 gap-1"},Q={class:"flex flex-wrap gap-x-8 gap-y-2"},X={key:0,class:"text-gray-700"},Y={class:"ml-1"},Z={key:1,class:"text-gray-700"},ee={class:"ml-1"},te={key:2,class:"text-gray-700"},se={class:"ml-1"},re={key:3,class:"text-gray-700"},oe={class:"ml-1"},ae={key:4,class:"text-gray-700"},ne={class:"ml-1"},le={class:"overflow-x-auto"},de={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},ce={class:"border border-gray-300 px-2 text-center"},ie={class:"border border-gray-300 px-2 text-center"},ue={class:"border border-gray-300 px-2 text-center"},pe={class:"border border-gray-300 px-2 text-center"},xe={class:"border border-gray-300 px-2 text-center"},be={class:"border border-gray-300 px-2 text-center"},ye={class:"border border-gray-300 px-2 text-center"},ge={class:"border border-gray-300 px-2 text-center"},me={class:"border border-gray-300 px-2 text-center"},he={class:"flex items-center justify-center gap-4"},_e={class:"border border-gray-300 px-2 text-center"},ve={class:"border border-gray-300 px-2 text-center"},fe={class:"border border-gray-300 px-2 text-center"},ke={key:0},De={__name:"OvertimeDataList",props:{user:Object},setup(a){const c=M(),b=R(),i=V(),d=B(),y=E(),p=()=>{b.replace({path:c.path,query:{...c.query,t:Date.now()}})};return(U,t)=>{var u,g,m,h,_,v,f,k,S,w,A,D,N,T,C;return o(),n("div",J,[e("div",K,[e("div",Q,[(u=a.user)!=null&&u.employee_id?(o(),n("p",X,[t[0]||(t[0]=e("span",{class:"text-gray-400"},"Employee ID:",-1)),e("strong",Y,r(((g=a.user)==null?void 0:g.employee_id)||"N/A"),1)])):l("",!0),(m=a.user)!=null&&m.name?(o(),n("p",Z,[t[1]||(t[1]=e("span",{class:"text-gray-400"},"Name:",-1)),e("strong",ee,r((h=a.user)==null?void 0:h.name),1)])):l("",!0),(v=(_=a.user)==null?void 0:_.designation)!=null&&v.title?(o(),n("p",te,[t[2]||(t[2]=e("span",{class:"text-gray-400"},"Designation:",-1)),e("strong",se,r(((k=(f=a.user)==null?void 0:f.designation)==null?void 0:k.title)||"N/A"),1)])):l("",!0),(w=(S=a.user)==null?void 0:S.department)!=null&&w.name?(o(),n("p",re,[t[3]||(t[3]=e("span",{class:"text-gray-400"},"Department:",-1)),e("strong",oe,r(((D=(A=a.user)==null?void 0:A.department)==null?void 0:D.name)||"N/A"),1)])):l("",!0),(N=a.user)!=null&&N.phone?(o(),n("p",ae,[t[4]||(t[4]=e("span",{class:"text-gray-400"},"Phone:",-1)),e("strong",ne,r((T=a.user)==null?void 0:T.phone),1)])):l("",!0)])]),e("div",le,[e("table",de,[t[6]||(t[6]=e("thead",null,[e("tr",{class:"bg-gray-200 *:py-1"},[e("th",{class:"border border-gray-300 px-2 text-center"},"#"),e("th",{class:"border border-gray-300 px-2 text-center"},"Date"),e("th",{class:"border border-gray-300 px-2 text-center"},"Type"),e("th",{class:"border border-gray-300 px-2 text-center"},"Shift"),e("th",{class:"border border-gray-300 px-2 text-center"},"Check-In"),e("th",{class:"border border-gray-300 px-2 text-center"},"Check-Out"),e("th",{class:"border border-gray-300 px-2 text-center"},"Working (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Request (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Approved (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Details"),e("th",{class:"border border-gray-300 px-2 text-center"},"Status"),e("th",{class:"border border-gray-300 px-2 text-center"},"Action")])],-1)),e("tbody",null,[(o(!0),n(j,null,F(x(d).overtimes,(s,$)=>{var I;return o(),n("tr",{key:s==null?void 0:s.id,class:"border-b border-gray-200 hover:bg-blue-200 *:py-2"},[e("td",ce,r($+1),1),e("td",ie,r(new Date(s.date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})),1),e("td",ue,r(s.duty_type),1),e("td",pe,r(s.shift),1),e("td",xe,r(s.check_in||"N/A"),1),e("td",be,r(s.check_out||"N/A"),1),e("td",ye,r(s.working_hours||"-"),1),e("td",ge,r(parseInt(s.request_overtime_hours)||"-"),1),e("td",me,[e("div",he,[e("span",null,r(parseInt(s.approval_overtime_hours)||"-"),1),((I=x(i).user)==null?void 0:I.id)===8?(o(),O(H,{key:0,overtime:s},null,8,["overtime"])):l("",!0)])]),e("td",_e,r(s.work_details||""),1),e("td",ve,r(s.status||"Pending"),1),e("td",fe,[x(y).applicationApprovalPermissions[s.id]?(o(),O(z,{key:0,class:"ml-auto",notificationType:"overtime_applications",applicationId:s.id,onSuccess:p,variant:1},null,8,["applicationId"])):l("",!0)])])}),128)),((C=x(d).overtimes)==null?void 0:C.length)===0?(o(),n("tr",ke,t[5]||(t[5]=[e("td",{colspan:"100",class:"p-2 text-center text-red-500"},"No overtimes found",-1)]))):l("",!0)])])])])}}};export{De as _};
