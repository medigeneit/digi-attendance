import{N as v,s as b,b as g,x,c as a,e as r,t as u,l as f,m as y,n as L,o as i,a as s,h as o,k}from"./index-D74-o6rI.js";const N={class:"my-container"},w={key:0,class:"text-center text-gray-500"},A={key:1,class:"text-center text-red-500"},q={key:2,class:"grid gap-4 md:grid-cols-3 px-4"},R={class:"flex justify-between items-center gap-2"},S={key:0,class:"text-xs bg-teal-500 text-white rounded-full px-2 py-0.5 font-semibold"},j={class:"flex justify-between items-center gap-2"},V={key:0,class:"text-xs bg-yellow-500 text-white rounded-full px-2 py-0.5 font-semibold"},B={class:"flex justify-between items-center gap-2"},C={key:0,class:"text-xs bg-purple-500 text-white rounded-full px-2 py-0.5 font-semibold"},E={class:"flex justify-between items-center gap-2"},M={key:0,class:"text-xs bg-purple-700 text-white rounded-full px-2 py-0.5 font-semibold"},T={key:0,class:"text-xs bg-purple-700 text-white rounded-full px-2 py-0.5 font-semibold"},z={__name:"MyNotificationList",setup(D){const d=v(),{grouped_counts:e}=b(d);g(()=>{d.fetchNotifications()});const _=x(()=>d.notifications),h=x(()=>d.loading),m=x(()=>d.error);return x(()=>Array.isArray(_.value)?_.value.reduce((p,t)=>{var l;const n=((l=t.data)==null?void 0:l.event_type)||"other";return p[n]||(p[n]=[]),p[n].push(t),p},{}):{}),(p,t)=>{const n=L("RouterLink");return i(),a("div",N,[h.value?(i(),a("p",w,"Loading notifications...")):r("",!0),m.value?(i(),a("p",A,u(m.value),1)):r("",!0),!h.value&&!m.value?(i(),a("div",q,[f(n,{to:{name:"NotificationList",query:{type:"leaveApplication"}},class:"main-button"},{default:y(()=>[s("div",R,[t[0]||(t[0]=s("span",null,"ðŸ“„ Leave Applications",-1)),o(e).leaveApplication?(i(),a("span",S,u(o(e).leaveApplication),1)):r("",!0)])]),_:1}),f(n,{to:{name:"NotificationList",query:{type:"shortLeave"}},class:"main-button"},{default:y(()=>[s("div",j,[t[1]||(t[1]=s("span",null,"ðŸ•’ Short Leave",-1)),o(e).shortLeave?(i(),a("span",V,u(o(e).shortLeave),1)):r("",!0)])]),_:1}),f(n,{to:{name:"NotificationList",query:{type:"shift"}},class:"main-button"},{default:y(()=>[s("div",B,[t[2]||(t[2]=s("span",null,"ðŸ”„Shift Exchange Request",-1)),o(e).shift?(i(),a("span",C,u(o(e).shift),1)):r("",!0)])]),_:1}),f(n,{to:{name:"NotificationList",query:{type:"offday"}},class:"main-button"},{default:y(()=>{var l,c;return[s("div",E,[t[3]||(t[3]=s("span",null,"ðŸ”„ Offday Exchange Request",-1)),(l=o(e))!=null&&l.offday?(i(),a("span",M,u((c=o(e))==null?void 0:c.offday),1)):r("",!0)])]}),_:1}),f(n,{to:{name:"NotificationList",query:{type:"manualAttendance"}},class:"main-button"},{default:y(()=>{var l,c;return[t[4]||(t[4]=s("span",null,[s("i",{class:"fal fa-clipboard-user text-lg"}),k(" Manual Attendance Applications")],-1)),(l=o(e))!=null&&l.manualAttendance?(i(),a("span",T,u((c=o(e))==null?void 0:c.manualAttendance),1)):r("",!0)]}),_:1})])):r("",!0)])}}};export{z as default};
