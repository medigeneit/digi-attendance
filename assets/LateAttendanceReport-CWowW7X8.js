import{s as v,r as m,b as A,q as B,c as o,a as e,d as y,A as _,F as p,x as f,h as u,v as E,l as R,o as l,t as a,g as V,f as D}from"./index-DYVa8_n6.js";import{L as M}from"./LoaderView-DQux9VKi.js";import{u as N}from"./attendance-BFKbGv0N.js";import{u as T}from"./company-BoMs7g8-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"space-y-2 px-4"},j={class:"flex items-center gap-2"},q=["value"],I=["value"],z={key:0,class:"text-center py-4"},G={key:1,class:"space-y-4"},H={class:"overflow-x-auto"},J={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},K={class:"border border-gray-300 px-2"},O={class:"border border-gray-300 px-2"},P={class:"border border-gray-300 px-2"},Q={class:"border border-gray-300 px-2"},W={class:"border border-gray-300 px-2"},X={class:"border border-gray-300 px-2"},Y={class:"border border-gray-300 px-2"},Z={class:"border border-gray-300 px-2"},le={__name:"LateAttendanceReport",setup($){const h=V();D();const x=N(),c=T(),{dailyLateLogs:k,isLoading:w,selectedMonth:L}=v(x),{companies:S,employees:C}=v(c),r=m(L),n=m(""),d=m("");A(()=>{c.fetchCompanies()}),B(()=>n.value,async b=>{b&&await c.fetchEmployee(b)});const U=()=>{h.go(-1)},g=async()=>{n.value&&d&&r.value&&await x.getAttendanceLateReport(n.value,d.value,r.value)};return(b,s)=>(l(),o("div",F,[e("div",{class:"flex items-center justify-between gap-2"},[e("button",{class:"btn-3",onClick:U},s[3]||(s[3]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),s[4]||(s[4]=e("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Late Reports",-1)),s[5]||(s[5]=e("div",null,null,-1))]),e("div",j,[e("div",null,[y(e("select",{id:"user-filter","onUpdate:modelValue":s[0]||(s[0]=t=>n.value=t),class:"input-1"},[s[6]||(s[6]=e("option",{value:""},"Select Company",-1)),(l(!0),o(p,null,f(u(S),t=>(l(),o("option",{key:t.id,value:t.id},a(t.name),9,q))),128))],512),[[_,n.value]])]),e("div",null,[y(e("select",{id:"user-filter","onUpdate:modelValue":s[1]||(s[1]=t=>d.value=t),onChange:g,class:"input-1"},[s[7]||(s[7]=e("option",{value:"",disabled:""},"Select Employee",-1)),(l(!0),o(p,null,f(u(C),(t,i)=>(l(),o("option",{key:i,value:i},a(t),9,I))),128))],544),[[_,d.value]])]),e("div",null,[y(e("input",{id:"user-filter","onUpdate:modelValue":s[2]||(s[2]=t=>r.value=t),onChange:g,type:"month",class:"input-1"},null,544),[[E,r.value]])])]),u(w)?(l(),o("div",z,[R(M)])):(l(),o("div",G,[e("div",H,[e("table",J,[s[8]||(s[8]=e("thead",null,[e("tr",{class:"bg-gray-200"},[e("th",{class:"border border-gray-300 px-2 text-left"},"#"),e("th",{class:"border border-gray-300 px-2 text-left"},"Date"),e("th",{class:"border border-gray-300 px-2 text-left"},"Employee Name"),e("th",{class:"border border-gray-300 px-2 text-left"},"Company"),e("th",{class:"border border-gray-300 px-2 text-left"},"Department"),e("th",{class:"border border-gray-300 px-2 text-left"},"Entry Time"),e("th",{class:"border border-gray-300 px-2 text-left"},"Late Duration"),e("th",{class:"border border-gray-300 px-2 text-left"},"Shift")])],-1)),e("tbody",null,[(l(!0),o(p,null,f(u(k),(t,i)=>(l(),o("tr",{key:t.id,class:"border-b border-gray-200 hover:bg-blue-200"},[e("td",K,a(i+1),1),e("td",O,a(t==null?void 0:t.date),1),e("td",P,a((t==null?void 0:t.user_name)||"Unknown"),1),e("td",Q,a((t==null?void 0:t.company_name)||"Unknown"),1),e("td",W,a((t==null?void 0:t.department_name)||"Unknown"),1),e("td",X,a(t.entry_time),1),e("td",Y,a(t.late_duration),1),e("td",Z,a(t.shift_name),1)]))),128))])])])]))]))}};export{le as default};
