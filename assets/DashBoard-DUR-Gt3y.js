const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LeaveApplicationModal-BVhBDT3d.js","assets/index-CX-quJz4.js","assets/index-B7EDiRkv.css","assets/ApprovalItem-CXjS8fDc.js","assets/AcceptAndRejectHandler-Dg3-_Nkk.js","assets/LoaderView-Dd0RVms-.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/ShareComponent-B17-_rUV.js","assets/leave-application-Cikj2GCf.js","assets/LeaveApplicationModal-B7WJltA7.css","assets/ShortLeaveDetailsModal-B6_QkXBd.js","assets/ScreenshotCapture-CTsqg_Yb.js","assets/short-leave-DOD6u_R1.js","assets/ShortLeaveDetailsModal-D4avNQ1k.css","assets/ManualAttendanceDetailsModal-BG_2FhoN.js","assets/manual-attendance-dl0wMzdm.js","assets/ManualAttendanceDetailsModal-MS8n2gFL.css","assets/ShiftExchangeDetailsModal-BRQsYSxv.js","assets/exchange-CsqVoBEc.js","assets/ShiftExchangeDetailsModal-BlZsJzAI.css","assets/OffdayExchangeDetailsModal-Djob-F6D.js","assets/OffdayExchangeDetailsModal-jTt80Glg.css"])))=>i.map(i=>d[i]);
import{u as oe}from"./user-Drcvupj3.js";import{s as X,m as pe,c as r,o as n,n as M,i as L,a as e,j as C,t as x,k,p as ye,w,q as D,x as j,g as T,F as q,y as V,f as R,R as Te,z as ve,r as U,d as fe,e as xe,A as J,h as ne,B as Ae,b as ge,u as me,C as Q,D as H,E as le,G as Se,_ as ee}from"./index-CX-quJz4.js";import{L as Re}from"./LoaderView-Dd0RVms-.js";import{_ as Ne}from"./SearchInput-DMThlUin.js";import{o as de,g as re,a as ie,b as qe,c as Oe}from"./datetime-DcVwRp76.js";import{m as Ee}from"./task-tree-wODDhwOu.js";import{u as Pe}from"./useTaskStore-bJ5qiIyB.js";import{_ as Be,a as Ue}from"./TodoSection-B9m8Tbfb.js";import{_ as je}from"./TaskTreeViewWithSubTable-DI9bFci_.js";import{O as Ve}from"./OverlyModal-D8c2qu7c.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useTodoStore-IJb-T9tM.js";import"./url-CePbr-gY.js";import"./TodoCreateEditShow-De61mHRV.js";import"./UserChip-C2Plww9P.js";import"./DraggableList.vue_vue_type_script_setup_true_lang-DSkgwgIC.js";import"./DepartmentChip-BSyeSAi8.js";import"./TaskAssignedUsers-BLmQ1l-U.js";import"./TaskStatus-M-4qqOAD.js";import"./TaskTreeChildrenTable-BpVLYc4q.js";import"./TaskUrgentBadge-DiZ8vdd7.js";import"./TaskSupervisorAndEmployee-Csoqj7nB.js";const Fe={class:"grid gap-4 md:grid-cols-3 mt-4 container mx-auto"},Ie={class:"text-3xl"},We={class:"text-3xl"},ze={class:"text-3xl"},Ye={class:"text-3xl"},Ke={class:"text-3xl"},He={class:"text-3xl"},Ge={class:"text-3xl"},Je={class:"text-3xl"},Xe={class:"text-3xl"},Ze={__name:"DashboardAdminView",setup(_){const i=oe(),{dashboardInfo:y,selectedDate:v}=X(i);return(p,a)=>{const m=pe("RouterLink");return n(),r("div",Fe,[M(m,{to:{name:"TodayAttendanceReport",query:{status:"all"}},class:"main-button"},{default:L(()=>{var s;return[e("span",Ie,x((s=k(y))==null?void 0:s.totalUsers),1),a[0]||(a[0]=C(" Total Employees "))]}),_:1,__:[0]}),M(m,{to:{name:"TodayAttendanceReport",query:{status:"Present"}},class:"main-button"},{default:L(()=>{var s;return[e("span",We,x((s=k(y))==null?void 0:s.todayPresents),1),a[1]||(a[1]=C(" Today Present "))]}),_:1,__:[1]}),M(m,{to:{name:"TodayAttendanceReport",query:{status:"Absent"}},class:"main-button"},{default:L(()=>{var s;return[e("span",ze,x((s=k(y))==null?void 0:s.todayAbsents),1),a[2]||(a[2]=C(" Today Absent "))]}),_:1,__:[2]}),M(m,{to:{name:"LeaveApplicationsForDay",query:{applicationType:"today"}},class:"main-button"},{default:L(()=>{var s;return[e("span",Ye,x((s=k(y))==null?void 0:s.todayLeaves),1),a[3]||(a[3]=C(" Today Leave "))]}),_:1,__:[3]}),M(m,{to:{name:"LeaveApplicationsForDay",query:{applicationType:"tomorrow"}},class:"main-button"},{default:L(()=>{var s;return[e("span",Ke,x((s=k(y))==null?void 0:s.tomorrowLeaves),1),a[4]||(a[4]=C(" Tomorrow Leave "))]}),_:1,__:[4]}),M(m,{to:{name:"DateWiseShortLeaveList",query:{date:k(v)}},class:"main-button"},{default:L(()=>{var s;return[e("span",He,x((s=k(y))==null?void 0:s.todayShortLeaves),1),a[5]||(a[5]=C(" Today Short Leaves "))]}),_:1,__:[5]},8,["to"]),M(m,{to:{name:"DailyLateAttendanceReport",query:{date:k(v)}},class:"main-button"},{default:L(()=>{var s;return[e("span",Ge,x((s=k(y))==null?void 0:s.todayLateEntries),1),a[6]||(a[6]=C(" Today Late Report "))]}),_:1,__:[6]},8,["to"]),M(m,{to:{name:"PreviousAfterApplicationList",query:{applicationType:"prev",date:k(v)}},class:"main-button"},{default:L(()=>{var s;return[e("span",Je,x((s=k(y))==null?void 0:s.prevWeekLeaves),1),a[7]||(a[7]=C(" Leave history of previous week "))]}),_:1,__:[7]},8,["to"]),M(m,{to:{name:"PreviousAfterApplicationList",query:{applicationType:"after",date:k(v)}},class:"main-button"},{default:L(()=>{var s;return[e("span",Xe,x((s=k(y))==null?void 0:s.nextWeekLeaves),1),a[8]||(a[8]=C(" Upcoming leaves "))]}),_:1,__:[8]},8,["to"]),M(m,{to:{name:"TodoList",query:{applicationType:"after",date:k(v)}},class:"main-button"},{default:L(()=>a[9]||(a[9]=[C(" Todos ")])),_:1,__:[9]},8,["to"])])}}},ue=(_,i,y,v)=>{const p=new Date(v,y-1,i);return _.filter(a=>{const m=a.deadline?new Date(a.deadline):null,s=de(new Date);if(a.assigned_at){const o=de(new Date(a.assigned_at));if(p<o)return!1;let l=null;return a.completed_at&&(l=de(new Date(a.completed_at))),!(l&&l<p||m&&m<p&&p>s)}return!1}).map(a=>{let m=!1;return a.deadline&&(m=new Date(a.deadline)<p),{...a,deadline_crossed:m}})},Qe={class:"px-4 py-2 flex items-center bg-gray-50 group"},et=["disabled"],tt={class:"ml-4 md:ml-auto flex items-center gap-2"},st=["value"],nt=ye({__name:"DailyTaskHeading",props:{selectedDay:{type:String,required:!0},loading:{type:Boolean,default:!1}},emits:["change",,"reloadClick","monthWiseButtonClick"],setup(_,{emit:i}){const y=_,v=i;function p(){v("change",re(new Date))}function a(){const s=new Date(y.selectedDay);s.setDate(s.getDate()+1),v("change",re(s))}function m(){const s=new Date(y.selectedDay);s.setDate(s.getDate()-1),v("change",re(s))}return(s,o)=>(n(),r("div",Qe,[o[4]||(o[4]=e("h2",{class:"leading-none font-semibold text-lg"},"Daily Task",-1)),e("button",{class:"btn-3 mx-4 h-7",onClick:o[0]||(o[0]=w(l=>v("monthWiseButtonClick"),["prevent"]))},"Month Wise"),e("button",{class:"btn-3 mx-4 h-7",onClick:w(p,["prevent"])},"Today"),e("button",{class:D(["btn-3 px-2 py-2 mx-4 size-7 disabled:text-gray-300 disabled:border-gray-300",{"animate-spin text-gray-300 border-gray-300 !bg-opacity-0":_.loading}]),onClick:o[1]||(o[1]=w(l=>v("reloadClick"),["prevent"])),disabled:_.loading},o[3]||(o[3]=[e("i",{class:"fas fa-redo-alt"},null,-1)]),10,et),e("div",tt,[e("button",{class:"btn-2 h-7",onClick:w(m,["prevent"])},"Previous Day"),e("button",{class:"btn-2 h-7",onClick:w(a,["prevent"])},"Next Day"),e("input",{type:"date",value:_.selectedDay,onInput:o[2]||(o[2]=l=>{var g;return v("change",(g=l.target)==null?void 0:g.value)}),class:"border px-2 rounded"},null,40,st)])]))}}),ot={class:"px-4 py-2 flex items-center bg-gray-50 group"},at=["disabled"],lt={class:"ml-4 md:ml-auto flex items-center gap-2"},rt=["value"],it=ye({__name:"MonthlyTaskHeading",props:{selectedMonth:{type:String,required:!0},loading:{type:Boolean,default:!1}},emits:["reloadClick","dayWiseButtonClick","change"],setup(_,{emit:i}){const y=_,v=i;function p(){v("change",ie(new Date))}function a(){var g;const[s,o]=(g=y.selectedMonth)==null?void 0:g.split("-").map(Number),l=new Date(s,o,1);l.setMonth(l.getMonth()),v("change",ie(l))}function m(){var g;const[s,o]=(g=y.selectedMonth)==null?void 0:g.split("-").map(Number),l=new Date(s,o,1);l.setMonth(l.getMonth()-2),v("change",ie(l))}return(s,o)=>(n(),r("div",ot,[o[4]||(o[4]=e("h2",{class:"leading-none font-semibold text-lg"},"Monthly Task",-1)),e("button",{class:"btn-3 mx-4 h-7",onClick:o[0]||(o[0]=w(l=>v("dayWiseButtonClick"),["prevent"]))},"Day Wise"),e("button",{class:"btn-3 mx-4 h-7",onClick:w(p,["prevent"])},"Current Month"),e("button",{class:D(["btn-3 px-2 py-2 mx-4 size-7 disabled:text-gray-300 disabled:border-gray-300",{"animate-spin text-gray-300 border-gray-300 !bg-opacity-0":_.loading}]),onClick:o[1]||(o[1]=w(l=>v("reloadClick"),["prevent"])),disabled:_.loading},o[3]||(o[3]=[e("i",{class:"fas fa-redo-alt"},null,-1)]),10,at),e("div",lt,[e("button",{class:"btn-2 h-7",onClick:w(m,["prevent"])},"Previous Month"),e("button",{class:"btn-2 h-7",onClick:w(a,["prevent"])},"Next Month"),e("input",{type:"month",value:_.selectedMonth,onInput:o[2]||(o[2]=l=>{var g;return v("change",(g=l.target)==null?void 0:g.value)}),class:"border px-2 rounded"},null,40,rt)])]))}}),dt={key:0,class:"space-y-6 py-2"},ut={key:0,class:"fad fa-folder text-xs mr-2"},ct={key:1,class:"fad fa-file-alt text-xs mr-2"},pt={key:2,class:"text-center w-full mt-4 text-xs text-gray-600"},ce={__name:"TaskListOnDay",props:{isCurrentMonth:{type:Boolean,default:!1},tasks:{type:Array,default:()=>[]},limit:{type:Number,default:null},tree:{type:Boolean,default:!1}},emits:["clickOnMore"],setup(_,{emit:i}){const y=_,v=i,p=j(()=>{var a;return y.limit?((a=y==null?void 0:y.tasks)==null?void 0:a.slice(0,y.limit))||[]:[...y.tasks]});return(a,m)=>(n(),r("div",null,[_.tree?(n(),r("div",dt,[(n(!0),r(q,null,V(p.value,(s,o)=>(n(),R(je,{"hide-buttons":"","hide-assigned-users":"",task:s,key:s.id,index:o,class:"shadow hover:shadow-md border border-blue-300 rounded-md *:border-none"},null,8,["task","index"]))),128))])):(n(),r("ul",{key:1,class:D({"text-gray-500 group-hover:text-gray-900":!_.isCurrentMonth})},[(n(!0),r(q,null,V(p.value,s=>(n(),r("li",{class:"mb-2",key:s.id},[M(k(Te),{to:`/tasks/${s.id}`,target:"_blank",class:"flex items-center hover:underline hover:text-blue-600"},{default:L(()=>[s.children_task_count>0?(n(),r("i",ut)):T("",!0),s.children_task_count==0?(n(),r("i",ct)):T("",!0),e("span",{class:D(["line-clamp-1",{"text-red-800":s.deadline_crossed}])},x(s.title),3)]),_:2},1032,["to"])]))),128))],2)),_.tasks.length-p.value.length>0?(n(),r("div",pt,[e("button",{onClick:m[0]||(m[0]=w(s=>v("clickOnMore",s),["prevent"])),class:"text-blue-600 hover:underline"}," +"+x(_.tasks.length-p.value.length)+" More Tasks ",1)])):T("",!0)]))}},mt={class:"relative"},yt={class:"ml-auto"},vt=["onClick"],ft={key:0,class:"absolute inset-0 bg-gray-300 bg-opacity-90"},xt={class:"absolute inset-16 bg-white border border-blue-500 rounded-md z-20 overflow-y-auto"},gt={class:"text-lg font-semibold mb-4 sticky top-0 border-b border-blue-200 px-4 z-30 py-3 bg-white flex items-center"},bt={__name:"TaskInMonth",props:{month:{type:String,required:!0,validator:_=>/^\d{4}-(0[1-9]|1[0-2])$/.test(_)},tasks:{type:Array,required:!0,default:()=>[]}},setup(_){const i=ve({day:null,month:null,year:null});function y(s){s.stopPropagation(),i.day=null,i.month=null,i.year=null}function v(s,o,l,g){s.stopPropagation(),i.day=o,i.month=l,i.year=g}const p=(s,o,l)=>{const g=new Date;return s===g.getDate()&&o===g.getMonth()+1&&l===g.getFullYear()},a=(s,o,l)=>s===i.day&&o===i.month&&l===i.year,m=(s,o,l,g)=>{const A=p(s,o,l);return{"bg-green-100 text-green-900 border-blue-500 border-2 scale-105 z-10":A,"border-r border-t hover:border border-blue-200  hover:scale-105 hover:z-20 hover:bg-blue-50":!A,"bg-gray-50":!g}};return(s,o)=>(n(),r("div",mt,[_.month?(n(),R(Be,{key:0,month:_.month,class:"border-t border-blue-200/50 relative"},{date:L(({day:l,month:g,year:A,isCurrentMonth:h})=>[e("div",{tabindex:"0",class:D(["transition origin-center p-2 outline-blue-600 outline-1 cursor-pointer",m(l,g,A,h)])},[e("div",{class:D(["font-bold w-full flex items-center",{"text-gray-300":!h}])},[e("div",null,x(l),1),e("div",yt,[a(l,g,A)?T("",!0):(n(),r("button",{key:0,class:"btn-icon",onClick:w(d=>v(d,l,g,A),["prevent"])},o[0]||(o[0]=[e("i",{class:"fas fa-expand-arrows text-gray-400 hover:text-gray-600"},null,-1)]),8,vt))])],2),M(ce,{"is-current-month":h,tasks:k(ue)(_.tasks,l,g,A),limit:3,class:"text-xs mt-4",onClickOnMore:d=>v(d,l,g,A)},null,8,["is-current-month","tasks","onClickOnMore"])],2)]),"calender-bottom":L(()=>[i.day?(n(),r("div",ft,[e("div",xt,[e("div",gt,[C(" Tasks for "+x(i.day)+"/"+x(i.month)+"/"+x(i.year)+" ",1),e("button",{class:"ml-auto",type:"button",onClick:w(y,["prevent"])},o[1]||(o[1]=[e("i",{class:"fas fa-times"},null,-1)]))]),M(ce,{class:"p-4","is-current-month":s.isCurrentMonth,tasks:k(ue)(_.tasks,i.day,i.month,i.year),tree:!0},null,8,["is-current-month","tasks"])])])):T("",!0)]),_:1},8,["month"])):T("",!0)]))}},ht={class:"bg-opacity-90 relative"},_t={class:"rounded-md z-20"},kt={class:"text-md sticky top-0 border-b px-4 z-30 py-3 bg-white flex items-center shadow"},wt={class:"flex justify-between items-center gap-6 w-full"},$t={key:0,class:"text-blue-800 bg-blue-100 rounded-full border px-4 py-0.5 text-sm"},Dt={key:1,class:"text-blue-800 bg-blue-100 rounded-full border px-4 py-0.5 text-sm"},Ct={class:"ml-auto flex items-center gap-2"},Mt={key:0,class:"w-32 relative h-8"},Lt={__name:"DailyTask",setup(_){const i=ve({day:null,month:null,year:null}),y=U(),v=U(),p=U("loading"),a=Pe(),m=fe(),s=U(""),o=U("day-wise"),l=U("not-completed");xe(()=>{y.value=re(new Date),v.value=ie(new Date)}),J(y,d=>{const[c,b,O]=d.split("-").map(Number);i.day=O,i.month=b,i.year=c}),J(v,d=>{const[c,b]=d.split("-").map(Number);i.day=1,i.month=b,i.year=c}),J(()=>i.month,async()=>{p.value="loading",await g(),p.value=""}),J(o,d=>{if(d=="month-wise"){const[c,b]=y.value.split("-");v.value=`${c}-${b}`}});async function g(){await a.fetchMyTasks()}const A=async()=>{p.value="loading",await g(),p.value=""},h=j(()=>{var b,O;const d=S=>{var N,W;return s.value?(W=S==null?void 0:S.toUpperCase())==null?void 0:W.includes((N=s.value)==null?void 0:N.toUpperCase()):!0},c=o.value=="day-wise"?{"user-ids":(b=m==null?void 0:m.user)==null?void 0:b.id,status:l.value}:{"user-ids":(O=m==null?void 0:m.user)==null?void 0:O.id};return Ee(ue(a.tasks,i.day,i.month,i.year),c).filter(S=>{var N;return d(S.title)||((N=S.children_tasks)==null?void 0:N.some(W=>d(W==null?void 0:W.title)))}).map(S=>({...S,children_tasks:S.children_tasks.filter(N=>d(N.title))}))});return(d,c)=>(n(),r("div",null,[o.value=="day-wise"?(n(),R(nt,{key:0,loading:p.value=="loading","selected-day":y.value,onChange:c[0]||(c[0]=b=>y.value=b),onReloadClick:A,onMonthWiseButtonClick:c[1]||(c[1]=b=>o.value="month-wise")},null,8,["loading","selected-day"])):T("",!0),o.value=="month-wise"?(n(),R(it,{key:1,loading:p.value=="loading","selected-month":v.value,onChange:c[2]||(c[2]=b=>v.value=b),onDayWiseButtonClick:c[3]||(c[3]=b=>o.value="day-wise"),onReloadClick:A},null,8,["loading","selected-month"])):T("",!0),e("div",ht,[e("div",_t,[e("div",kt,[e("div",wt,[o.value=="day-wise"?(n(),r("div",$t,x(k(qe)(y.value)),1)):T("",!0),o.value=="month-wise"?(n(),r("div",Dt,x(k(Oe)(v.value)),1)):T("",!0),e("div",Ct,[o.value=="day-wise"?(n(),r("div",Mt,[c[7]||(c[7]=e("label",{class:"absolute text-xs left-3 -top-1.5 bg-slate-100 text-blue-500"},"Status",-1)),ne(e("select",{"onUpdate:modelValue":c[4]||(c[4]=b=>l.value=b),class:"h-8 text-xs px-2 text-gray-600 border-2 border-gray-400 rounded-md w-full"},c[6]||(c[6]=[e("option",{value:""},"--ALL TASKS--",-1),e("option",{value:"not-completed"},"Not Completed",-1)]),512),[[Ae,l.value]])])):T("",!0),M(Ne,{modelValue:s.value,"onUpdate:modelValue":c[5]||(c[5]=b=>s.value=b),class:"w-full md:w-48 md:ml-auto h-8","debounce-time":0},null,8,["modelValue"])])])]),o.value=="day-wise"?(n(),R(ce,{key:0,class:"p-4 overflow-y-auto",tasks:h.value,tree:!0},null,8,["tasks"])):o.value=="month-wise"?(n(),R(bt,{key:1,tasks:h.value||[],month:v.value,class:"bg-gray-50"},null,8,["tasks","month"])):T("",!0)]),p.value==="loading"?(n(),R(Re,{key:0,class:"absolute inset-0 flex items-center justify-center z-20 bg-opacity-70"})):T("",!0)])]))}},Tt={class:"bg-white shadow-md rounded-lg"},At={class:"overflow-x-auto shadow-md min-h-max"},St={class:"min-w-full text-sm text-left text-gray-500 table-fixed"},Rt={class:"text-xs"},Nt={class:"text-sm font-semibold text-blue-800"},qt={__name:"DashboardLeaveBalance",setup(_){const i=oe(),{userDashboard:y}=X(i);return(v,p)=>{var a,m,s,o;return n(),r("div",Tt,[p[4]||(p[4]=e("h2",{class:"text-xl font-semibold py-2 px-4"},"Leave Balance",-1)),e("div",At,[e("table",St,[e("thead",null,[e("tr",Rt,[p[0]||(p[0]=e("th",{class:"px-2 py-1 font-semibold text-gray-900 border bg-gray-50"},null,-1)),(n(!0),r(q,null,V((a=k(y))==null?void 0:a.leave_balance,l=>(n(),r("th",{class:"px-4 text-center py-1 font-semibold text-gray-900 border bg-gray-50 w-40",key:l.id},x(l.name),1))),128))])]),e("tbody",null,[e("tr",null,[p[1]||(p[1]=e("td",{class:"px-4 py-4 font-medium text-gray-900 border text-xs"},"Total",-1)),(n(!0),r(q,null,V((m=k(y))==null?void 0:m.leave_balance,l=>(n(),r("td",{class:"px-4 text-center py-3 font-medium text-gray-900 border",key:l.id},x(l.annual_quota),1))),128))]),e("tr",null,[p[2]||(p[2]=e("td",{class:"px-4 py-3 font-medium text-gray-900 border text-xs"},"Used",-1)),(n(!0),r(q,null,V((s=k(y))==null?void 0:s.leave_balance,l=>(n(),r("td",{class:"px-4 text-center py-4 font-medium text-gray-900 border",key:l.id},x(l.used_days),1))),128))]),e("tr",Nt,[p[3]||(p[3]=e("td",{class:"px-4 py-3 border text-xs"},"Balance",-1)),(n(!0),r(q,null,V((o=k(y))==null?void 0:o.leave_balance,l=>(n(),r("td",{class:"px-4 text-center py-4 border",key:l.id},x(l.remaining_days),1))),128))])])])])])}}},Ot={class:"flex items-center gap-2 mr-2"},Et=["onClick"],Pt=["onClick"],Bt={__name:"DashboardMyTodoList",setup(_){const i=ge(),y=me();function v(p){y.push({query:{...i.query,"todos[type]":p.type,"todos[year]":p.year,"todos[month]":p.month,"todos[day]":p.day}})}return(p,a)=>(n(),R(Ue,{type:k(i).query["todos[type]"],year:k(i).query["todos[year]"],month:k(i).query["todos[month]"],day:k(i).query["todos[day]"],userRole:"employee",onChangeInput:v},{beforeHeader:L(()=>a[0]||(a[0]=[e("h2",{class:"text-md font-medium"},"Todo List",-1)])),typeSelection:L(({types:m,changeType:s,selected:o})=>{var l,g,A,h;return[e("div",Ot,[e("button",{onClick:w(d=>{var c;return s((c=m[0])==null?void 0:c.value)},["prevent"]),class:D(["rounded text-sm h-[32px] w-20",(o==null?void 0:o.type)==((l=m[0])==null?void 0:l.value)?"btn-2":"btn-3"])},x((g=m[0])==null?void 0:g.label),11,Et),e("button",{onClick:w(d=>{var c;return s((c=m[1])==null?void 0:c.value)},["prevent"]),class:D(["rounded text-sm h-[32px] w-20",(o==null?void 0:o.type)==((A=m[1])==null?void 0:A.value)?"btn-2 ":"btn-3"])},x((h=m[1])==null?void 0:h.label),11,Pt)])]}),_:1},8,["type","year","month","day"]))}},Ut={class:"bg-white shadow-sm rounded-xl p-4"},jt=["aria-expanded"],Vt={class:"flex items-center gap-3"},Ft={key:0,class:"text-xs italic text-center py-4 text-gray-500 mt-2"},It={key:1,class:"py-3 divide-y divide-gray-100"},Wt=["onClick"],zt={class:"flex justify-between items-center py-2 rounded hover:bg-sky-50/60 transition-colors"},Yt={class:"text-sm text-gray-900 min-w-0"},Kt={class:"font-medium"},Ht={class:"opacity-70"},Gt={key:0,class:"fas fa-clock mr-1.5"},Jt={key:1,class:"fas fa-hourglass-half mr-1.5"},Xt={key:2,class:"fas fa-check-circle mr-1.5"},Zt={key:3,class:"fas fa-times-circle mr-1.5"},Qt={class:"mb-1 text-gray-700 flex flex-wrap items-center gap-x-2.5 gap-y-1"},es=["title"],ts={class:"truncate max-w-[9.5rem] sm:max-w-none"},ss={class:"truncate max-w-[9.5rem] sm:max-w-none"},ns={key:1,class:"truncate max-w-[10rem] sm:max-w-none"},os=["title"],as={class:"mt-6"},ls=["aria-expanded"],rs={class:"flex items-center gap-3"},is={key:0,class:"text-xs italic text-center py-4 text-gray-500 mt-2"},ds={key:1,class:"py-3 divide-y divide-gray-100"},us=["onClick"],cs={class:"flex justify-between items-center py-2 rounded hover:bg-sky-50/60 transition-colors"},ps={class:"text-sm text-gray-900 min-w-0"},ms={class:"opacity-80"},ys={class:"mt-6"},vs=["aria-expanded"],fs={class:"flex items-center gap-3"},xs={key:0,class:"text-xs italic text-center py-4 text-gray-500 mt-2"},gs={key:1,class:"py-3 divide-y divide-gray-100"},bs=["onClick"],hs={class:"flex justify-between items-center py-2 rounded hover:bg-sky-50/60 transition-colors"},_s={class:"text-sm text-gray-900 min-w-0"},ks={class:"opacity-80"},ws={class:"mt-6"},$s=["aria-expanded"],Ds={class:"flex items-center gap-3"},Cs={key:0,class:"text-xs italic text-center py-4 text-gray-500 mt-2"},Ms={key:1,class:"py-3 divide-y divide-gray-100"},Ls=["onClick"],Ts={class:"flex justify-between items-center py-2 rounded hover:bg-sky-50/60 transition-colors"},As={class:"text-sm text-gray-900 min-w-0"},Ss={class:"opacity-80"},te="inline-flex items-center rounded-full border px-2 py-0.5 text-[12px]",se="border-gray-300 bg-gray-50 text-gray-800",Rs={__name:"DashboardRecentApplications",setup(_){const i=Q(()=>ee(()=>import("./LeaveApplicationModal-BVhBDT3d.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),y=Q(()=>ee(()=>import("./ShortLeaveDetailsModal-B6_QkXBd.js"),__vite__mapDeps([10,1,2,3,4,5,6,11,7,12,13]))),v=Q(()=>ee(()=>import("./ManualAttendanceDetailsModal-BG_2FhoN.js"),__vite__mapDeps([14,1,2,3,4,5,6,7,15,16]))),p=Q(()=>ee(()=>import("./ShiftExchangeDetailsModal-BRQsYSxv.js"),__vite__mapDeps([17,1,2,3,4,5,6,11,7,18,19]))),a=Q(()=>ee(()=>import("./OffdayExchangeDetailsModal-Djob-F6D.js"),__vite__mapDeps([20,1,2,3,4,5,6,11,7,18,21]))),m=oe(),{userDashboard:s}=X(m),o=j(()=>{var f;return((f=s.value)==null?void 0:f.lists)??{}}),l=j(()=>o.value.current_month_leave??[]),g=j(()=>o.value.short_leave??[]),A=j(()=>o.value.exchange??[]),h=j(()=>o.value.manual_attendance??[]),d={null:{title:"Handover Waiting",cls:"bg-gray-500 text-white"},Pending:{title:"Pending",cls:"bg-yellow-500 text-white"},Approved:{title:"Approved",cls:"bg-green-500 text-white"},Rejected:{title:"Rejected",cls:"bg-red-500 text-white"}},c=f=>d[f??"null"]??{title:String(f||"Unknown"),cls:"bg-gray-400 text-white"},b=f=>Array.isArray(f)?f.filter(t=>t==null?void 0:t.name).map(t=>`${t.name} (${(t==null?void 0:t.days)??0})`).join(", "):"",O=U({open:!1,id:null}),S=U({open:!1,id:null}),N=U({open:!1,id:null}),W=f=>{O.value={open:!0,id:f}},be=f=>{S.value={open:!0,id:f}},he=f=>{N.value={open:!0,id:f}},Y=U({open:!1,id:null,type:null}),_e=f=>{const t=(f==null?void 0:f.exchange_type)==="offday"?"offday":"shift";Y.value={open:!0,id:f.id,type:t}},ke=j(()=>Y.value.type==="offday"?a:p),we=j(()=>`${Y.value.type||"x"}-${Y.value.id||"x"}`);function $e(f){if(!f)return null;const t=String(f).trim();let $=t.match(/^(\d{4})-(\d{2})-(\d{2})$/);return $?new Date(+$[1],+$[2]-1,+$[3],0,0,0):($=t.match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})(?::(\d{2}))?$/),$?new Date(+$[1],+$[2]-1,+$[3],+$[4],+$[5],+($[6]||0)):null)}function F(f){const t=$e(f);return t?t.toLocaleDateString(void 0,{day:"2-digit",month:"short",year:"numeric"}):""}function De(f){const t=String(f||"").match(/^(\d{4})-(\d{2})-(\d{2})$/);return t?new Date(+t[1],+t[2]-1,+t[3],0,0,0):null}function Ce(f,t){const $=new Date(f);return $.setDate($.getDate()+t),$}function Me(f,t){return f&&t&&f.getFullYear()===t.getFullYear()&&f.getMonth()===t.getMonth()&&f.getDate()===t.getDate()}function ae(f){const t=f.getFullYear(),$=String(f.getMonth()+1).padStart(2,"0"),u=String(f.getDate()).padStart(2,"0");return`${t}-${$}-${u}`}function Le(f){const t=Array.isArray(f)?f.slice():[],$=E=>Array.from(new Set(E)).sort(),u=$(t.filter(E=>(E==null?void 0:E.leave_type_id)!=="weekend").map(E=>E.date).filter(Boolean)),z=$(t.filter(E=>(E==null?void 0:E.leave_type_id)==="weekend").map(E=>E.date).filter(Boolean)),B=[];let K=null,G=null;for(const E of u){const Z=De(E);if(Z){if(!K){K=G=Z;continue}Me(Ce(G,1),Z)?G=Z:(B.push({from:ae(K),to:ae(G)}),K=G=Z)}}return K&&G&&B.push({from:ae(K),to:ae(G)}),{ranges:B,weekends:z,leaveCount:u.length}}const P=U({apps:!0,short:!0,exch:!0,manual:!0}),I=f=>{P.value[f]=!P.value[f]};return(f,t)=>{const $=pe("RouterLink");return n(),r("div",Ut,[e("section",null,[e("header",{class:"flex items-center justify-between mb-1 cursor-pointer select-none",role:"button","aria-expanded":P.value.apps,onClick:t[1]||(t[1]=u=>I("apps")),onKeydown:[t[2]||(t[2]=H(w(u=>I("apps"),["prevent"]),["enter"])),t[3]||(t[3]=H(w(u=>I("apps"),["prevent"]),["space"]))],tabindex:"0"},[t[22]||(t[22]=e("div",{class:"flex items-center gap-2"},[e("i",{class:"fas fa-file h-5 w-5 text-gray-600"}),e("h2",{class:"text-lg font-semibold text-gray-900"},[C("Applications "),e("span",{class:"text-xs ml-2 text-green-600 font-medium"},"Latest")])],-1)),e("div",Vt,[M($,{to:{name:"MyLeaveApplications"},class:"text-xs text-blue-600 hover:underline",onClick:t[0]||(t[0]=w(()=>{},["stop"]))},{default:L(()=>t[21]||(t[21]=[C(" See more ")])),_:1,__:[21]}),e("i",{class:D(["fas fa-chevron-down text-gray-600 transition-transform duration-200",P.value.apps?"rotate-180":""]),"aria-hidden":"true"},null,2)])],40,jt),ne(e("div",null,[t[26]||(t[26]=e("hr",{class:"border-gray-200"},null,-1)),l.value.length===0?(n(),r("div",Ft," No applications ")):(n(),r("div",It,[(n(!0),r(q,null,V(l.value,u=>(n(),r("button",{key:u.id,class:"block w-full text-left",onClick:z=>W(u.id)},[e("div",zt,[e("h3",Yt,[e("span",Kt,"#"+x(u.id),1),e("span",Ht," ("+x(b(u.leave_type_counts))+")",1)]),e("span",{class:D(["font-medium flex items-center whitespace-nowrap text-[11px] px-2 py-0.5 rounded-full",c(u.status).cls])},[u.status===null?(n(),r("i",Gt)):u.status==="Pending"?(n(),r("i",Jt)):u.status==="Approved"?(n(),r("i",Xt)):(n(),r("i",Zt)),C(" "+x(c(u.status).title),1)],2)]),e("div",Qt,[(n(!0),r(q,null,V([Le(u.json_data)],z=>(n(),r(q,{key:"info-"+u.id},[z.leaveCount>1?(n(!0),r(q,{key:0},V(z.ranges,(B,K)=>(n(),r("span",{key:K,class:D([te,se]),title:B.from===B.to?F(B.from):F(B.from)+" – "+F(B.to)},[t[24]||(t[24]=e("i",{class:"far fa-calendar-minus mr-1"},null,-1)),B.from!==B.to?(n(),r(q,{key:0},[e("span",ts,x(F(B.from)),1),t[23]||(t[23]=e("span",{class:"mx-1"},"–",-1)),e("span",ss,x(F(B.to)),1)],64)):(n(),r("span",ns,x(F(B.from)),1))],10,es))),128)):(n(),r(q,{key:1},[z.ranges[0]?(n(),r("span",{key:0,class:D([te,se]),title:F(z.ranges[0].from)},[t[25]||(t[25]=e("i",{class:"far fa-calendar-day mr-1"},null,-1)),C(" "+x(F(z.ranges[0].from)),1)],10,os)):T("",!0)],64))],64))),128))])],8,Wt))),128))]))],512),[[le,P.value.apps]])]),e("section",as,[e("header",{class:"flex items-center justify-between mb-1 cursor-pointer select-none",role:"button","aria-expanded":P.value.short,onClick:t[5]||(t[5]=u=>I("short")),onKeydown:[t[6]||(t[6]=H(w(u=>I("short"),["prevent"]),["enter"])),t[7]||(t[7]=H(w(u=>I("short"),["prevent"]),["space"]))],tabindex:"0"},[t[28]||(t[28]=e("div",{class:"flex items-center gap-2"},[e("i",{class:"fas fa-walking h-5 w-5 text-gray-600"}),e("h2",{class:"text-base font-semibold text-gray-900"},"Short Leave")],-1)),e("div",rs,[M($,{to:{name:"MyShortLeaves"},class:"text-xs text-blue-600 hover:underline",onClick:t[4]||(t[4]=w(()=>{},["stop"]))},{default:L(()=>t[27]||(t[27]=[C(" See more ")])),_:1,__:[27]}),e("i",{class:D(["fas fa-chevron-down text-gray-600 transition-transform duration-200",P.value.short?"rotate-180":""]),"aria-hidden":"true"},null,2)])],40,ls),ne(e("div",null,[t[29]||(t[29]=e("hr",{class:"border-gray-200"},null,-1)),g.value.length===0?(n(),r("div",is," No short leave ")):(n(),r("div",ds,[(n(!0),r(q,null,V(g.value,u=>(n(),r("button",{key:u.id,class:"w-full text-left",onClick:z=>be(u.id)},[e("div",cs,[e("h3",ps,[e("span",{class:D([te,se,"text-xs mr-1"])},x(F(u.date)),3),e("span",ms,"("+x(u.type||"—")+")",1)]),e("span",{class:D(["text-[11px] px-2 py-0.5 rounded-full",c(u.status).cls])},x(c(u.status).title),3)])],8,us))),128))]))],512),[[le,P.value.short]])]),e("section",ys,[e("header",{class:"flex items-center justify-between mb-1 cursor-pointer select-none",role:"button","aria-expanded":P.value.exch,onClick:t[10]||(t[10]=u=>I("exch")),onKeydown:[t[11]||(t[11]=H(w(u=>I("exch"),["prevent"]),["enter"])),t[12]||(t[12]=H(w(u=>I("exch"),["prevent"]),["space"]))],tabindex:"0"},[t[32]||(t[32]=e("div",{class:"flex items-center gap-2"},[e("i",{class:"fas fa-exchange-alt h-5 w-5 text-gray-600"}),e("h2",{class:"text-base font-semibold text-gray-900"},"Exchange")],-1)),e("div",fs,[M($,{to:{name:"MyShiftExchangeList"},class:"text-xs text-blue-600 hover:underline",onClick:t[8]||(t[8]=w(()=>{},["stop"]))},{default:L(()=>t[30]||(t[30]=[C(" Shift ")])),_:1,__:[30]}),M($,{to:{name:"MyOffdayExchangeList"},class:"text-xs text-blue-600 hover:underline",onClick:t[9]||(t[9]=w(()=>{},["stop"]))},{default:L(()=>t[31]||(t[31]=[C(" Offday ")])),_:1,__:[31]}),e("i",{class:D(["fas fa-chevron-down text-gray-600 transition-transform duration-200",P.value.exch?"rotate-180":""]),"aria-hidden":"true"},null,2)])],40,vs),ne(e("div",null,[t[33]||(t[33]=e("hr",{class:"border-gray-200"},null,-1)),A.value.length===0?(n(),r("div",xs," No exchange ")):(n(),r("div",gs,[(n(!0),r(q,null,V(A.value,u=>(n(),r("button",{key:u.id,class:"block w-full text-left",onClick:z=>_e(u)},[e("div",hs,[e("h3",_s,[e("span",{class:D([te,se,"text-xs mr-1"])},x(F(u.current_date)),3),e("span",ks,"("+x(u.exchange_type||"—")+")",1)]),e("span",{class:D(["text-[11px] px-2 py-0.5 rounded-full",c(u.status).cls])},x(c(u.status).title),3)])],8,bs))),128))]))],512),[[le,P.value.exch]])]),e("section",ws,[e("header",{class:"flex items-center justify-between mb-1 cursor-pointer select-none",role:"button","aria-expanded":P.value.manual,onClick:t[14]||(t[14]=u=>I("manual")),onKeydown:[t[15]||(t[15]=H(w(u=>I("manual"),["prevent"]),["enter"])),t[16]||(t[16]=H(w(u=>I("manual"),["prevent"]),["space"]))],tabindex:"0"},[t[35]||(t[35]=e("div",{class:"flex items-center gap-2"},[e("i",{class:"fas fa-user-check h-5 w-5 text-gray-600"}),e("h2",{class:"text-base font-semibold text-gray-900"},"Manual Attendance")],-1)),e("div",Ds,[M($,{to:{name:"MyManualAttendanceList"},class:"text-xs text-blue-600 hover:underline",onClick:t[13]||(t[13]=w(()=>{},["stop"]))},{default:L(()=>t[34]||(t[34]=[C(" See more ")])),_:1,__:[34]}),e("i",{class:D(["fas fa-chevron-down text-gray-600 transition-transform duration-200",P.value.manual?"rotate-180":""]),"aria-hidden":"true"},null,2)])],40,$s),ne(e("div",null,[t[36]||(t[36]=e("hr",{class:"border-gray-200"},null,-1)),h.value.length===0?(n(),r("div",Cs," No manual application ")):(n(),r("div",Ms,[(n(!0),r(q,null,V(h.value,u=>(n(),r("button",{key:u.id,class:"block w-full text-left",onClick:z=>he(u.id)},[e("div",Ts,[e("h3",As,[e("span",{class:D([te,se,"text-xs mr-1"])},x(u.check_in?F(u.check_in):F(u.check_out)),3),e("span",Ss,"("+x(u.type||"—")+")",1)]),e("span",{class:D(["text-[11px] px-2 py-0.5 rounded-full",c(u.status).cls])},x(c(u.status).title),3)])],8,Ls))),128))]))],512),[[le,P.value.manual]])]),O.value.open?(n(),R(k(i),{key:0,open:O.value.open,"onUpdate:open":t[17]||(t[17]=u=>O.value.open=u),id:O.value.id},null,8,["open","id"])):T("",!0),S.value.open?(n(),R(k(y),{key:1,open:S.value.open,"onUpdate:open":t[18]||(t[18]=u=>S.value.open=u),id:S.value.id},null,8,["open","id"])):T("",!0),N.value.open?(n(),R(k(v),{key:2,open:N.value.open,"onUpdate:open":t[19]||(t[19]=u=>N.value.open=u),id:N.value.id},null,8,["open","id"])):T("",!0),Y.value.open?(n(),R(Se(ke.value),{key:we.value,open:Y.value.open,"onUpdate:open":t[20]||(t[20]=u=>Y.value.open=u),id:Y.value.id},null,40,["open","id"])):T("",!0)])}}},Ns={class:"bg-white shadow-sm rounded-xl p-3"},qs={class:"flex items-center justify-between"},Os={key:0,class:"text-[11px] text-gray-500"},Es={class:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded-full bg-blue-50 text-blue-700"},Ps={key:0,class:"text-xs italic text-center py-6 text-gray-500"},Bs={key:1,class:"space-y-2"},Us={class:"flex items-start gap-3 min-w-0"},js={class:"min-w-0"},Vs={class:"text-sm font-medium text-gray-900 truncate"},Fs={class:"text-[11px] text-gray-500 mt-0.5"},Is={class:"text-base font-semibold text-gray-800 flex items-center gap-2 p-3"},Ws={class:"space-y-4 px-3 pb-4"},zs={class:"text-xs text-gray-500 flex items-center gap-2"},Ys={class:"flex justify-end gap-2 mt-2"},Ks={__name:"DashboardRecentNotices",setup(_){const i=oe(),{userDashboard:y}=X(i),v=me(),p=h=>{if(!h)return"—";const d=new Date(h);return isNaN(+d)?h:new Intl.DateTimeFormat(void 0,{day:"2-digit",month:"short",year:"numeric"}).format(d)},a=h=>{if(!h)return"";const d=new Date(h);if(isNaN(+d))return"";const c=(Date.now()-d.getTime())/1e3,b=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"}),O=[["year",60*60*24*365],["month",60*60*24*30],["week",60*60*24*7],["day",60*60*24],["hour",60*60],["minute",60],["second",1]];for(const[S,N]of O){const W=Math.round(c/N);if(Math.abs(W)>=1)return b.format(-W,S)}return b.format(0,"second")},m=h=>{const d=p(h),c=a(h);return c?`${d} · ${c}`:d},s=j(()=>{var h;return((h=y.value)==null?void 0:h.notices)??[]}),o=j(()=>[...s.value].sort((d,c)=>{const b=d!=null&&d.user_feedback?1:0,O=c!=null&&c.user_feedback?1:0;if(b!==O)return b-O;const S=new Date((d==null?void 0:d.published_at)||0).getTime();return new Date((c==null?void 0:c.published_at)||0).getTime()-S})),l=j(()=>o.value.find(h=>!(h!=null&&h.user_feedback))||null),g=U(!!l.value);J(l,h=>{g.value=!!h});const A=h=>{const d=h||l.value;if(!d)return;const c=d.type===1?`/notice-details/${d.id}`:`/policy-details/${d.id}`;v.push(c)};return(h,d)=>{const c=pe("RouterLink");return n(),r("div",Ns,[e("div",qs,[d[4]||(d[4]=e("div",{class:"flex items-center gap-1.5"},[e("i",{class:"fas fa-bell"}),e("h2",{class:"text-base font-semibold"},"Notices")],-1)),o.value.length?(n(),r("div",Os,[e("span",Es,[d[3]||(d[3]=e("span",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"},null,-1)),C(" "+x(o.value.filter(b=>!b.user_feedback).length)+" pending ",1)])])):T("",!0)]),d[10]||(d[10]=e("hr",{class:"my-2 border-gray-200"},null,-1)),o.value.length?(n(),r("div",Bs,[(n(!0),r(q,null,V(o.value,b=>(n(),r("article",{key:b.id,class:"group flex items-center justify-between gap-2 p-3 border border-gray-100 rounded-lg hover:border-blue-200 transition"},[e("div",Us,[e("span",{class:D(["inline-flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium mt-0.5",b.user_feedback?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"])},[e("span",{class:D(["h-2 w-2 rounded-full",b.user_feedback?"bg-emerald-600":"bg-rose-600 animate-pulse"])},null,2)],2),e("div",js,[e("h3",Vs,x(b.title||"Untitled notice"),1),e("p",Fs,[d[5]||(d[5]=e("i",{class:"fas fa-calendar-alt text-gray-400 mr-1"},null,-1)),C(" "+x(m(b.published_at)),1)])])]),M(c,{to:b.type===1?`/notice-details/${b.id}`:`/policy-details/${b.id}`,class:"shrink-0 inline-flex items-center gap-1 text-blue-600 hover:text-blue-700 text-xs font-semibold"},{default:L(()=>d[6]||(d[6]=[C(" View "),e("i",{class:"fas fa-arrow-right text-[10px]"},null,-1)])),_:2,__:[6]},1032,["to"])]))),128))])):(n(),r("div",Ps," No pending notice found ")),l.value?(n(),R(Ve,{key:2,show:g.value,onClose:d[2]||(d[2]=b=>g.value=!1)},{default:L(()=>[e("div",Is,[d[7]||(d[7]=e("i",{class:"fas fa-bell text-blue-600"},null,-1)),C(" "+x(l.value.title||"New notice"),1)]),e("div",Ws,[e("p",zs,[d[8]||(d[8]=e("i",{class:"fas fa-calendar-alt text-gray-400"},null,-1)),C(" Published: "+x(m(l.value.published_at)),1)]),d[9]||(d[9]=e("p",{class:"text-sm text-gray-700"}," You must read this notice before proceeding. ",-1)),e("div",Ys,[e("button",{onClick:d[0]||(d[0]=b=>g.value=!1),class:"bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium px-3 py-1.5 rounded-md transition text-sm"}," Later "),e("button",{onClick:d[1]||(d[1]=b=>A(l.value)),class:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-1.5 rounded-md transition text-sm"}," Read ")])])]),_:1},8,["show"])):T("",!0)])}}},Hs={class:"w-full px-6 py-4"},Gs={class:"grid lg:grid-cols-4 gap-6 items-start"},Js={class:"gap-0 rounded-md bg-white shadow-md border border-gray-300 col-span-full lg:col-span-3 lg:row-span-2"},Xs={class:"flex items-center justify-center gap-4 py-2"},Zs={class:"col-span-full lg:col-span-1 grid sm:grid-cols-2 lg:grid-cols-1 gap-6 sticky top-[80px]"},Qs={class:"card-bg gap-0 shadow-md border border-gray-300"},en={class:"card-bg gap-0 shadow-md border border-gray-300"},tn={class:"card-bg gap-0 shadow-md border border-gray-300"},sn={__name:"DashboardEmployeeView",setup(_){const i=U("todos"),y=ge(),v=me();return J(()=>i.value,function(p){p!=="todos"&&v.replace({query:Object.keys(y.query).filter(a=>!a.match(/^todos\[/)).reduce((a,m)=>(a[m]=y.query[m],a),{})})}),(p,a)=>(n(),r("div",Hs,[e("div",Gs,[e("div",Js,[e("div",Xs,[e("button",{onClick:a[0]||(a[0]=w(m=>i.value="todos",["prevent"])),class:D(["!py-0.5 text-sm",{"btn-2":i.value=="todos","btn-3 hover:bg-gray-200 hover:text-blue-500":i.value!="todos"}])}," Todos ",2),e("button",{onClick:a[1]||(a[1]=w(m=>i.value="tasks",["prevent"])),class:D(["!py-0.5 text-sm",{"btn-2":i.value=="tasks","btn-3 hover:bg-gray-200 hover:text-blue-500":i.value!="tasks"}])}," Tasks ",2)]),i.value=="todos"?(n(),R(Bt,{key:0})):T("",!0),i.value=="tasks"?(n(),R(Lt,{key:1})):T("",!0)]),e("div",Zs,[e("div",Qs,[M(Rs)]),e("div",en,[M(Ks)]),e("div",tn,[M(qt)])])])]))}},Cn={__name:"DashBoard",setup(_){const i=fe(),y=oe(),{userDashboard:v}=X(y),{user:p}=X(i),a=j(()=>{var s;return["admin","super_admin","developer"].includes((s=p==null?void 0:p.value)==null?void 0:s.role)}),m=U(null);return xe(async()=>{var o,l;p.value||await i.fetchUser(),await y.fetchUserDashboardData(),a.value&&await y.fetchAdminDashboardData();const s=(l=(o=v.value)==null?void 0:o.notices)==null?void 0:l.find(g=>!g.user_feedback);s&&(m.value=s)}),(s,o)=>a.value&&k(i).isAdminMood?(n(),R(Ze,{key:0})):(n(),R(sn,{key:1}))}};export{Cn as default};
