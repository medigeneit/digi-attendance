import{r as z,x as c,c as r,o as u,a as s,t as d,k as S,l as E,H,F as q,e as G,s as X}from"./index-rscWEtDR.js";const Z={class:"flex flex-col gap-1 relative"},_={class:"top-label -top-1 text-[11px] font-semibold tracking-wide"},ee={key:0,class:"flex items-center gap-2"},te={key:0,class:"flex items-center gap-1 rounded-md border border-slate-200 bg-white px-1 py-1 shadow-sm"},ne=["disabled"],se=["disabled"],ae=["value"],oe=["disabled"],le={key:1,class:"inline-flex items-center gap-1 rounded-md border border-slate-200 bg-white px-1 py-1 shadow-sm"},ie=["disabled"],re=["disabled"],ue={class:"whitespace-nowrap"},de=["value"],ce=["disabled"],be={key:2,class:"inline-flex items-center gap-1 rounded-md border border-slate-200 bg-white px-1 py-1 shadow-sm"},fe=["disabled"],he=["disabled"],ve={class:"whitespace-nowrap"},pe=["value"],me=["disabled"],ye=["disabled"],ge={class:"flex-1 min-w-0 flex flex-wrap items-center justify-center gap-2"},xe={key:0,class:"min-w-[110px]"},we=["disabled"],ke=["value"],De={key:1,class:"relative min-w-[170px]"},Me=["disabled"],Se={class:"flex items-center gap-2 min-w-0"},Ce={class:"truncate"},Pe=["value"],Ne={key:2,class:"relative min-w-[170px]"},Ye=["disabled"],$e={class:"flex items-center gap-2 min-w-0"},je={class:"truncate"},Be=["value"],Ve=["disabled"],Oe={__name:"FlexibleDatePicker",props:{modelValue:{type:Object,default:()=>({year:null,month:null,day:null})},yearOptions:{type:Array,default:()=>[]},label:{type:String,default:"Period"},disabled:{type:Boolean,default:!1},showSummary:{type:Boolean,default:!0},showYear:{type:Boolean,default:!0},showMonth:{type:Boolean,default:!0},showDate:{type:Boolean,default:!0}},emits:["update:modelValue","change"],setup(a,{emit:K}){const o=a,j=K,v=z(null),p=z(null),C=new Date,m=C.getFullYear(),x=C.getMonth()+1,k=C.getDate();function y(t,e){return new Date(t,e,0).getDate()}const i=c({get(){var t;return((t=o.modelValue)==null?void 0:t.year)||m},set(t){const e=Number(t)||m,n=f.value,l=Math.min(b.value,y(e,n));h({year:e,month:n,day:l})}}),f=c({get(){var t;return((t=o.modelValue)==null?void 0:t.month)||x},set(t){const e=Number(t)||x,n=i.value,l=Math.min(b.value,y(n,e));h({year:n,month:e,day:l})}}),b=c({get(){var t;return((t=o.modelValue)==null?void 0:t.day)||k},set(t){const e=Number(t)||k,n=i.value,l=f.value,g=y(n,l);h({year:n,month:l,day:Math.min(e,g)})}}),B=c(()=>{if(o.yearOptions&&o.yearOptions.length)return o.yearOptions;const t=m,e=[];for(let n=t-3;n<=t+1;n++)e.push(n);return e}),Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],w=c(()=>{const t=Number(f.value)-1;return t<0||t>11?"Month":Q[t]}),V=c(()=>{const t=b.value;return t?String(t).padStart(2,"0"):"Day"}),F=c(()=>{const t=i.value,e=String(f.value).padStart(2,"0");return`${t}-${e}`}),O=c(()=>{const t=i.value,e=String(f.value).padStart(2,"0"),n=String(b.value).padStart(2,"0");return`${t}-${e}-${n}`});c(()=>{const t=i.value,e=w.value,n=b.value,l=[];return o.showDate&&l.push(String(n).padStart(2,"0")),o.showMonth&&l.push(e),o.showYear&&l.push(String(t)),l.length?l.join(" "):`${String(n).padStart(2,"0")} ${e} ${t}`});const T=c(()=>[o.showYear,o.showMonth,o.showDate].filter(Boolean).length),W=c(()=>T.value===1);function R(){!o.showMonth||!v.value||o.disabled||(typeof v.value.showPicker=="function"?v.value.showPicker():v.value.click())}function I(){!o.showDate||!p.value||o.disabled||(typeof p.value.showPicker=="function"?p.value.showPicker():p.value.click())}function L(t){var M;const e=((M=t==null?void 0:t.target)==null?void 0:M.value)||"";if(!e)return;const[n,l]=e.split("-"),g=Number(n)||m,D=Number(l)||x,$=Math.min(b.value,y(g,D));h({year:g,month:D,day:$})}function U(t){var J;const e=((J=t==null?void 0:t.target)==null?void 0:J.value)||"";if(!e)return;const[n,l,g]=e.split("-"),D=Number(n)||m,$=Number(l)||x,M=Number(g)||k;h({year:D,month:$,day:M})}function h(t){const e={year:t.year||m,month:t.month||x,day:t.day||k};j("update:modelValue",e),j("change",e)}function P(t){const e=new Date(i.value,f.value-1,b.value);e.setDate(e.getDate()+t),h({year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()})}function N(t){const e=new Date(i.value,f.value-1+t,1),n=y(e.getFullYear(),e.getMonth()+1);h({year:e.getFullYear(),month:e.getMonth()+1,day:Math.min(b.value,n)})}function Y(t){const e=i.value+t,n=f.value,l=y(e,n);h({year:e,month:n,day:Math.min(b.value,l)})}function A(t){if(!o.disabled){if(o.showDate)return P(t);if(o.showMonth)return N(t);if(o.showYear)return Y(t)}}return(t,e)=>(u(),r("div",Z,[s("label",_,d(a.label),1),W.value?(u(),r("div",ee,[a.showYear?(u(),r("div",te,[s("button",{type:"button","aria-label":"Previous Year",onClick:e[0]||(e[0]=n=>Y(-1)),disabled:a.disabled,class:"inline-flex h-7 w-7 items-center justify-center rounded text-slate-500 transition hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:opacity-40"},e[10]||(e[10]=[s("i",{class:"far fa-chevron-left text-[11px]"},null,-1)]),8,ne),E(s("select",{"onUpdate:modelValue":e[1]||(e[1]=n=>i.value=n),disabled:a.disabled,class:"h-7 min-w-[76px] rounded-md border border-slate-200 bg-white px-2 text-sm font-medium text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:opacity-50"},[(u(!0),r(q,null,G(B.value,n=>(u(),r("option",{key:n,value:n},d(n),9,ae))),128))],8,se),[[H,i.value]]),s("button",{type:"button","aria-label":"Next Year",onClick:e[2]||(e[2]=n=>Y(1)),disabled:a.disabled,class:"inline-flex h-7 w-7 items-center justify-center rounded text-slate-500 transition hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:opacity-40"},e[11]||(e[11]=[s("i",{class:"far fa-chevron-right text-[11px]"},null,-1)]),8,oe)])):a.showMonth?(u(),r("div",le,[s("button",{type:"button","aria-label":"Previous Month",onClick:e[3]||(e[3]=n=>N(-1)),disabled:a.disabled,class:"inline-flex h-7 w-7 items-center justify-center rounded text-slate-500 transition hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:opacity-40"},e[12]||(e[12]=[s("i",{class:"far fa-chevron-left text-[11px]"},null,-1)]),8,ie),s("button",{type:"button",onClick:R,disabled:a.disabled,class:"inline-flex h-7 items-center gap-2 rounded-md border border-slate-200 bg-white px-3 text-sm font-medium text-slate-700 transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:opacity-50"},[e[13]||(e[13]=s("i",{class:"far fa-calendar-alt text-slate-400 text-[12px]"},null,-1)),s("span",ue,d(w.value.toUpperCase())+" - "+d(i.value),1),e[14]||(e[14]=s("i",{class:"far fa-chevron-down text-[10px] text-slate-400"},null,-1))],8,re),s("input",{ref_key:"monthPickerRef",ref:v,type:"month",class:"pointer-events-none absolute opacity-0",value:F.value,onChange:L},null,40,de),s("button",{type:"button","aria-label":"Next Month",onClick:e[4]||(e[4]=n=>N(1)),disabled:a.disabled,class:"inline-flex h-7 w-7 items-center justify-center rounded text-slate-500 transition hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:opacity-40"},e[15]||(e[15]=[s("i",{class:"far fa-chevron-right text-[11px]"},null,-1)]),8,ce)])):a.showDate?(u(),r("div",be,[s("button",{type:"button","aria-label":"Previous Day",onClick:e[5]||(e[5]=n=>P(-1)),disabled:a.disabled,class:"inline-flex h-7 w-7 items-center justify-center rounded text-slate-500 transition hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:opacity-40"},e[16]||(e[16]=[s("i",{class:"far fa-chevron-left text-[11px]"},null,-1)]),8,fe),s("button",{type:"button",onClick:I,disabled:a.disabled,class:"inline-flex h-7 items-center gap-2 rounded-md border border-slate-200 bg-white px-3 text-sm font-medium text-slate-700 transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:opacity-50"},[e[17]||(e[17]=s("i",{class:"far fa-calendar text-slate-400 text-[12px]"},null,-1)),s("span",ve,d(V.value)+" "+d(w.value.toUpperCase())+" "+d(i.value),1),e[18]||(e[18]=s("i",{class:"far fa-chevron-down text-[10px] text-slate-400"},null,-1))],8,he),s("input",{ref_key:"datePickerRef",ref:p,type:"date",class:"pointer-events-none absolute opacity-0",value:O.value,onChange:U},null,40,pe),s("button",{type:"button","aria-label":"Next Day",onClick:e[6]||(e[6]=n=>P(1)),disabled:a.disabled,class:"inline-flex h-7 w-7 items-center justify-center rounded text-slate-500 transition hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:opacity-40"},e[19]||(e[19]=[s("i",{class:"far fa-chevron-right text-[11px]"},null,-1)]),8,me)])):S("",!0)])):(u(),r("div",{key:1,class:X(["flex items-center gap-2 rounded-xl border border-slate-200 bg-white/70 p-2 shadow-sm backdrop-blur w-full",a.disabled?"opacity-70":""])},[s("button",{type:"button","aria-label":"Previous",onClick:e[7]||(e[7]=n=>A(-1)),disabled:a.disabled,class:"input-1 inline-flex h-9 w-9 items-center justify-center rounded-lg text-slate-500 border-slate-200 bg-white shadow-sm transition hover:bg-slate-50 hover:text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:opacity-50"},e[20]||(e[20]=[s("i",{class:"far fa-chevron-left text-[13px]"},null,-1)]),8,ye),s("div",ge,[a.showYear?(u(),r("div",xe,[E(s("select",{"onUpdate:modelValue":e[8]||(e[8]=n=>i.value=n),disabled:a.disabled,class:"input-1 w-full py-2 px-3 rounded-lg text-xs font-semibold uppercase tracking-wide text-slate-600 border-slate-200 bg-slate-50 shadow-sm transition hover:bg-white focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:opacity-50"},[(u(!0),r(q,null,G(B.value,n=>(u(),r("option",{key:n,value:n},d(n),9,ke))),128))],8,we),[[H,i.value]])])):S("",!0),a.showMonth?(u(),r("div",De,[s("button",{type:"button",onClick:R,disabled:a.disabled,class:"input-1 w-full flex items-center justify-between gap-2 px-3 py-2 rounded-lg text-xs font-semibold uppercase tracking-wide text-slate-600 border-slate-200 bg-white shadow-sm transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:opacity-50"},[s("span",Se,[e[21]||(e[21]=s("i",{class:"far fa-calendar-alt text-slate-400"},null,-1)),s("span",Ce,d(w.value)+" - "+d(i.value),1)]),e[22]||(e[22]=s("i",{class:"far fa-chevron-down text-[10px] text-slate-400"},null,-1))],8,Me),s("input",{ref_key:"monthPickerRef",ref:v,type:"month",class:"pointer-events-none absolute inset-0 opacity-0",value:F.value,onChange:L},null,40,Pe)])):S("",!0),a.showDate?(u(),r("div",Ne,[s("button",{type:"button",onClick:I,disabled:a.disabled,class:"input-1 w-full flex items-center justify-between gap-2 px-3 py-2 rounded-lg text-xs font-semibold uppercase tracking-wide text-slate-600 border-slate-200 bg-white shadow-sm transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:opacity-50"},[s("span",$e,[e[23]||(e[23]=s("i",{class:"far fa-calendar text-slate-400"},null,-1)),s("span",je,d(V.value)+" - "+d(w.value),1)]),e[24]||(e[24]=s("i",{class:"far fa-chevron-down text-[10px] text-slate-400"},null,-1))],8,Ye),s("input",{ref_key:"datePickerRef",ref:p,type:"date",class:"pointer-events-none absolute inset-0 opacity-0",value:O.value,onChange:U},null,40,Be)])):S("",!0)]),s("button",{type:"button","aria-label":"Next",onClick:e[9]||(e[9]=n=>A(1)),disabled:a.disabled,class:"input-1 inline-flex h-9 w-9 items-center justify-center rounded-lg text-slate-500 border-slate-200 bg-white shadow-sm transition hover:bg-slate-50 hover:text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:opacity-50"},e[25]||(e[25]=[s("i",{class:"far fa-chevron-right text-[13px]"},null,-1)]),8,Ve)],2))]))}};export{Oe as _};
