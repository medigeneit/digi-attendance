import{B as C,r as c,x as m,C as v}from"./index-CV3YfIay.js";const x=C("comment",()=>{const o=c([]),d=c(null),n=c(!1),u=c(""),s=c(null),f=async a=>{var l,t;n.value=!0,s.value=null;try{const e=await v.get("/comments",{params:a});o.value=e.data}catch(e){s.value=((t=(l=e.response)==null?void 0:l.data)==null?void 0:t.message)||"কমেন্ট লোড করতে ব্যর্থ হয়েছে।"}finally{n.value=!1}},p=async a=>{var l,t;u.value="fetching",n.value=!0,s.value=null;try{const e=await v.get(`/comments/${a}`);d.value=e.data}catch(e){s.value=((t=(l=e.response)==null?void 0:l.data)==null?void 0:t.message)||`কমেন্ট (ID: ${a}) লোড করতে ব্যর্থ হয়েছে।`}finally{u.value="",n.value=!1}},y=async a=>{var l,t;u.value="creating",n.value=!0,s.value=null;try{const e=await v.post("/comments",a);return o.value.push(e.data.data),e.data.data}catch(e){throw s.value=((t=(l=e.response)==null?void 0:l.data)==null?void 0:t.message)||"কমেন্ট তৈরি করতে ব্যর্থ হয়েছে।",e}finally{n.value=!1,u.value=""}},g=async(a,l)=>{var t,e;u.value="updating",n.value=!0,s.value=null;try{const r=await v.put(`/comments/${a}`,l),i=o.value.findIndex(w=>w.id===a);return i!==-1&&(o.value[i]=r.data.data),r.data.data}catch(r){throw s.value=((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.message)||`কমেন্ট (ID: ${a}) আপডেট করতে ব্যর্থ হয়েছে।`,r}finally{n.value=!1,u.value=""}},h=async a=>{var l,t;u.value="deleting",n.value=!0,s.value=null;try{await v.delete(`/comments/${a}`),o.value=o.value.filter(e=>e.id!==a)}catch(e){throw s.value=((t=(l=e.response)==null?void 0:l.data)==null?void 0:t.message)||`কমেন্ট (ID: ${a}) মুছতে ব্যর্থ হয়েছে।`,e}finally{n.value=!1,u.value=""}};return{comments:m(()=>o.value),comment:m(()=>d.value),loading:m(()=>n.value),error:m(()=>s.value),action:m(()=>u.value),fetchComments:f,fetchComment:p,createComment:y,updateComment:g,deleteComment:h}});export{x as u};
