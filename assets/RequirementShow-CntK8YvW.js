import{C as F,r as k,m as te,e as T,c as i,o,a as e,f as R,g as f,w,F as I,h as D,j as S,p as q,v as U,i as E,B as se,t as x,k as le,x as ne,b as ae,u as de,D as A,n as ue,q as ee}from"./index-DwweU-eE.js";import{L as N}from"./LoaderView-2ere4rtj.js";import{O as L}from"./OverlyModal-BMtihtuG.js";import{R as re}from"./RequiredIcon-DkASgbf-.js";import{o as me}from"./url-CePbr-gY.js";import{u as M}from"./user-CVWY787V.js";import{_ as pe,s as be}from"./MultiselectDropdown-Cx3RUMgq.js";import{_ as oe}from"./UserChip-C5GKa1Qy.js";import{_ as ce}from"./TaskUserChip-DDZqTv8W.js";import{f as ve}from"./requirement-C7UnuvQ5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";async function xe(d,y){return F.post(`/requirements/${d}/details`,y)}async function ie(d,y,{params:v={}}={}){return F.get(`/requirements/${d}/details/${y}`,{params:v})}async function fe(d,y,v){return F.put(`/requirements/${d}/details/${y}`,v)}async function ye(d,y,{params:v={}}={}){const u=me(v);return F.delete(`/requirements/${d}/details/${y}${u?"?"+u:""}`)}const ge={class:"max-h-[90vh] overflow-auto w-full mx-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative"},we={class:"sticky top-0 pt-4 bg-white z-10"},ke={class:"mb-4"},_e={class:"block text-gray-600 text-sm mb-1 font-medium"},he={class:"mb-4"},$e={class:"mb-4"},qe={class:"relative w-full border rounded lg:flex-grow"},Ce={key:0,class:"absolute right-8 text-xl top-0 bottom-0 flex items-center"},Re={class:"mb-4"},De={class:"mb-4"},Se={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},Ie={key:0,class:"mb-4 text-red-500 font-medium"},Ee={key:1,class:"mb-4"},Ue={class:"flex items-center justify-between gap-4"},Fe=["disabled"],Te={__name:"RequirementDetailAddForm",props:{requirementId:{type:[Number,String],required:!0}},emits:["create","closeClick","error"],setup(d,{emit:y}){const v=d,u=y,n=M(),b=k(""),s=k(),r=k({title:"",description:"",priority:"",better_to_complete_on:"",supervisor_id:null}),a=k([]),h=te(()=>Array.isArray(a.value)&&a.value.find(m=>{var t;return m.id==((t=r.value)==null?void 0:t.supervisor_id)})||null);function _(m){r.value.supervisor_id=(m==null?void 0:m.id)||""}function c(){r.value.supervisor_id=null}async function g(){var t,l;b.value="submitting";const m={...r.value};console.log({payload:m});try{const p=await xe(v.requirementId,m);u("create",p),b.value="create"}catch(p){b.value="error",s.value=((l=(t=p.response)==null?void 0:t.data)==null?void 0:l.message)||"Failed to create requirement detail",u("error",s.value)}}return T(async()=>{a.value=await n.fetchDepartmentWiseEmployees()}),(m,t)=>(o(),i("div",ge,[e("div",we,[t[6]||(t[6]=e("h2",{class:"text-2xl font-semibold text-gray-800"},"Add Requirement",-1)),t[7]||(t[7]=e("hr",{class:"mb-4"},null,-1)),e("div",{class:"text-purple-600/80 mb-4 text-xs border-b border-dashed",onClick:t[0]||(t[0]=w(l=>u("ok"),["prevent"]))}," Fields that must be filled in will be marked with an asterisk. ")]),e("form",{onSubmit:w(g,["prevent"]),class:"z-0"},[b.value!=="loading"?(o(),i(I,{key:0},[e("div",ke,[e("label",_e,[t[8]||(t[8]=S("Title ")),q(re)]),D(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>r.value.title=l),required:"",placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,r.value.title]])]),e("div",he,[t[9]||(t[9]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Details",-1)),D(e("textarea",{rows:"10","onUpdate:modelValue":t[2]||(t[2]=l=>r.value.description=l),placeholder:"Enter requirement description",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,r.value.description]])]),e("div",$e,[t[10]||(t[10]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Supervisor",-1)),e("div",qe,[q(pe,{modelValue:h.value,onSelect:_,onRemove:c,options:a.value,multiple:!1,label:"name","label-prefix":"id",placeholder:"--NO SUPERVISOR--"},{option:E(({option:l})=>[q(oe,{user:l,class:"w-full line-clamp-1"},null,8,["user"])]),_:1},8,["modelValue","options"]),h.value?(o(),i("div",Ce,[e("button",{onClick:w(c,["prevent"]),class:"mt-0.5 text-gray-500 hover:text-red-700"}," × ")])):f("",!0)])]),e("div",Re,[t[12]||(t[12]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Priority ",-1)),D(e("select",{class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500","onUpdate:modelValue":t[3]||(t[3]=l=>r.value.priority=l)},t[11]||(t[11]=[e("option",{value:""},"NORMAL",-1),e("option",null,"IMPORTANT",-1),e("option",null,"URGENT",-1)]),512),[[se,r.value.priority]])]),e("div",De,[t[13]||(t[13]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Better to Complete ",-1)),D(e("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=l=>r.value.better_to_complete_on=l),placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,r.value.better_to_complete_on]])])],64)):f("",!0),e("div",Se,[s.value?(o(),i("div",Ie,x(s.value),1)):f("",!0),s.value?(o(),i("hr",Ee)):f("",!0),e("div",Ue,[e("button",{type:"button",onClick:t[5]||(t[5]=w(l=>u("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:b.value=="loading"||b.value=="submitting",type:"submit",class:"bg-blue-500 hover:bg-blue-600 text-white font-semibold px-5 py-2 rounded transition"},x(b.value=="submitting"?"Saving...":"Add Requirement"),9,Fe)])])],32),b.value==="loading"||b.value==="submitting"?(o(),R(N,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):f("",!0)]))}},Ne={class:"max-h-[90vh] overflow-auto w-full mx-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative"},Ve={class:"mb-4"},Ae={class:"font-semibold"},Le={class:"mb-4"},Me={class:"line-clamp-2"},Oe={key:1,class:"min-h-40"},je={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},ze={key:0,class:"mb-4 text-red-500 font-medium"},Be={key:1,class:"mb-4"},Pe={class:"flex items-center justify-between gap-4"},We=["disabled"],Ge={__name:"RequirementDetailDeleteForm",props:{requirementId:{type:[Number,String],required:!0},detailId:{type:[Number,String],required:!0}},emits:["delete","closeClick","error"],setup(d,{emit:y}){const v=d,u=y,n=M(),b=k(null),s=k(""),r=k(),a=k([]);async function h(){var _,c;s.value="submitting";try{const g=await ye(v.requirementId,v.detailId);u("delete",g),s.value="create"}catch(g){s.value="error",r.value=((c=(_=g.response)==null?void 0:_.data)==null?void 0:c.message)||"Failed to update requirement detail: "+g,u("error",r.value)}}return T(async()=>{var _,c,g;s.value="loading";try{a.value=await n.fetchDepartmentWiseEmployees(),b.value=(_=(await ie(v.requirementId,v.detailId)).data)==null?void 0:_.detail}catch(m){r.value=((g=(c=m.response)==null?void 0:c.data)==null?void 0:g.message)||"Failed to fetch requirement detail"}finally{s.value=""}}),(_,c)=>{var g,m;return o(),i("div",Ne,[c[4]||(c[4]=e("div",{class:"sticky top-0 -mx-6 px-6 z-10 bg-gray-50"},[e("h2",{class:"text-xl font-semibold text-gray-800 py-2"},"Delete Requirement Details"),e("hr",{class:"mb-4 -mx-6"})],-1)),e("form",{onSubmit:w(h,["prevent"]),class:"z-0"},[s.value!=="loading"?(o(),i(I,{key:0},[e("div",Ve,[c[1]||(c[1]=e("div",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Title",-1)),e("div",Ae,x((g=b.value)==null?void 0:g.title),1)]),e("div",Le,[c[2]||(c[2]=e("div",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Description",-1)),e("div",Me,x((m=b.value)==null?void 0:m.description),1)]),c[3]||(c[3]=e("div",{class:"my-8 text-center text-xl text-red-600"},"Are you sure want to delete?",-1))],64)):(o(),i("div",Oe)),e("div",je,[r.value?(o(),i("div",ze,x(r.value),1)):f("",!0),r.value?(o(),i("hr",Be)):f("",!0),e("div",Pe,[e("button",{type:"button",onClick:c[0]||(c[0]=w(t=>u("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:s.value=="loading"||s.value=="submitting",type:"submit",class:"bg-red-700 hover:bg-red-500 text-white font-semibold px-5 py-2 rounded transition"},x(s.value=="submitting"?"Deleting...":"Delete"),9,We)])])],32),s.value==="loading"||s.value==="submitting"?(o(),R(N,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):f("",!0)])}}},He={class:"max-h-[90vh] overflow-auto w-full mx-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative"},Qe={class:"sticky top-0 pt-4 bg-white z-10"},Je={class:"mb-4"},Ke={class:"block text-gray-600 text-sm mb-1 font-medium"},Xe={class:"mb-4"},Ye={class:"mb-4"},Ze={class:"relative w-full border rounded lg:flex-grow"},et={key:0,class:"absolute right-8 text-xl top-0 bottom-0 flex items-center"},tt={class:"mb-4"},st={class:"mb-4"},lt={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},rt={key:0,class:"mb-4 text-red-500 font-medium"},ot={key:1,class:"mb-4"},it={class:"flex items-center justify-between gap-4"},nt=["disabled"],at={__name:"RequirementDetailEditForm",props:{requirementId:{type:[Number,String],required:!0},detailId:{type:[Number,String],required:!0}},emits:["update","closeClick","error"],setup(d,{emit:y}){const v=d,u=y,n=M(),b=k(null),s=k(""),r=k(),a=k({title:"",description:"",priority:"",better_to_complete_on:"",supervisor_id:null}),h=k([]),_=te(()=>Array.isArray(h.value)&&h.value.find(t=>{var l;return t.id==((l=a.value)==null?void 0:l.supervisor_id)})||null);function c(t){a.value.supervisor_id=(t==null?void 0:t.id)||""}function g(){a.value.supervisor_id=null}async function m(){var l,p;s.value="submitting";const t={...a.value};console.log({payload:t});try{const C=await fe(v.requirementId,v.detailId,t);u("update",C),s.value="create"}catch(C){s.value="error",r.value=((p=(l=C.response)==null?void 0:l.data)==null?void 0:p.message)||"Failed to update requirement detail",u("error",r.value)}}return T(async()=>{var t,l,p;s.value="loading";try{h.value=await n.fetchDepartmentWiseEmployees(),b.value=(t=(await ie(v.requirementId,v.detailId)).data)==null?void 0:t.detail,a.value=b.value;const C=new Date(b.value.better_to_complete_on);a.value.better_to_complete_on=C.toISOString().split("T")[0]}catch(C){r.value=((p=(l=C.response)==null?void 0:l.data)==null?void 0:p.message)||"Failed to fetch requirement detail"}finally{s.value=""}}),(t,l)=>(o(),i("div",He,[e("div",Qe,[l[6]||(l[6]=e("h2",{class:"text-2xl font-semibold text-gray-800"},"Add Requirement Details",-1)),l[7]||(l[7]=e("hr",{class:"mb-4"},null,-1)),e("div",{class:"text-purple-600/80 mb-4 text-xs border-b border-dashed",onClick:l[0]||(l[0]=w(p=>u("ok"),["prevent"]))}," Fields that must be filled in will be marked with an asterisk. ")]),e("form",{onSubmit:w(m,["prevent"]),class:"z-0"},[s.value!=="loading"?(o(),i(I,{key:0},[e("div",Je,[e("label",Ke,[l[8]||(l[8]=S("Title ")),q(re)]),D(e("input",{"onUpdate:modelValue":l[1]||(l[1]=p=>a.value.title=p),required:"",placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,a.value.title]])]),e("div",Xe,[l[9]||(l[9]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Description",-1)),D(e("textarea",{rows:"10","onUpdate:modelValue":l[2]||(l[2]=p=>a.value.description=p),placeholder:"Enter requirement description",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,a.value.description]])]),e("div",Ye,[l[10]||(l[10]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Supervisor",-1)),e("div",Ze,[q(le(be),{modelValue:_.value,onSelect:c,onRemove:g,options:h.value,multiple:!1,label:"name","label-prefix":"id",placeholder:"--NO SUPERVISOR--"},{option:E(({option:p})=>[q(oe,{user:p,class:"w-full line-clamp-1"},null,8,["user"])]),_:1},8,["modelValue","options"]),_.value?(o(),i("div",et,[e("button",{onClick:w(g,["prevent"]),class:"mt-0.5 text-gray-500 hover:text-red-700"}," × ")])):f("",!0)])]),e("div",tt,[l[12]||(l[12]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Priority ",-1)),D(e("select",{class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500","onUpdate:modelValue":l[3]||(l[3]=p=>a.value.priority=p)},l[11]||(l[11]=[e("option",{value:""},"NORMAL",-1),e("option",null,"IMPORTANT",-1),e("option",null,"URGENT",-1)]),512),[[se,a.value.priority]])]),e("div",st,[l[13]||(l[13]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Better to Complete ",-1)),D(e("input",{type:"date","onUpdate:modelValue":l[4]||(l[4]=p=>a.value.better_to_complete_on=p),placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,a.value.better_to_complete_on]])])],64)):f("",!0),e("div",lt,[r.value?(o(),i("div",rt,x(r.value),1)):f("",!0),r.value?(o(),i("hr",ot)):f("",!0),e("div",it,[e("button",{type:"button",onClick:l[5]||(l[5]=w(p=>u("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:s.value=="loading"||s.value=="submitting",type:"submit",class:"bg-blue-500 hover:bg-blue-600 text-white font-semibold px-5 py-2 rounded transition"},x(s.value=="submitting"?"Saving...":"Edit Detail"),9,nt)])])],32),s.value==="loading"||s.value==="submitting"?(o(),R(N,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):f("",!0)]))}},dt={class:"group/item border text-gray-800 py-4 shadow-sm mb-4 px-4 rounded-md hover:bg-blue-50"},ut={class:"border-2 border-gray-700 p-3 align-top"},mt={class:"text-2xl font-medium"},pt={class:"border-2 border-gray-700 p-3"},bt={class:"text-lg font-semibold mb-2"},ct={class:"mb-5"},vt={class:"text-justify"},xt=["innerHTML"],ft={class:"flex items-end"},yt={class:"flex items-center gap-1 mb-3"},gt={class:"text-blue-400 font-semibold"},wt={class:"ml-auto flex gap-6 items-center"},kt={class:"border-2 border-gray-700 p-3 whitespace-nowrap print:whitespace-break-spaces print:px-0 text-center"},_t={key:1,colspan:"2",class:"border-2 border-gray-700 p-3 text-center"},ht={__name:"RequirementDetailTableRow",props:{detail:{type:Object},serial:{type:Number}},emits:["editClick","deleteClick"],setup(d,{emit:y}){const v=y,u=k("line-clamp-2");function n(){u.value=u.value?"":"line-clamp-2"}return(b,s)=>(o(),i("tr",dt,[e("td",ut,[e("span",mt,x(d.serial),1)]),e("td",pt,[e("div",null,[e("div",bt,[e("span",null,x(d.detail.title),1)]),s[3]||(s[3]=e("hr",{class:"mb-4 -mx-4"},null,-1)),e("div",ct,[s[2]||(s[2]=e("div",{class:"text-gray-400 mr-2 text-xs uppercase font-semibold"},"Description",-1)),e("div",vt,[e("p",{class:ne(["print:line-clamp-none",u.value]),innerHTML:d.detail.description},null,10,xt),e("button",{class:"text-blue-500 group-hover/item:underline hover:text-sky-400 ml-auto text-sm print:hidden",onClick:w(n,["prevent"])},x(u.value?"Show More":"Show Less"),1)])])]),e("div",ft,[e("div",null,[e("div",yt,[s[4]||(s[4]=e("span",{class:"text-gray-400 mr-2 text-xs uppercase font-semibold"},"Supervisor:",-1)),d.detail.supervisor?(o(),R(ce,{key:0,user:d.detail.supervisor},null,8,["user"])):f("",!0)]),e("div",null,[s[5]||(s[5]=e("span",{class:"text-gray-500 mr-2 text-xs uppercase font-semibold"},"Priority:",-1)),e("span",gt,x(d.detail.priority),1)])]),e("div",wt,[e("button",{class:"btn-2",onClick:s[0]||(s[0]=w(r=>v("editClick",d.detail),["prevent"]))},s[6]||(s[6]=[e("i",{class:"fas fa-edit"},null,-1),S("Edit ")])),e("button",{class:"btn-2-red",onClick:s[1]||(s[1]=w(r=>v("deleteClick",d.detail),["prevent"]))},s[7]||(s[7]=[e("i",{class:"fas fa-trash-alt"},null,-1),S("Delete ")]))])])]),e("td",kt,[e("div",null,x(new Date(d.detail.better_to_complete_on).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",weekday:"short"})),1)]),d.detail.task_id?(o(),i(I,{key:0},[s[8]||(s[8]=e("td",{class:"border-2 border-gray-700 p-3"},null,-1)),s[9]||(s[9]=e("td",{class:"border-2 border-gray-700 p-3"},null,-1))],64)):(o(),i("td",_t,s[10]||(s[10]=[e("button",{class:"print:hidden hover:border-2 group-hover/item:bg-blue-200 hover:border-blue-700 text-blue-500 hover:text-white hover:!bg-blue-500 rounded-md px-4 py-1"}," Create Task ",-1)])))]))}},$t={class:"container mx-auto p-6 print:p-0 w-full print:max-w-full"},qt={class:"bg-white rounded shadow print:shadow-none p-4 print:p-0 relative"},Ct={class:"flex items-start"},Rt={class:"mb-4 text-lg print:black print:font-bold"},Dt={class:"ml-auto print:hidden flex gap-2 items-center"},St={class:"mb-4 flex items-center gap-1 print:mb-1"},It={class:"font-bold print:text-gray-900"},Et={class:"mb-4 print:flex print:items-center print:gap-3 print:mb-1"},Ut={class:"print:text-gray-900"},Ft={class:"mb-4 print:flex print:items-center print:gap-3 print:mb-1"},Tt={class:"flex items-center gap-2 print:text-gray-900"},Nt={class:"mb-4 print:flex print:items-center print:gap-3 print:mb-1"},Vt={class:"print:text-gray-900"},At={class:"flex items-end mb-3"},Lt={class:"ml-auto print:hidden flex gap-2 text-sm"},Mt={key:0,class:"overflow-x-auto print:overflow-visible"},Ot={class:"w-full table-auto print:table-fixed"},jt={colspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base font-semibold whitespace-nowrap px-3 py-1 print:whitespace-normal w-[25%]"},zt={class:"whitespace-nowrap print:whitespace-break-spaces print:px-0 p-3 text-center border-2 border-gray-800"},Bt={class:"text-gray-900 text-base"},Pt={key:1,class:"border min-h-64 rounded-md flex items-center justify-center group"},ss={__name:"RequirementShow",setup(d){const y=ae(),v=de(),u=k(""),n=k(null),b=A({open:!1}),s=A({detail:null,open:!1}),r=A({detail:null,open:!1});T(async()=>{await a()});async function a(){var m;u.value="loading",n.value=(m=(await ve(y.params.id)).data)==null?void 0:m.requirement,u.value=""}function h(){b.open=!0}function _(m){s.open=!0,s.detail=m}function c(m){r.open=!0,r.detail=m}function g(){window.print()}return(m,t)=>{var p,C,O,j,z,B,P,W,G,H,Q,J,K,X;const l=ue("RouterLink");return o(),i("div",$t,[b.open?(o(),R(L,{key:0,class:"*:max-w-4xl"},{default:E(()=>[q(Te,{requirementId:n.value.id,onCloseClick:t[0]||(t[0]=$=>b.open=!1),onCreate:t[1]||(t[1]=async()=>{b.open=!1,await a()})},null,8,["requirementId"])]),_:1})):f("",!0),s.open?(o(),R(L,{key:1},{default:E(()=>{var $;return[q(at,{requirementId:n.value.id,detailId:($=s.detail)==null?void 0:$.id,onCloseClick:t[2]||(t[2]=V=>s.open=!1),onUpdate:t[3]||(t[3]=async()=>{s.open=!1,await a()})},null,8,["requirementId","detailId"])]}),_:1})):f("",!0),r.open?(o(),R(L,{key:2},{default:E(()=>{var $;return[q(Ge,{requirementId:n.value.id,detailId:($=r.detail)==null?void 0:$.id,onCloseClick:t[4]||(t[4]=V=>r.open=!1),onDelete:t[5]||(t[5]=async()=>{r.open=!1,await a()})},null,8,["requirementId","detailId"])]}),_:1})):f("",!0),e("div",qt,[e("div",Ct,[e("div",Rt,[t[7]||(t[7]=e("div",{class:"text-gray-800 print:leading-none"},"To",-1)),e("div",null,x((C=(p=n.value)==null?void 0:p.to_department)==null?void 0:C.name),1)]),e("div",Dt,[(((O=n.value)==null?void 0:O.details)||[]).length>0?(o(),i("button",{key:0,class:"btn-3 font-semibold !pl-2 !pr-4",onClick:w(g,["prevent"])},t[8]||(t[8]=[e("i",{class:"fad fa-print text-xl"},null,-1),S("Print ")]))):f("",!0),e("button",{class:"btn-3",onClick:t[6]||(t[6]=w(()=>le(v).back(),["prevent"]))},"Back"),q(l,{class:"btn-2",to:`/requirements/edit/${(j=n.value)==null?void 0:j.id}`},{default:E(()=>t[9]||(t[9]=[S("Edit")])),_:1,__:[9]},8,["to"])])]),t[24]||(t[24]=e("div",{class:"text-center text-xl font-bold mb-2 underline"},"Requirement Form",-1)),e("div",St,[t[10]||(t[10]=e("div",{class:"text-gray-800 text-sm"},"Requirement ID:",-1)),e("div",It,x((z=n.value)==null?void 0:z.id),1)]),e("div",Et,[t[11]||(t[11]=e("div",{class:"text-gray-800 text-sm"},"From",-1)),e("div",Ut,x((P=(B=n.value)==null?void 0:B.from_department)==null?void 0:P.name),1)]),e("div",Ft,[t[12]||(t[12]=e("div",{class:"text-gray-500 text-sm"},"Website",-1)),e("div",Tt,[(o(!0),i(I,null,ee(((W=n.value)==null?void 0:W.website_tags)||[],$=>(o(),i("div",{key:$.id,class:"border px-2 rounded-md bg-gray-50 shadow-sm"},x($.name),1))),128))])]),e("div",Nt,[t[13]||(t[13]=e("div",{class:"text-gray-500 text-sm"},"Submission Date",-1)),e("div",Vt,x(new Date((G=n.value)==null?void 0:G.submission_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})),1)]),t[25]||(t[25]=e("hr",{class:"mb-4"},null,-1)),e("div",null,[e("div",At,[t[15]||(t[15]=e("h2",{class:"text-xl font-semibold"},"Requirement Task List",-1)),e("div",Lt,[(((H=n.value)==null?void 0:H.details)||[]).length>0?(o(),i("button",{key:0,class:"btn-4 font-semibold !pl-2 !pr-4 border-2 border-blue-800 hover:bg-blue-800 hover:text-white",onClick:w(h,["prevent"])},t[14]||(t[14]=[e("i",{class:"fad fa-plus-circle text-xl"},null,-1),S("Add Requirement ")]))):f("",!0)])]),(((Q=n.value)==null?void 0:Q.details)||[]).length>0?(o(),i("div",Mt,[e("table",Ot,[e("thead",null,[e("tr",null,[t[16]||(t[16]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-left px-4 text-gray-800 print:text-black text-xl font-semibold whitespace-nowrap w-[15%]"}," SL ",-1)),t[17]||(t[17]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base font-semibold whitespace-nowrap w-[65%]"}," Requirement Details ",-1)),t[18]||(t[18]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base px-3 font-semibold whitespace-nowrap print:whitespace-normal print:p-0 w-[15%]"}," Better To Complete ",-1)),e("th",jt," For '"+x(((J=n.value.to_department)==null?void 0:J.short_name)||((K=n.value.to_department)==null?void 0:K.name))+"' Use ",1)]),t[19]||(t[19]=e("tr",null,[e("td",{class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-sm font-semibold whitespace-nowrap p-3 print:whitespace-normal"}," Issue No "),e("td",{class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-sm font-semibold whitespace-nowrap p-3 print:whitespace-normal print:p-0"}," Expected Date ")],-1))]),e("tbody",null,[(o(!0),i(I,null,ee(((X=n.value)==null?void 0:X.details)||[],($,V)=>{var Y,Z;return o(),i(I,{key:$.id},[q(ht,{detail:$,serial:V+1,onEditClick:_,onDeleteClick:c},null,8,["detail","serial"]),e("tr",null,[e("td",zt,[e("div",Bt," For '"+x(((Y=n.value.to_department)==null?void 0:Y.short_name)||((Z=n.value.to_department)==null?void 0:Z.name))+"' Use ",1),t[20]||(t[20]=e("div",{class:"text-gray-800 text-xs"},"(Feedback)",-1))]),t[21]||(t[21]=e("td",{class:"whitespace-nowrap p-3 text-center border-2 border-gray-800",colspan:"4"},null,-1))]),t[22]||(t[22]=e("tr",null,[e("td",{class:"whitespace-nowrap p-3 text-center border-2 border-gray-800 min-h-96"},"   "),e("td",{class:"whitespace-nowrap p-3 text-center border-2 border-gray-800 min-h-96",colspan:"4"},"   ")],-1))],64)}),128))])])])):(o(),i("div",Pt,[e("button",{class:"btn-4 font-semibold pl-2 group-hover:border border-blue-300",onClick:w(h,["prevent"])},t[23]||(t[23]=[e("i",{class:"fad fa-plus-circle text-2xl"},null,-1),S("Add Requirement ")]))]))]),u.value==="loading"?(o(),R(N,{key:0,class:"absolute inset-0 bg-opacity-90"})):f("",!0)])])}}};export{ss as default};
