import{E,r as p,p as m,G as u}from"./index-CBF_IMfm.js";const A=E("department",()=>{const d=p([{id:"all",name:"All Employees"}]),o=p([{id:"all",name:"All Department"}]),v=p(null),n=p(!1),s=p(null),i=async(a=null)=>{var r,t;n.value=!0,s.value=null;try{const e=await u.get("/departments",{params:{company_id:a}}),l=[{id:"all",name:"All Departments"}];o.value=[...l,...e.data]}catch(e){s.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||"ডিপার্টমেন্ট লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching departments:",e)}finally{n.value=!1}},f=async a=>{var r,t;n.value=!0,s.value=null;try{const e=await u.get(`/departments/${a}`);v.value=e.data}catch(e){s.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||`ডিপার্টমেন্ট (ID: ${a}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching department with id ${a}:`,e)}finally{n.value=!1}},y=async a=>{var r,t,e;n.value=!0,s.value=null;try{const l=await u.get("department-employees",{params:a}),c=[{id:"all",name:"All Employees"}];d.value=[...c,...(r=l==null?void 0:l.data)==null?void 0:r.employees]}catch(l){s.value=((e=(t=l.response)==null?void 0:t.data)==null?void 0:e.message)||"ডিপার্টমেন্ট লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching department with id:",l)}finally{n.value=!1}},g=async a=>{var r,t;n.value=!0,s.value=null;try{const e=await u.post("/departments",a);return o.value.push(e.data),e.data}catch(e){s.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||"ডিপার্টমেন্ট তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating department:",e)}finally{n.value=!1}},h=async(a,r)=>{var t,e;n.value=!0,s.value=null;try{const l=await u.put(`/departments/${a}`,r),c=o.value.findIndex(w=>w.id===a);return c!==-1&&(o.value[c]=l.data),l.data}catch(l){s.value=((e=(t=l.response)==null?void 0:t.data)==null?void 0:e.message)||`ডিপার্টমেন্ট (ID: ${a}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating department with id ${a}:`,l)}finally{n.value=!1}},D=async a=>{var r,t;n.value=!0,s.value=null;try{await u.delete(`/departments/${a}`),o.value=o.value.filter(e=>e.id!==a)}catch(e){s.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||`ডিপার্টমেন্ট (ID: ${a}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting department with id ${a}:`,e)}finally{n.value=!1}};return{departments:m(()=>o.value),department:m(()=>v.value),loading:m(()=>n.value),error:m(()=>s.value),employees:d,fetchDepartmentEmployee:y,fetchDepartments:i,fetchDepartment:f,createDepartment:g,updateDepartment:h,deleteDepartment:D}});export{A as u};
