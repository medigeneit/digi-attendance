import{r as C,G as Ie,x as w,q as V,c as r,o,a as t,N as he,w as te,s as E,d as ne,k as _e,v as De,f as Ue,u as Be,D as ke,h as q,y as Te,j as x,i as Me,l as ee,m as H,t as i,F as $,e as z,b as W,M as Oe}from"./index-DUOSJSW6.js";import{L as ze}from"./LoaderView-DOqIUP1F.js";import{_ as Ve}from"./EmployeeFilter-CbI9AZh7.js";import{_ as je}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{g as Fe,b as J}from"./datetime-BEfC2TVK.js";import{u as Pe}from"./company-BkVuOpN8.js";import{u as He}from"./department-DAJJn0Af.js";import{u as We}from"./useTodoDateStore-CfeL5s9f.js";import"./EmployeeDropdownInput-D8rikv7y.js";import"./SelectDropdown-BEyGK--x.js";import"./UserChip-BRtv_vCk.js";import"./url-CePbr-gY.js";const Je={class:"px-4 py-4 md:py-3 bg-white rounded-md border"},Ke={class:"flex flex-wrap items-center gap-3"},Qe=["disabled"],Ye={class:"print-hide"},Xe={class:"flex flex-col md:flex-row flex-wrap items-end md:ml-auto w-full md:w-auto gap-x-3 gap-y-4 print-hide"},Ze={class:"flex items-center justify-between w-full md:w-auto gap-3"},Ge={class:"relative h-[32px] w-[150px] sm:w-[170px]"},qe={class:"relative h-[32px] w-[150px] sm:w-[170px]"},et={__name:"TodoReportHeading",props:{loading:{type:Boolean,default:!1},companyId:{type:[String,Number],default:""},departmentId:{type:[String,Number],default:""},employeeId:{type:[String,Number],default:""},lineType:{type:String,default:"all"},startDate:{type:String,default:""},endDate:{type:String,default:""}},emits:["reloadClick","change"],setup(L,{expose:h,emit:K}){const d=L,N=C(null),U=K,l=Ie({companyId:String(d.companyId||""),departmentId:d.departmentId!==""&&d.departmentId!=null?String(d.departmentId):"",employeeId:String(d.employeeId||""),lineType:d.lineType||"all",startDate:d.startDate||"",endDate:d.endDate||""}),B=w(()=>({companyId:l.companyId,departmentId:l.departmentId,employeeId:l.employeeId,lineType:l.lineType,startDate:l.startDate,endDate:l.endDate}));function j(){U("change",{...B.value})}return V(()=>[d.companyId,d.departmentId,d.employeeId,d.lineType,d.startDate,d.endDate],()=>{l.companyId=String(d.companyId||""),l.departmentId=d.departmentId!==""&&d.departmentId!=null?String(d.departmentId):"",l.employeeId=String(d.employeeId||""),l.lineType=d.lineType||"all",l.startDate=d.startDate||"",l.endDate=d.endDate||""}),V(B,j,{deep:!0}),h({employees:w(()=>{var D;return((D=N.value)==null?void 0:D.employees)||[]})}),(D,e)=>(o(),r("div",Je,[t("div",Ke,[he(D.$slots,"before",{},void 0,!0),t("button",{class:E(["btn-icon print-hide",{"animate-spin !bg-opacity-0":L.loading}]),onClick:e[0]||(e[0]=te(u=>U("reloadClick"),["prevent"])),disabled:L.loading,title:"Reload"},[t("i",{class:E(["fas fa-redo",[L.loading?"text-gray-400":"text-gray-500"]])},null,2)],10,Qe),t("span",Ye,[he(D.$slots,"after",{},void 0,!0)]),t("div",Xe,[ne(Ve,{ref_key:"employeeFilterRef",ref:N,company_id:l.companyId,"onUpdate:company_id":e[1]||(e[1]=u=>l.companyId=u),department_id:l.departmentId,"onUpdate:department_id":e[2]||(e[2]=u=>l.departmentId=u),employee_id:l.employeeId,"onUpdate:employee_id":e[3]||(e[3]=u=>l.employeeId=u),line_type:l.lineType,"onUpdate:line_type":e[4]||(e[4]=u=>l.lineType=u),"with-type":!0,class:"flex-1 gap-y-4 md:flex items-center justify-between w-full md:w-auto"},null,8,["company_id","department_id","employee_id","line_type"]),t("div",Ze,[t("div",Ge,[e[7]||(e[7]=t("label",{class:"absolute text-xs left-3 -top-1.5 bg-slate-100 text-blue-500 leading-none z-30"},"Start Date",-1)),_e(t("input",{type:"date","onUpdate:modelValue":e[5]||(e[5]=u=>l.startDate=u),class:"border-2 border-gray-300 rounded px-3 h-[32px] text-sm w-full bg-white"},null,512),[[De,l.startDate]])]),t("div",qe,[e[8]||(e[8]=t("label",{class:"absolute text-xs left-3 -top-1.5 bg-slate-100 text-blue-500 leading-none z-30"},"End Date",-1)),_e(t("input",{type:"date","onUpdate:modelValue":e[6]||(e[6]=u=>l.endDate=u),class:"border-2 border-gray-300 rounded px-3 h-[32px] text-sm w-full bg-white"},null,512),[[De,l.endDate]])])])])])]))}},tt=je(et,[["__scopeId","data-v-1bffbf10"]]),nt={class:"container print:flex-grow mx-auto print:w-full print:px-0 print:py-0"},st=["disabled"],at={key:0,class:"bg-white border rounded-md mb-2 p-4 text-sm print:border-0 print:mb-2 print:px-0 print:w-full relative overflow-visible z-40"},ot={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-7 gap-y-2 gap-x-6"},rt={class:"font-medium text-gray-800"},dt={class:"col-span-2"},lt={class:"font-medium text-gray-800"},it={class:"inline-flex items-center gap-5 font-bold"},pt={class:"text-gray-700"},ut={key:0,class:"mt-2 w-[280px] sm:w-[320px] lg:w-[280px] xl:w-[320px] bg-white border border-gray-200 rounded-md p-3 shadow-lg text-left absolute right-0"},mt={class:"flex items-center justify-between mb-2"},yt={class:"text-[11px] text-gray-500"},ct={class:"space-y-3 max-h-56 overflow-auto pr-1 z-50"},gt={class:"pt-2 border-t border-dashed border-gray-200"},xt={class:"text-[11px] text-gray-500 uppercase tracking-wide mb-1 flex items-center justify-between"},ft={class:"flex items-center gap-2"},bt={key:0,class:"bg-red-500 rounded-md px-1.5 text-white text-center"},vt={key:0,class:"flex flex-wrap gap-2"},wt={key:0,class:"text-xs text-gray-400"},ht=["title"],_t={class:"block max-w-[160px] truncate"},Dt={class:"text-[11px] text-gray-500 uppercase tracking-wide mb-1"},kt={key:0,class:"bg-green-500 rounded-md px-1.5 text-white text-center"},Tt={class:"flex flex-wrap gap-2"},It={key:0,class:"text-xs text-gray-400"},St=["title"],$t={class:"block max-w-[160px] truncate"},Ct={key:1,class:"text-center text-gray-500 py-12 border bg-gray-50 rounded-md"},Nt={key:3,class:"overflow-x-auto md:overflow-clip bg-white border border-t-0 rounded-md shadow-sm print:shadow-none print:rounded-none print:border-gray-400"},Rt={class:"min-w-full text-left text-sm border-separate border-spacing-0"},Et={class:"bg-gray-50 text-gray-600 uppercase tracking-wide text-xs"},At={class:"border-y print:border-gray-400 sticky md:top-[123px] z-30 rounded-t-md"},Lt={class:"px-4 py-3 border md:w-[100px] print:w-auto print:border-l print:border-l-gray-400 bg-white bg-opacity-70 backdrop-blur-sm text-center whitespace-nowrap"},Ut={class:"flex items-center justify-between gap-2"},Bt={class:"ml-1 text-[10px] text-gray-500"},Mt={key:0,class:"px-4 py-3 border bg-white bg-opacity-70 backdrop-blur-sm text-center"},Ot={class:"divide-y divide-gray-200"},zt={key:0},Vt=["colspan"],jt=["rowspan"],Ft={class:"sticky top-[180px] bg-white text-center"},Pt=["rowspan"],Ht={class:"sticky top-[180px] bg-white flex"},Wt={key:0,class:"text-xs text-gray-500"},Jt=["colspan"],Kt=["rowspan"],Qt={class:"sticky top-[180px] bg-white"},Yt={class:"px-4 py-3 text-gray-800 border-l border-t"},Xt={class:"font-medium"},Zt={class:"text-gray-400 mr-2"},Gt={class:"text-xs text-gray-500"},qt={class:"px-4 py-3 border-l border-t border-r text-center"},yn={__name:"TodoReportView",setup(L){var de,le,ie,pe,ue,me;const h=Ue(),K=Be(),d=We(),N=Pe(),U=He(),{companies:l}=ke(N),{departments:B}=ke(U),j=C(null),D=Fe(new Date),e=Ie({companyId:((de=h.query)==null?void 0:de.company_id)||"",departmentId:((le=h.query)==null?void 0:le.department_id)||"",employeeId:((ie=h.query)==null?void 0:ie.employee_id)||"",lineType:((pe=h.query)==null?void 0:pe.line_type)||"all",startDate:((ue=h.query)==null?void 0:ue.start_date)||D,endDate:((me=h.query)==null?void 0:me.end_date)||D}),u=w(()=>{var s;return[...((s=j.value)==null?void 0:s.employees)||[]].sort((n,m)=>{var c,y;return(((c=n.user)==null?void 0:c.name)||"").localeCompare(((y=m.user)==null?void 0:y.name)||"")}).map(n=>{const m=d.todo_dates.filter(a=>{var p;return String((p=a.user)==null?void 0:p.id)===String(n.id)}),c={};m.forEach(a=>{const p=a.date||"unknown-date";c[p]||(c[p]={date:p,todos:[]}),c[p].todos.push(a)});let y=Object.values(c).map(a=>({...a,rowSpan:a.todos.length})).sort((a,p)=>new Date(a.date)-new Date(p.date));y.length||(y=[{date:null,rowSpan:1,todos:[{id:`empty-${n.id}`,isPlaceholder:!0,title:""}]}]);const g=y.reduce((a,p)=>a+p.rowSpan,0);return{user:n,dates:y,rowSpan:Math.max(1,g)}})}),Se=w(()=>{if(!e.startDate||!e.endDate)return"";const s=J(e.startDate,{weekDay:"long"}),n=J(e.endDate,{weekDay:"long"});return`${s} ~ ${n}`}),$e=w(()=>N.employees||[]),Ce={all:"All Types",executive:"Executive",support_staff:"Support Staff",doctor:"Doctor",academy_body:"Academy Body"},k=w(()=>{var y,g,a,p,T,I,S,f;const s=e.companyId&&((y=l.value)!=null&&y.length)?(g=l.value.find(b=>String(b.id)===String(e.companyId)))==null?void 0:g.name:null,n=e.departmentId&&((a=B.value)!=null&&a.length)?(p=B.value.find(b=>String(b.id)===String(e.departmentId)))==null?void 0:p.name:null;let m=null;e.employeeId&&(m=((I=(T=$e.value)==null?void 0:T.find(b=>String(b.id)===String(e.employeeId)))==null?void 0:I.name)||((f=(S=u.value.find(b=>{var R;return String(((R=b.user)==null?void 0:R.id)||"")===String(e.employeeId)}))==null?void 0:S.user)==null?void 0:f.name)||null);const c=e.startDate===e.endDate&&e.startDate?J(e.startDate,{weekDay:"long"}):Se.value||"-";return{company:s||(e.companyId?`#${e.companyId}`:"All Companies"),department:n||(e.departmentId?`#${e.departmentId}`:"All Departments"),employee:m||(e.employeeId?`#${e.employeeId}`:"All Employees"),lineType:Ce[e.lineType]||e.lineType||"All Types",dateRange:c}}),A=C(!1),Q=C(null),Y=w(()=>{var s;return((s=u.value)==null?void 0:s.length)||0}),se=w(()=>{var s,n;return Math.max(0,Y.value-(((n=(s=v.value)==null?void 0:s.withoutTodos)==null?void 0:n.length)||0))}),F=C(!0),X=C(!1),M=C(!1),Z=C(null),ae=s=>{A.value&&Q.value&&(Q.value.contains(s.target)||(A.value=!1))},v=w(()=>{var s;return(s=u.value)!=null&&s.length?u.value.reduce((n,m,c)=>{var a,p,T,I,S,f;const y=m.dates.reduce((b,R)=>b+R.todos.filter(_=>!_.isPlaceholder).length,0),g={id:((a=m.user)==null?void 0:a.id)??((p=m.user)==null?void 0:p.user_id)??((T=m.user)==null?void 0:T.uid)??((I=m.user)==null?void 0:I.email)??`${((S=m.user)==null?void 0:S.name)||"unknown"}-${c}`,name:((f=m.user)==null?void 0:f.name)||"Unknown user"};return y>0?n.withTodos.push(g):n.withoutTodos.push(g),n},{withTodos:[],withoutTodos:[]}):{withTodos:[],withoutTodos:[]}}),oe=w(()=>{if(!M.value)return u.value;const s=new Set((v.value.withoutTodos||[]).map(n=>String(n.id??n.name??"")));return u.value.filter(n=>{var c,y,g,a,p;const m=((c=n.user)==null?void 0:c.id)??((y=n.user)==null?void 0:y.user_id)??((g=n.user)==null?void 0:g.uid)??((a=n.user)==null?void 0:a.email)??((p=n.user)==null?void 0:p.name)??"";return!s.has(String(m))})});function Ne(){M.value=!M.value,X.value=M.value}const re=s=>{X.value&&Z.value&&(Z.value.contains(s.target)||(X.value=!1))},Re=s=>s==="COMPLETED"?"bg-green-100 text-green-700 border border-green-200":s==="WORKING"?"bg-blue-100 text-blue-700 border border-blue-200":s==="PENDING"?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-700 border border-gray-200";function Ee(){K.replace({query:{...h.query,company_id:e.companyId||void 0,department_id:e.departmentId||void 0,employee_id:e.employeeId||void 0,line_type:e.lineType||void 0,start_date:e.startDate||void 0,end_date:e.endDate||void 0}})}async function G(){!e.companyId||!e.startDate||!e.endDate||await d.fetchTodoDates({"company-id":e.companyId,"department-id":e.departmentId,"employee-id":e.employeeId,"line-type":e.lineType,"start-date":e.startDate,"end-date":e.endDate})}function Ae(s){e.companyId=s.companyId||"",e.departmentId=s.departmentId||"",e.employeeId=s.employeeId||"",e.lineType=s.lineType||"all",e.startDate=s.startDate||"",e.endDate=s.endDate||""}function Le(){window.print()}const P=w(()=>e.startDate===e.endDate);return V(()=>e.companyId,s=>{s&&(U.fetchDepartments(s),N.fetchEmployee(s))},{immediate:!0}),V(()=>({...e}),(s,n)=>{JSON.stringify(s)!==JSON.stringify(n)&&(Ee(),G())},{deep:!0}),V(()=>h.query,s=>{e.companyId=(s==null?void 0:s.company_id)||e.companyId,e.departmentId=(s==null?void 0:s.department_id)||e.departmentId,e.employeeId=(s==null?void 0:s.employee_id)||e.employeeId,e.lineType=(s==null?void 0:s.line_type)||e.lineType,e.startDate=(s==null?void 0:s.start_date)||e.startDate,e.endDate=(s==null?void 0:s.end_date)||e.endDate}),q(()=>{N.fetchCompanies({ignore_permission:!0}),G()}),q(()=>{document.addEventListener("click",ae,!0)}),Te(()=>{document.removeEventListener("click",ae,!0)}),q(()=>{document.addEventListener("click",re,!0)}),Te(()=>{document.removeEventListener("click",re,!0)}),(s,n)=>{var m,c,y,g;return o(),r("div",nt,[ne(tt,{ref_key:"headingRef",ref:j,"company-id":e.companyId,"department-id":e.departmentId,"employee-id":e.employeeId,"line-type":e.lineType,"start-date":e.startDate,"end-date":e.endDate,loading:H(d).loading,class:"mb-4 print:px-0 print:py-0 print:mb-2 print:border-0 print:border-b print:border-gray-400 print:rounded-none print:w-full sticky top-[58px] z-50",onChange:Ae,onReloadClick:G},{before:ee(()=>n[3]||(n[3]=[t("div",null,[t("h1",{class:"text-xl font-semibold text-gray-800"},"Todo Report")],-1)])),after:ee(()=>[t("button",{type:"button",class:"btn-icon print-hide disabled:opacity-35 cursor-pointer disabled:cursor-not-allowed",onClick:te(Le,["prevent"]),disabled:H(d).loading},n[4]||(n[4]=[t("i",{class:"fas fa-print"},null,-1)]),8,st)]),_:1},8,["company-id","department-id","employee-id","line-type","start-date","end-date","loading"]),e.companyId&&e.startDate&&e.endDate?(o(),r("div",at,[t("div",ot,[t("div",null,[n[5]||(n[5]=t("div",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Company",-1)),t("div",rt,i(k.value.company),1)]),t("div",null,[n[6]||(n[6]=t("div",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Department",-1)),t("div",{class:E(["font-medium",[k.value.department=="All Departments"?"text-gray-400":"text-gray-800"]])},i(k.value.department),3)]),t("div",null,[n[7]||(n[7]=t("div",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Line Type",-1)),t("div",{class:E(["font-medium",[k.value.lineType=="All Types"?"text-gray-400":"text-gray-800"]])},i(k.value.lineType),3)]),t("div",null,[n[8]||(n[8]=t("div",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Employee",-1)),t("div",{class:E(["font-medium",[k.value.employee=="All Employees"?"text-gray-400":"text-gray-800"]])},i(k.value.employee),3)]),t("div",dt,[n[9]||(n[9]=t("div",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Date",-1)),t("div",lt,i(k.value.dateRange),1)]),t("div",{ref_key:"assignmentSummaryRef",ref:Q,class:"print-hide relative"},[t("button",{type:"button",class:"px-3 bg-white text-gray-700 hover:bg-gray-50 w-full text-bg text-right",onClick:n[0]||(n[0]=a=>A.value=!A.value)},[n[10]||(n[10]=t("div",{class:"uppercase"},"Todo given",-1)),t("div",it,[t("div",pt,i(se.value)+" / "+i(Y.value),1),t("i",{class:E(["fas",[A.value?"fa-chevron-up":"fa-chevron-down"]])},null,2)])]),A.value?(o(),r("div",ut,[t("div",mt,[n[11]||(n[11]=t("div",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Todo Status",-1)),t("div",yt,i(se.value)+" given / "+i(Y.value)+" selected ",1)]),t("div",ct,[t("div",gt,[t("div",xt,[t("div",ft,[n[12]||(n[12]=t("span",null,"Not given todos",-1)),(m=v.value.withoutTodos)!=null&&m.length?(o(),r("span",bt,i((c=v.value.withoutTodos)==null?void 0:c.length),1)):x("",!0)]),t("button",{type:"button",class:"text-[10px] px-2 py-1 rounded border border-gray-200 text-gray-600 hover:bg-gray-50",onClick:n[1]||(n[1]=a=>F.value=!F.value)},i(F.value?"Hide":"Show"),1)]),F.value?(o(),r("div",vt,[v.value.withoutTodos.length?x("",!0):(o(),r("span",wt," Everyone has todos ")),(o(!0),r($,null,z(v.value.withoutTodos,a=>(o(),r("span",{key:`without-${a.id}`,class:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-red-50 text-red-700 border border-red-100 text-xs max-w-full",title:a.name},[n[13]||(n[13]=t("i",{class:"fas fa-exclamation-circle"},null,-1)),t("span",_t,i(a.name),1)],8,ht))),128))])):x("",!0)]),t("div",null,[t("div",Dt,[n[14]||(n[14]=W(" Given todos ")),(y=v.value.withTodos)!=null&&y.length?(o(),r("span",kt,i((g=v.value.withTodos)==null?void 0:g.length),1)):x("",!0)]),t("div",Tt,[v.value.withTodos.length?x("",!0):(o(),r("span",It," No todos assigned ")),(o(!0),r($,null,z(v.value.withTodos,a=>(o(),r("span",{key:`with-${a.id}`,class:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-50 text-green-700 border border-green-100 text-xs max-w-full",title:a.name},[n[15]||(n[15]=t("i",{class:"fas fa-check-circle"},null,-1)),t("span",$t,i(a.name),1)],8,St))),128))])])])])):x("",!0)],512)])])):x("",!0),!e.companyId||!e.startDate||!e.endDate?(o(),r("div",Ct,n[16]||(n[16]=[t("p",{class:"text-red-500"},"Select company and date range to view the report.",-1)]))):H(d).loading?(o(),Me(ze,{key:2},{default:ee(()=>n[17]||(n[17]=[W("Loading report...")])),_:1,__:[17]})):(o(),r("div",Nt,[t("table",Rt,[t("thead",Et,[t("tr",At,[n[19]||(n[19]=t("th",{class:"px-4 py-3 border w-[10px] bg-white bg-opacity-70 backdrop-blur-sm rounded-tl-md print:rounded-tl-none text-center"}," sl ",-1)),t("th",Lt,[t("div",Ut,[n[18]||(n[18]=t("span",null,"Employee Name",-1)),t("div",{class:"relative hidden md:block print:hidden",ref_key:"tableNoTodosRef",ref:Z},[t("button",{type:"button",class:"text-[11px] px-2 py-1 rounded border border-gray-200 text-gray-600 hover:bg-gray-50",onClick:n[2]||(n[2]=te(a=>Ne(),["stop"]))},[W(" No Todos ("+i(v.value.withoutTodos.length)+") ",1),t("span",Bt,i(M.value?"Hidden":"Showing"),1)])],512)])]),P.value?x("",!0):(o(),r("th",Mt," Date ")),n[20]||(n[20]=t("th",{class:"px-4 py-3 border bg-white text-center"},"Todo",-1)),n[21]||(n[21]=t("th",{class:"px-4 py-3 border print:border-r print:border-gray-400 bg-white bg-opacity-70 backdrop-blur-sm text-center rounded-tr-md print:rounded-tr-none"}," Status ",-1))])]),t("tbody",Ot,[oe.value.length===0?(o(),r("tr",zt,[t("td",{colspan:P.value?4:5,class:"px-4 py-6 text-center text-gray-500"},n[22]||(n[22]=[t("div",null,[t("i",{class:"fas fa-tasks fa-2x text-gray-300 mb-2"})],-1),t("div",null,"No todos.",-1)]),8,Vt)])):x("",!0),(o(!0),r($,null,z(oe.value,(a,p)=>{var T,I,S;return o(),r($,{key:((T=a.user)==null?void 0:T.id)||(((S=(I=a.dates[0])==null?void 0:I.todos[0])==null?void 0:S.id)??Math.random())},[(o(!0),r($,null,z(a.dates,(f,b)=>{var R;return o(),r($,{key:`${((R=a.user)==null?void 0:R.id)||"u"}-${f.date}`},[(o(!0),r($,null,z(f.todos,(_,O)=>{var ye,ce,ge,xe,fe,be,ve,we;return o(),r("tr",{key:_.id||`${((ye=a.user)==null?void 0:ye.id)||"u"}-${f.date||"empty"}-${O}`,class:"border odd:bg-white even:bg-gray-50 hover:bg-gray-100"},[b===0&&O===0?(o(),r("td",{key:0,rowspan:a.rowSpan||1,class:"px-4 py-3 align-top font-bold text-xl text-gray-800 whitespace-nowrap border-l border-t bg-white"},[t("div",Ft,i(p+1),1)],8,jt)):x("",!0),b===0&&O===0?(o(),r("td",{key:1,rowspan:a.rowSpan||1,class:"px-4 py-3 align-top font-medium text-gray-800 whitespace-nowrap border-l border-t bg-white"},[t("div",Ht,[ne(Oe,{size:"medium",user:a.user,class:"inline-block mr-2 align-middle"},null,8,["user"]),t("div",null,[t("div",null,i(((ce=a.user)==null?void 0:ce.name)||"Unknown user"),1),(xe=(ge=a.user)==null?void 0:ge.department)!=null&&xe.name?(o(),r("div",Wt,i((be=(fe=a.user)==null?void 0:fe.department)==null?void 0:be.name),1)):x("",!0)])])],8,Pt)):x("",!0),_.isPlaceholder?(o(),r("td",{key:2,class:"border-l border-t border-r bg-white px-4 py-3 text-center",colspan:P.value?2:3},n[23]||(n[23]=[t("div",{class:"text-red-400"},[t("i",{class:"fas fa-tasks text-red-200 mb-2 mr-1"}),t("span",null,"No todos found for this user. ")],-1)]),8,Jt)):(o(),r($,{key:3},[O===0&&!P.value?(o(),r("td",{key:0,rowspan:f.rowSpan||1,class:"px-4 py-3 align-top text-xs text-gray-700 whitespace-nowrap border-l border-t bg-white"},[t("div",Qt,i(H(J)(f.date)||f.date||"-"),1)],8,Kt)):x("",!0),t("td",Yt,[t("div",Xt,[t("span",Zt,i(O+1)+".",1),W(" "+i(_.title),1)]),t("div",Gt,i(((ve=_.todoable)==null?void 0:ve.title)||((we=_.todoable_type)==null?void 0:we.split("\\").pop())||""),1)]),t("td",qt,[t("span",{class:E(["text-xs font-semibold px-2.5 py-1 rounded-full",Re(_.status)])},i(_.status||"N/A"),3)])],64))])}),128))],64)}),128))],64)}),128))])])]))])}}};export{yn as default};
