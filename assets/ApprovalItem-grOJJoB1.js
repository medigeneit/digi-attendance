import{N as $,y as i,o as s,c as l,a as c,t as r,k as A,e as d,l as N}from"./index-DqjtVuvx.js";import{_ as S}from"./AcceptAndRejectHandler-C5LUnMXe.js";const b={class:"flex flex-col justify-center items-center text-sm md:text-base"},B={key:0},I={class:"text-xs text-gray-400 text-center"},U={key:1,class:"text-center"},j={class:"font-bold"},w={key:0,class:"text-green-600"},P={key:1,class:"pl-2 text-yellow-700"},C={__name:"ApprovalItem",props:{application:Object,type:String,item:String,onAction:{type:Function,default:()=>{}}},setup(t){const p=$(),v=i(()=>t.item?t.item.replace(/[_-]/g," ").replace(/([A-Z])/g," $1").replace(/\s+/g," ").trim().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""),u=i(()=>t.type==="leave_applications"?"leave_approval":"other_approval"),y=i(()=>{var e;return(e=t.application)==null?void 0:e[`${t.item}_user`]}),m=i(()=>{var e;return(e=t.application)==null?void 0:e[`${t.item}_user_id`]}),f=i(()=>{var e;return((e=t.application)==null?void 0:e[`${t.item}_note`])||""}),x=i(()=>{var e,a,n;return((n=(a=(e=t.application)==null?void 0:e.user)==null?void 0:a[u.value])==null?void 0:n[`${t.item}_user`])||{}}),h=i(()=>{var e;return(e=p.approvalPermissions)==null?void 0:e[`allow_${t.item}`]}),k=i(()=>t.application.status&&m.value),g=i(()=>{var e,a,n,o;return t.item==="handover"&&((e=t.application)==null?void 0:e.handover_user_id)||((o=(n=(a=t.application)==null?void 0:a.user)==null?void 0:n[u.value])==null?void 0:o[`${t.item}_user_id`])});return(e,a)=>{var n,o;return s(),l("div",b,[m.value?(s(),l("div",B,[c("p",null,r(((n=y.value)==null?void 0:n.name)||""),1),c("p",I,r(f.value),1)])):(s(),l("p",U,r(((o=x.value)==null?void 0:o.name)||"N/A"),1)),h.value?(s(),A(S,{key:2,notificationType:t.type,applicationId:t.application.id,onSuccess:t.onAction},null,8,["notificationType","applicationId","onSuccess"])):d("",!0),a[1]||(a[1]=c("hr",{class:"w-36 md:w-44 border-black my-1"},null,-1)),c("div",j,[N(r(v.value)+" ",1),k.value?(s(),l("span",w,"(âœ”)")):g.value?(s(),l("span",P,a[0]||(a[0]=[c("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)])])}}};export{C as _};
