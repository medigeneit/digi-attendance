import{d as h,s as v,e as L,q as b,k as T,c as p,o as c,a as s,f as A,h as o,n,t as d,l as u,p as m}from"./index-DJ8FoiXK.js";import{u as k}from"./user-Bueq6sww.js";const S={class:"my-container"},q={class:"card-bg p-4 md:p-8"},g={key:0},w={class:"title-md"},R={class:"title-md"},D={key:1},B={key:0,class:"grid gap-4 md:grid-cols-3 mt-4"},N={class:"text-3xl"},U={class:"text-3xl"},V={class:"text-3xl"},C={class:"text-3xl"},P={class:"text-3xl"},E={class:"text-3xl"},W={__name:"DashBoard",setup(M){const y=h(),_=k(),{dashboardInfo:r,selectedDate:f}=v(_),{user:a}=v(y);L(async()=>{var l;a.value||await y.fetchUser(),["admin","super_admin","developer"].includes((l=a==null?void 0:a.value)==null?void 0:l.role)&&await _.fetchUserDashboardData()});const x=b(()=>{var l;return["admin","super_admin","developer"].includes((l=a==null?void 0:a.value)==null?void 0:l.role)});return(l,t)=>{const i=T("RouterLink");return c(),p("div",S,[s("div",q,[o(a)?(c(),p("div",g,[s("p",null,[t[0]||(t[0]=n(" Hello ")),s("span",w,d(o(a).name)+"!",1)]),t[2]||(t[2]=s("h1",{class:"title-xl"},"Welcome back",-1)),s("p",null,[t[1]||(t[1]=n(" Your phone number is ")),s("span",R,d(o(a).phone),1)])])):(c(),p("div",D,t[3]||(t[3]=[s("p",null,"Loading...",-1)])))]),x.value&&o(y).adminMode?(c(),p("div",B,[u(i,{to:{name:"TodayAttendanceReport",query:{search:"all"}},class:"main-button"},{default:m(()=>{var e;return[s("span",N,d((e=o(r))==null?void 0:e.totalUsers),1),t[4]||(t[4]=n(" Total Employees "))]}),_:1}),u(i,{to:{name:"TodayAttendanceReport",query:{search:"Present"}},class:"main-button"},{default:m(()=>{var e;return[s("span",U,d((e=o(r))==null?void 0:e.todayPresents),1),t[5]||(t[5]=n(" Today Present "))]}),_:1}),u(i,{to:{name:"TodayAttendanceReport",query:{search:"Absent"}},class:"main-button"},{default:m(()=>{var e;return[s("span",V,d((e=o(r))==null?void 0:e.todayAbsents),1),t[6]||(t[6]=n(" Today Absent "))]}),_:1}),u(i,{to:{name:"LeaveApplicationList",query:{search:"today"}},class:"main-button"},{default:m(()=>{var e;return[s("span",C,d((e=o(r))==null?void 0:e.todayLeaves),1),t[7]||(t[7]=n(" Today Leave "))]}),_:1}),u(i,{to:{name:"LeaveApplicationList",query:{search:"tomorrow"}},class:"main-button"},{default:m(()=>{var e;return[s("span",P,d((e=o(r))==null?void 0:e.tomorrowLeaves),1),t[8]||(t[8]=n(" Tomorrow Leave "))]}),_:1}),u(i,{to:{name:"ShortLeaveList",query:{search:o(f)}},class:"main-button"},{default:m(()=>{var e;return[s("span",E,d((e=o(r))==null?void 0:e.todayShortLeaves),1),t[9]||(t[9]=n(" Today Short Leaves "))]}),_:1},8,["to"])])):A("",!0)])}}};export{W as default};
