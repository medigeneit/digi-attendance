import{D as w,r as u,y as v,E as n}from"./index-Dq1Ls3lG.js";const E=w("device",()=>{const l=u([]),i=u(null),s=u(!1),c=u(null),f=async()=>{var e,t;s.value=!0,c.value=null;try{const r=await n.get("/devices");l.value=r.data}catch(r){c.value=((t=(e=r.response)==null?void 0:e.data)==null?void 0:t.message)||"ডিভাইস লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching devices:",r)}finally{s.value=!1}},p=async e=>{var t,r;s.value=!0,c.value=null;try{const a=await n.get(`/devices/${e}`);i.value=a.data}catch(a){c.value=((r=(t=a.response)==null?void 0:t.data)==null?void 0:r.message)||`ডিভাইস (ID: ${e}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching device with id ${e}:`,a)}finally{s.value=!1}},y=async e=>{var t,r;s.value=!0,c.value=null;try{const a=await n.post("/devices",e);return l.value.push(a.data),a.data}catch(a){c.value=((r=(t=a.response)==null?void 0:t.data)==null?void 0:r.message)||"ডিভাইস তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating device:",a)}finally{s.value=!1}},h=async(e,t)=>{var r,a;s.value=!0,c.value=null;try{const o=await n.put(`/devices/${e}`,t),d=l.value.findIndex($=>$.id===e);return d!==-1&&(l.value[d]=o.data),o.data}catch(o){c.value=((a=(r=o.response)==null?void 0:r.data)==null?void 0:a.message)||`ডিভাইস (ID: ${e}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating device with id ${e}:`,o)}finally{s.value=!1}},g=async e=>{var t,r;s.value=!0,c.value=null;try{await n.delete(`/devices/${e}`),l.value=l.value.filter(a=>a.id!==e)}catch(a){c.value=((r=(t=a.response)==null?void 0:t.data)==null?void 0:r.message)||`ডিভাইস (ID: ${e}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting device with id ${e}:`,a)}finally{s.value=!1}},D=async e=>{try{return await n.get(`/check-device-connection/${e}`),!0}catch(t){return console.error(t),!1}};return{devices:v(()=>l.value),device:v(()=>i.value),loading:v(()=>s.value),error:v(()=>c.value),fetchDevices:f,fetchDevice:p,createDevice:y,updateDevice:h,deleteDevice:g,checkDeviceConnection:D}});export{E as u};
