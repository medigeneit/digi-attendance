import{_ as m}from"./AcceptAndRejectHandler-Dri0kaX0.js";import{L as k}from"./LoaderView-uU4GutIQ.js";import{u as v,b as w,a2 as S,d as A,q as u,e as B,c as a,o,a as t,t as r,k as i,p as N,g as x,F as D,x as I,f as O}from"./index-DHz7ni4_.js";import{u as C}from"./overtime-Vg5XM_F1.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"space-y-2 px-4"},V={class:"flex items-center justify-between gap-2"},q={class:"title-md md:title-lg flex-wrap text-center"},P={key:0,class:"text-center py-4"},R={key:1,class:"space-y-4"},F={class:"overflow-x-auto"},M={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},T={class:"border border-gray-300 px-2 text-center"},U={class:"border border-gray-300 px-2 text-center"},j={class:"border border-gray-300 px-2 text-center"},E={class:"border border-gray-300 px-2 text-center"},G={class:"border border-gray-300 px-2 text-center"},W={class:"border border-gray-300 px-2 text-center"},$={class:"border border-gray-300 px-2 text-center"},z={class:"border border-gray-300 px-2 text-center"},H={class:"border border-gray-300 px-2 text-center"},J={class:"border border-gray-300 px-2 text-center"},K={class:"border border-gray-300 px-2 text-center"},Q={key:0},st={__name:"OvertimeShow",setup(X){const _=v(),h=w(),c=C(),d=S();A();const l=u(()=>c.overtimes),y=u(()=>{var n;return((n=c.overtimes)==null?void 0:n.map(s=>s.id))||[]});B(async()=>{p()});const p=async()=>{await c.fetchUserOvertimesByApplicationId(h.params.id),await d.fetchApprovalPermissionsByUserApplicationIds("overtime_applications",y.value),await d.fetchCountNotifications()},g=()=>{_.go(-1)};return(n,s)=>{var b;return o(),a("div",L,[t("div",V,[t("div",{class:"flex items-center gap-2"},[t("button",{class:"btn-3 py-1",onClick:g},s[0]||(s[0]=[t("i",{class:"far fa-arrow-left"},null,-1),t("span",{class:"hidden md:flex"},"Back",-1)]))]),t("h1",q," Overtime of "+r(i(c).selectedMonthDisplay),1)]),(b=i(c))!=null&&b.loading?(o(),a("div",P,[N(k)])):(o(),a("div",R,[t("div",F,[t("table",M,[s[2]||(s[2]=t("thead",null,[t("tr",{class:"bg-gray-200 *:py-1"},[t("th",{class:"border border-gray-300 px-2 text-center"},"#"),t("th",{class:"border border-gray-300 px-2 text-center"},"Date"),t("th",{class:"border border-gray-300 px-2 text-center"},"Type"),t("th",{class:"border border-gray-300 px-2 text-center"},"Shift"),t("th",{class:"border border-gray-300 px-2 text-center"},"Check-In"),t("th",{class:"border border-gray-300 px-2 text-center"},"Check-Out"),t("th",{class:"border border-gray-300 px-2 text-center"},"Working (hour)"),t("th",{class:"border border-gray-300 px-2 text-center"},"Request (hour)"),t("th",{class:"border border-gray-300 px-2 text-center"},"Approved (hour)"),t("th",{class:"border border-gray-300 px-2 text-center"},"Status"),t("th",{class:"border border-gray-300 px-2 text-center"},"Action")])],-1)),t("tbody",null,[(o(!0),a(D,null,I(l.value,(e,f)=>(o(),a("tr",{key:e==null?void 0:e.id,class:"border-b border-gray-200 hover:bg-blue-200 *:py-2"},[t("td",T,r(f+1),1),t("td",U,r(new Date(e.date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})),1),t("td",j,r(e.duty_type),1),t("td",E,r(e.shift),1),t("td",G,r(e.check_in||"N/A"),1),t("td",W,r(e.check_out||"N/A"),1),t("td",$,r(e.working_hours||"-"),1),t("td",z,r(e.request_overtime_hours||"-"),1),t("td",H,r(e.approval_overtime_hours||"-"),1),t("td",J,r(e.status||"Pending"),1),t("td",K,[i(d).applicationApprovalPermissions[e.id]?(o(),O(m,{key:0,class:"ml-auto",notificationType:"overtime_applications",applicationId:e.id,onSuccess:p,variant:1},null,8,["applicationId"])):x("",!0)])]))),128)),l.value.length===0?(o(),a("tr",Q,s[1]||(s[1]=[t("td",{colspan:"7",class:"p-2 text-center text-red-500"},"No overtimes found",-1)]))):x("",!0)])])])]))])}}};export{st as default};
