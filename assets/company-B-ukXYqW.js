import{J as C,r as u,q as p,K as l}from"./index-FFQob3Ky.js";const D=C("company",()=>{const o=u([]),i=u([]),m=u(null),s=u(!1),t=u(null),y=async(a={})=>{var r,n;s.value=!0,t.value=null;try{const e=await l.get("/companies",{params:a});o.value=e.data}catch(e){t.value=((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||"কোম্পানি লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching companies:",e)}finally{s.value=!1}},f=async a=>{var r,n;s.value=!0,t.value=null;try{const e=await l.get(`/companies/${a}`);m.value=e.data}catch(e){t.value=((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||`কোম্পানি (ID: ${a}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching company with id ${a}:`,e)}finally{s.value=!1}},d=async a=>{var r,n;s.value=!0,t.value=null;try{const e=await l.post("/companies",a);return o.value.push(e.data),e.data}catch(e){t.value=((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||"কোম্পানি তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating company:",e)}finally{s.value=!1}},g=async(a,r)=>{var n,e;s.value=!0,t.value=null;try{const c=await l.put(`/companies/${a}`,r),v=o.value.findIndex(E=>E.id===a);return v!==-1&&(o.value[v]=c.data),c.data}catch(c){t.value=((e=(n=c.response)==null?void 0:n.data)==null?void 0:e.message)||`কোম্পানি (ID: ${a}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating company with id ${a}:`,c)}finally{s.value=!1}},h=async a=>{var r,n;s.value=!0,t.value=null;try{const e=await l.get(`/companies/${a}/employees`);i.value=e.data}catch(e){t.value=((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||`কোম্পানি (ID: ${a}) এর এমপ্লয়ী লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching department with id ${a}:`,e)}finally{s.value=!1}},$=async a=>{var r,n;s.value=!0,t.value=null;try{await l.delete(`/companies/${a}`),o.value=o.value.filter(e=>e.id!==a)}catch(e){t.value=((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||`কোম্পানি (ID: ${a}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting company with id ${a}:`,e)}finally{s.value=!1}},w=async a=>await l.get(`/companies/${a}/employees`);return{companies:p(()=>o.value),company:p(()=>m.value),loading:p(()=>s.value),error:p(()=>t.value),employees:i,fetchEmployee:h,fetchCompanies:y,fetchCompany:f,createCompany:d,updateCompany:g,deleteCompany:$,fetchEmployees:w}});export{D as u};
