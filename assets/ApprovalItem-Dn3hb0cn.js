import{N as $,y as i,o as s,c,a as l,t as r,k as A,e as d,l as N}from"./index-Dq1Ls3lG.js";import{_ as S}from"./AcceptAndRejectHandler-4eK3gP6z.js";const b={class:"flex flex-col justify-center items-center text-sm md:text-base text-center"},B={key:0,class:"text-center"},I={class:"text-center"},U={class:"text-xs text-gray-400 text-center"},j={key:1,class:"text-center"},w={class:"font-bold"},P={key:0,class:"text-green-600"},T={key:1,class:"pl-2 text-yellow-700"},D={__name:"ApprovalItem",props:{application:Object,type:String,item:String,onAction:{type:Function,default:()=>{}}},setup(t){const p=$(),v=i(()=>t.item?t.item.replace(/[_-]/g," ").replace(/([A-Z])/g," $1").replace(/\s+/g," ").trim().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""),m=i(()=>t.type==="leave_applications"?"leave_approval":"other_approval"),y=i(()=>{var e;return(e=t.application)==null?void 0:e[`${t.item}_user`]}),u=i(()=>{var e;return(e=t.application)==null?void 0:e[`${t.item}_user_id`]}),x=i(()=>{var e;return((e=t.application)==null?void 0:e[`${t.item}_note`])||""}),f=i(()=>{var e,a,n;return((n=(a=(e=t.application)==null?void 0:e.user)==null?void 0:a[m.value])==null?void 0:n[`${t.item}_user`])||{}}),h=i(()=>{var e;return(e=p.approvalPermissions)==null?void 0:e[`allow_${t.item}`]}),k=i(()=>t.application.status&&u.value),g=i(()=>{var e,a,n,o;return t.item==="handover"&&((e=t.application)==null?void 0:e.handover_user_id)||((o=(n=(a=t.application)==null?void 0:a.user)==null?void 0:n[m.value])==null?void 0:o[`${t.item}_user_id`])});return(e,a)=>{var n,o;return s(),c("div",b,[u.value?(s(),c("div",B,[l("p",I,r(((n=y.value)==null?void 0:n.name)||""),1),l("p",U,r(x.value),1)])):(s(),c("p",j,r(((o=f.value)==null?void 0:o.name)||"N/A"),1)),h.value?(s(),A(S,{key:2,notificationType:t.type,applicationId:t.application.id,onSuccess:t.onAction},null,8,["notificationType","applicationId","onSuccess"])):d("",!0),a[1]||(a[1]=l("hr",{class:"w-36 md:w-44 border-black my-1"},null,-1)),l("div",w,[N(r(v.value)+" ",1),k.value?(s(),c("span",P,"(âœ”)")):g.value?(s(),c("span",T,a[0]||(a[0]=[l("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)])])}}};export{D as _};
