import{_ as d}from"./ApprovalItem-Ca_bJuiY.js";import{L as E}from"./LoaderView-BwIZosFA.js";import{_ as G}from"./ShareComponent-btnKuVYn.js";import{_ as W}from"./DisplayFormattedWorkingHours-C3X8gLhg.js";import{u as J,b as K,d as Q,m as L,e as U,c as o,o as a,a as t,f as $,g as n,p as i,j as p,t as l,x as X,F as Y}from"./index-BIgT6kYM.js";import{u as Z}from"./overtime-m7bSpuGj.js";import"./AcceptAndRejectHandler-BpYb8OdU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const tt={class:"my-container max-w-2xl space-y-6"},et={key:1,class:"card-bg p-4 md:p-8"},st={class:"grid grid-cols-2 gap-2"},lt={class:"text-sm space-y-0.5"},at={key:0},ot={class:"pt-10"},nt={class:"text-lg text-blue-700"},it={class:"text-sm"},rt={class:"text-sm space-y-1"},ut={class:"text-sm font-semibold"},dt={class:"grid md:grid-cols-2 gap-x-4 gap-y-1 text-sm"},pt={class:"title-md font-semibold"},mt={key:0,class:"col-span-full space-x-1"},vt={class:"col-span-full"},ct={class:"col-span-full"},yt={key:0,class:"grid grid-cols-2 text-sm md:text-base md:grid-cols-2 md:gap-x-4 gap-y-14 pt-14 items-end"},Rt={__name:"MyOvertimeShow",setup(gt){const M=J(),m=K(),r=Z();Q();const P=L(()=>r.loading),s=L(()=>r.overtime);U(async()=>{const{id:v}=m.params;try{await r.fetchOvertimeById(v)}catch(e){console.error("Failed to fetch overtime details:",e)}});const T=()=>M.go(-1);function z(){window.print()}const u=async()=>{r.fetchOvertimeById(m.params.id)};return(v,e)=>{var c,y,g,x,_,f,b,k,w,A,B,R,j,N,D,O,S,C,h,I,V,q,F,H;return a(),o("div",tt,[t("div",{class:"flex items-center justify-between gap-2"},[t("button",{class:"btn-3",onClick:T},e[0]||(e[0]=[t("i",{class:"far fa-arrow-left"},null,-1),t("span",{class:"hidden md:flex"},"Back",-1)])),e[2]||(e[2]=t("h1",{class:"title-lg text-center"},"Overtime Details",-1)),t("div",null,[t("button",{class:"btn-2",onClick:z},e[1]||(e[1]=[t("i",{class:"far fa-print"},null,-1),p(" Print ")]))])]),P.value?(a(),$(E,{key:0})):s.value?(a(),o("div",et,[e[15]||(e[15]=t("h2",{class:"title-md"},"Overtime Request",-1)),t("div",st,[t("div",lt,[(c=s.value)!=null&&c.date?(a(),o("div",at,[e[3]||(e[3]=t("span",{class:"text-gray-500 mr-1"},"Date:",-1)),t("b",null,l(new Date((y=s.value)==null?void 0:y.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})),1)])):n("",!0),t("div",null,[e[4]||(e[4]=t("span",{class:"text-gray-500 mr-1"},"Duty Type:",-1)),t("b",null,l((g=s.value)==null?void 0:g.duty_type),1)]),t("div",ot,[t("div",null,[e[5]||(e[5]=t("hr",{class:"w-44 border-black"},null,-1)),t("p",null,[t("b",nt,l((x=s.value)==null?void 0:x.user.name),1)]),t("div",it,[t("p",null,l((b=(f=(_=s.value)==null?void 0:_.user)==null?void 0:f.designation)==null?void 0:b.title),1),t("p",null,l((A=(w=(k=s.value)==null?void 0:k.user)==null?void 0:w.department)==null?void 0:A.name),1)])])])]),t("div",rt,[t("div",null,[e[6]||(e[6]=t("span",{class:"text-gray-500 mr-1"},"Check In:",-1)),t("b",null,l(((B=s.value)==null?void 0:B.check_in)||"- : -"),1)]),t("div",null,[e[7]||(e[7]=t("span",{class:"text-gray-500 mr-1"},"Check Out:",-1)),t("b",null,l(((R=s.value)==null?void 0:R.check_out)||"- : -"),1)]),t("div",null,[e[8]||(e[8]=t("span",{class:"text-gray-500 mr-1"},"Working Hour:",-1)),t("b",null,[i(W,{workingHours:s.value.working_hours},null,8,["workingHours"])])]),t("div",null,[e[9]||(e[9]=t("span",{class:"text-gray-500 mr-1"},"Request hour:",-1)),t("b",null,l(parseInt((j=s.value)==null?void 0:j.request_overtime_hours)),1)]),t("div",null,[e[10]||(e[10]=t("span",{class:"text-gray-500 mr-1"},"Details:",-1)),t("span",ut,l(((N=s.value)==null?void 0:N.work_details)||"N/A"),1)])])]),e[16]||(e[16]=t("hr",null,null,-1)),t("div",dt,[t("div",pt,[e[11]||(e[11]=p(" Status: ")),t("span",{class:X({"text-yellow-500":((D=s.value)==null?void 0:D.status)==="Pending","text-green-600":((O=s.value)==null?void 0:O.status)==="Approved","text-red-500":((S=s.value)==null?void 0:S.status)==="Rejected"})},l(((C=s.value)==null?void 0:C.status)||"N/A"),3)]),((h=s.value)==null?void 0:h.status)==="Approved"?(a(),o("div",mt,[e[12]||(e[12]=t("span",null,"Approved overtime (hour):",-1)),t("b",null,l(parseInt((I=s.value)==null?void 0:I.approval_overtime_hours)),1)])):n("",!0),((V=s.value)==null?void 0:V.status)==="Rejected"?(a(),o(Y,{key:1},[t("div",vt,[e[13]||(e[13]=t("b",null,"Rejected By:",-1)),p(" "+l(((F=(q=s.value)==null?void 0:q.rejected_by_user)==null?void 0:F.name)||"N/A"),1)]),t("div",ct,[e[14]||(e[14]=t("b",null,"Rejection Reason:",-1)),p(" "+l(((H=s.value)==null?void 0:H.rejection_reason)||"N/A"),1)])],64)):n("",!0)]),e[17]||(e[17]=t("hr",null,null,-1)),s.value?(a(),o("div",yt,[i(d,{application:s.value,type:"overtime_applications",item:"in_charge",onAction:u},null,8,["application"]),s.value.user.type==="executive"?(a(),$(d,{key:0,application:s.value,type:"overtime_applications",item:"coordinator",onAction:u},null,8,["application"])):n("",!0),i(d,{application:s.value,type:"overtime_applications",item:"recommend_by",onAction:u},null,8,["application"]),i(d,{application:s.value,type:"overtime_applications",item:"approved_by",onAction:u},null,8,["application"])])):n("",!0)])):n("",!0),i(G)])}}};export{Rt as default};
