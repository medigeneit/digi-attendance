import{u as g,d as m,e as f,m as k,z as v,n as w,c as a,o as n,a as e,p as c,x as O,k as l,i as b,t as s,h as M,v as S,g as C,F as L,q as D}from"./index-BYRaLqzc.js";import{L as B}from"./LoaderView-D5il5eNb.js";import{_ as R}from"./DisplayFormattedWorkingHours-BROkVeV-.js";import{u as V}from"./overtime-CQMHN9CY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"space-y-2 px-4"},N={class:"flex items-center justify-between gap-2"},q={class:"flex items-center gap-2"},I={class:"title-md md:title-lg flex-wrap text-center"},j={class:"flex gap-4"},z={key:0,class:"text-center py-4"},F={key:1,class:"space-y-4"},H={class:"overflow-x-auto"},T={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},U={class:"border border-gray-300 px-2 text-center"},E={class:"border border-gray-300 px-2 text-center"},G={class:"border border-gray-300 px-2 text-center"},P={class:"border border-gray-300 px-2 text-center"},W={class:"border border-gray-300 px-2 text-center"},$={class:"border border-gray-300 px-2 text-center"},J={class:"border border-gray-300 px-2 text-center"},K={class:"border border-gray-300 px-2 text-center"},Q={class:"border border-gray-300 px-2 text-center"},X={class:"border border-gray-300 px-2 text-center"},Y={class:"border border-gray-300 px-2 text-center"},Z={class:"flex items-center justify-center gap-2"},ee={key:0},de={__name:"MyOvertimeList",setup(te){const _=g(),o=V();m(),f(()=>{i()});const h=()=>{_.go(-1)},p=k(()=>o.overtimes);v(()=>o.selectedMonth,d=>{d&&i(d)});const i=async(d=null)=>{o.fetchUserOvertimes({month:d||o.selectedMonth})};return(d,r)=>{var x;const u=w("RouterLink");return n(),a("div",A,[e("div",N,[e("div",q,[e("button",{class:"btn-3 py-1",onClick:h},r[1]||(r[1]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),e("div",null,[e("button",{onClick:i,type:"button",class:"btn-3 space-x-1 py-1"},[e("i",{class:O(["fas fa-sync text-lg",{"animate-spin":l(o).loading}])},null,2),r[2]||(r[2]=e("span",{class:"hidden md:inline"}," Reload ",-1))])]),c(u,{to:{name:"MyOvertimeAdd"},class:"btn-2"},{default:b(()=>r[3]||(r[3]=[e("i",{class:"far fa-plus"},null,-1),e("span",{class:"hidden md:flex"},"Overtime",-1)])),_:1,__:[3]})]),e("h1",I," Overtime of "+s(l(o).selectedMonthDisplay),1),e("div",j,[e("div",null,[M(e("input",{id:"monthSelect",type:"month","onUpdate:modelValue":r[0]||(r[0]=t=>l(o).selectedMonth=t),class:"input-1"},null,512),[[S,l(o).selectedMonth]])])])]),(x=l(o))!=null&&x.loading?(n(),a("div",z,[c(B)])):(n(),a("div",F,[e("div",H,[e("table",T,[r[6]||(r[6]=e("thead",null,[e("tr",{class:"bg-gray-200 *:py-1"},[e("th",{class:"border border-gray-300 px-2 text-center"},"#"),e("th",{class:"border border-gray-300 px-2 text-center"},"Date"),e("th",{class:"border border-gray-300 px-2 text-center"},"Type"),e("th",{class:"border border-gray-300 px-2 text-center"},"Shift"),e("th",{class:"border border-gray-300 px-2 text-center"},"Check-In"),e("th",{class:"border border-gray-300 px-2 text-center"},"Check-Out"),e("th",{class:"border border-gray-300 px-2 text-center"},"Working (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Request (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Approved (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Status"),e("th",{class:"border border-gray-300 px-2 text-center"},"Action")])],-1)),e("tbody",null,[(n(!0),a(L,null,D(p.value,(t,y)=>(n(),a("tr",{key:t==null?void 0:t.id,class:"border-b border-gray-200 hover:bg-blue-200 *:py-2"},[e("td",U,s(y+1),1),e("td",E,s(new Date(t.date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})),1),e("td",G,s(t.duty_type),1),e("td",P,s(t.shift),1),e("td",W,s(t.check_in||"- : -"),1),e("td",$,s(t.check_out||"- : -"),1),e("td",J,[c(R,{workingHours:t.working_hours},null,8,["workingHours"])]),e("td",K,s(parseInt(t.request_overtime_hours)||"-"),1),e("td",Q,s(parseInt(t.approval_overtime_hours)||"-"),1),e("td",X,s(t.status||"Pending"),1),e("td",Y,[e("div",Z,[c(u,{to:{name:"MyOvertimeShow",params:{id:t.id}},class:"btn-1 px-3"},{default:b(()=>r[4]||(r[4]=[e("i",{class:"far fa-eye"},null,-1)])),_:2,__:[4]},1032,["to"])])])]))),128)),p.value.length===0?(n(),a("tr",ee,r[5]||(r[5]=[e("td",{colspan:"7",class:"p-2 text-center text-red-500"},"No overtimes found",-1)]))):C("",!0)])])])]))])}}};export{de as default};
