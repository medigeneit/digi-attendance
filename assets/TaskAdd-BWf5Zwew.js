import{b as _,u as y,d as h,r as c,C,c as d,o as n,f as T,a as t,t as b,y as w,i as g,j as q,w as p,k as m}from"./index-Cb92UFoB.js";import{_ as N}from"./TaskAddForm-aVLJPWbG.js";import"./RequiredIcon-CRIjzlGE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./company-BeR0LHZG.js";import"./useRequirementStore-CjYvupV6.js";import"./requirement-KR7qmxYj.js";import"./useTaskStore-DzR944cg.js";import"./CompanyDepartmentSelectInput-Dg3lQLSD.js";import"./SelectDropdown-s-WeKlHf.js";import"./SectionLoading-DO7SyEWi.js";import"./TextWithHr-CaccsR2G.js";import"./TaskUrgencyInput-D_vngzw6.js";const B={class:"container mx-auto p-6"},R={key:0,class:"h-[70vh] w-full flex justify-center items-center"},S={class:"flex flex-col gap-4 min-h-[40vh] justify-center items-center border max-w-4xl w-full px-16 mx-auto bg-white p-4"},I={class:"text-xl my-3"},$={class:"flex gap-2"},P={__name:"TaskAdd",setup(j){const s=_(),f=y();h();const a=c(!1),r=c(null);function k(o){try{i()}catch{a.value=!0,r.value=o}}function i(){if(s.query["back-to"])return f.push({path:s.query["back-to"]});throw Error("No back route defined")}return(o,e)=>{var l,u;const v=C("RouterLink");return n(),d("div",B,[a.value?(n(),d("div",R,[t("div",S,[e[4]||(e[4]=t("div",{class:"flex gap-4"},[t("div",null,[t("i",{class:"fas fa-check-circle text-4xl text-green-400"})]),t("div",{class:"text-2xl text-gray-800"},"Task Successfully Created")],-1)),t("div",I,"Task: "+b(r.value.title),1),t("div",$,[w(v,{to:{name:"TaskShow",params:{id:r.value.id}},class:"btn-2",onClick:e[0]||(e[0]=p(x=>a.value=!1,["prevent"]))},{default:g(()=>e[3]||(e[3]=[q("Show Task")])),_:1,__:[3]},8,["to"]),t("button",{class:"btn-3",onClick:e[1]||(e[1]=p(x=>a.value=!1,["prevent"]))},"Create another Task")])])])):(n(),T(N,{key:1,parentTaskId:Number((l=m(s).query)==null?void 0:l.parent_id),requirementId:Number((u=m(s).query)==null?void 0:u.requirement_id),onTaskCreated:k,onClose:e[2]||(e[2]=()=>{try{i()}catch{o.$event.preventDefault()}})},null,8,["parentTaskId","requirementId"]))])}}};export{P as default};
