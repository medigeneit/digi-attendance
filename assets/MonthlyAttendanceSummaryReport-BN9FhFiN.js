import{r as _,s as l,b as S,q as D,c as p,a as s,d as y,A as L,F as x,x as b,h as o,v as M,j as C,o as n,t as e,g as A,f as E}from"./index-CBF_IMfm.js";import{L as R}from"./LoaderView-BpujvEg8.js";import{u as T}from"./attendance-xheWfvW7.js";import{u as B}from"./company-DFcwJPph.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"px-4 space-y-4"},F={class:"flex gap-4"},P=["value"],V={key:1,class:"space-y-4"},W={class:"overflow-x-auto card-bg"},j={class:"min-w-full table-auto border-collapse border border-gray-300 bg-white"},N={class:"text-center text-sm"},U={class:"border px-2 py-0.5"},q={class:"border px-2 py-0.5"},I={class:"border px-2 py-0.5"},O={class:"border px-2 py-0.5"},z={class:"border px-2 py-0.5"},G={class:"border px-2 py-0.5"},J={class:"border px-2 py-0.5"},K={class:"border px-2 py-0.5"},Q={class:"border px-2 py-0.5"},X={class:"border px-2 py-0.5"},Y={class:"border px-2 py-0.5"},Z={class:"border px-2 py-0.5"},$={class:"border px-2 py-0.5"},g={class:"border px-2 py-0.5"},tt={class:"border px-2 py-0.5"},st={class:"border px-2 py-0.5"},et={class:"border px-2 py-0.5"},at={class:"border px-2 py-0.5"},rt={class:"border px-2 py-0.5"},dt={class:"border px-2 py-0.5"},nt={class:"border px-2 py-0.5"},pt={class:"border px-2 py-0.5"},ot={class:"border px-2 py-0.5"},ct={class:"border px-2 py-0.5"},ht={__name:"MonthlyAttendanceSummaryReport",setup(it){const u=A();E();const i=B(),r=T(),d=_(""),h=_(""),{companies:m}=l(i),{monthly_company_summary:f}=l(r),c=async()=>{d.value&&await r.getMonthlyAttendanceSummaryReport(d.value,r.selectedMonth)},v=async()=>{d.value&&await r.downloadExcel(d.value,r.selectedMonth)},w=async()=>{d.value&&await r.downloadPDF(d.value,r.selectedMonth)};S(async()=>{await i.fetchCompanies()}),D([d,h],c);const k=()=>u.go(-1);return(_t,a)=>(n(),p("div",H,[s("div",{class:"flex items-center justify-between gap-2"},[s("button",{class:"btn-3",onClick:k},a[2]||(a[2]=[s("i",{class:"far fa-arrow-left"},null,-1),s("span",{class:"hidden md:flex"},"Back",-1)])),a[5]||(a[5]=s("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Monthly Attendance Summary Report",-1)),s("div",{class:"flex gap-4"},[s("button",{type:"button",onClick:v},a[3]||(a[3]=[s("i",{class:"far fa-file-excel text-2xl text-green-500"},null,-1)])),s("button",{type:"button",onClick:w},a[4]||(a[4]=[s("i",{class:"fal fa-file-pdf text-2xl text-red-500"},null,-1)]))])]),s("div",F,[s("div",null,[y(s("select",{id:"userSelect","onUpdate:modelValue":a[0]||(a[0]=t=>d.value=t),onChange:c,class:"input-1"},[a[6]||(a[6]=s("option",{value:"",disabled:""},"Select a Company",-1)),(n(!0),p(x,null,b(o(m),t=>(n(),p("option",{key:t==null?void 0:t.id,value:t==null?void 0:t.id},e(t==null?void 0:t.name),9,P))),128))],544),[[L,d.value]])]),s("div",null,[y(s("input",{type:"month","onUpdate:modelValue":a[1]||(a[1]=t=>o(r).selectedMonth=t),onChange:c,class:"input-1"},null,544),[[M,o(r).selectedMonth]])])]),o(r).isLoading?(n(),C(R,{key:0})):(n(),p("div",V,[s("div",W,[s("table",j,[a[8]||(a[8]=s("thead",null,[s("tr",{class:"bg-gray-100 text-sm"},[s("th",{rowspan:"2",class:"border px-1 py-0.5"},"Employee Name"),s("th",{rowspan:"2",class:"border px-1 py-0.5"},"Designation"),s("th",{colspan:"5",class:"border px-1 py-0.5"},"Attendance Summary"),s("th",{colspan:"2",class:"border px-1 py-0.5"},"Actual Late"),s("th",{colspan:"2",class:"border px-1 py-0.5"},"Remaining Late"),s("th",{colspan:"2",class:"border px-1 py-0.5"},"Actual Early"),s("th",{colspan:"2",class:"border px-1 py-0.5"},"Remaining Early"),s("th",{rowspan:"2",class:"border px-1 py-0.5"},"Working Hour"),s("th",{rowspan:"2",class:"border px-1 py-0.5"},"OT Hour"),s("th",{colspan:"4",class:"border px-1 py-0.5"},"Leave Day"),s("th",{colspan:"2",class:"border px-1 py-0.5"},"Short Leave"),s("th",{rowspan:"2",class:"border px-1 py-0.5"},"Weekend Duty"),s("th",{rowspan:"2",class:"border px-2 py-0.5"},"Comment")]),s("tr",{class:"bg-gray-100 text-xs"},[s("th",{class:"border px-2 py-0.5"},"TD"),s("th",{class:"border px-2 py-0.5"},"TP"),s("th",{class:"border px-2 py-0.5"},"TW"),s("th",{class:"border px-2 py-0.5"},"TL"),s("th",{class:"border px-2 py-0.5"},"TA"),s("th",{class:"border px-1 py-0.5"},"Day"),s("th",{class:"border px-2 py-0.5"},"Hour"),s("th",{class:"border px-1 py-0.5"},"Day"),s("th",{class:"border px-2 py-0.5"},"Hour"),s("th",{class:"border px-1 py-0.5"},"Day"),s("th",{class:"border px-2 py-0.5"},"Hour"),s("th",{class:"border px-2 py-0.5"},"Day"),s("th",{class:"border px-2 py-0.5"},"Hour"),s("th",{class:"border px-2 py-0.5"},"CL"),s("th",{class:"border px-2 py-0.5"},"ML"),s("th",{class:"border px-2 py-0.5"},"SL"),s("th",{class:"border px-2 py-0.5"},"WPL"),s("th",{class:"border px-2 py-0.5"},"Entry"),s("th",{class:"border px-2 py-0.5"},"Exist")])],-1)),s("tbody",N,[(n(!0),p(x,null,b(o(f),t=>(n(),p("tr",{key:t==null?void 0:t.date,class:"border-b border-gray-200 hover:bg-blue-200"},[s("td",U,e(t==null?void 0:t.user),1),s("td",q,e(t==null?void 0:t.designation),1),s("td",I,e(t==null?void 0:t.total_monthly_days),1),s("td",O,e(t==null?void 0:t.total_present),1),s("td",z,e(t==null?void 0:t.total_weekend),1),s("td",G,e(t==null?void 0:t.total_leave),1),s("td",J,e(t==null?void 0:t.total_absent),1),s("td",K,e(t==null?void 0:t.actual_late_day),1),s("td",Q,e(t==null?void 0:t.actual_late_hour),1),s("td",X,e(t==null?void 0:t.total_remain_late_day),1),s("td",Y,e(t==null?void 0:t.total_remain_late_hour),1),s("td",Z,e(t==null?void 0:t.actual_early_day),1),s("td",$,e(t==null?void 0:t.actual_early_hour),1),s("td",g,e(t==null?void 0:t.total_remain_early_day),1),s("td",tt,e(t==null?void 0:t.total_remain_early_hour),1),s("td",st,e((t==null?void 0:t.total_working_hours)||0)+" / "+e((t==null?void 0:t.total_shift_hour)||0),1),s("td",et,e(t==null?void 0:t.total_overtime_hours),1),s("td",at,e(t==null?void 0:t.total_cl_leave),1),s("td",rt,e(t==null?void 0:t.total_ml_leave),1),s("td",dt,e(t==null?void 0:t.total_sl_leave),1),s("td",nt,e(t==null?void 0:t.total_wpl_leave),1),s("td",pt,e(t==null?void 0:t.total_first_short_leave),1),s("td",ot,e(t==null?void 0:t.total_last_short_leave),1),s("td",ct,e(t.total_present_in_weekend),1),a[7]||(a[7]=s("td",{class:"border px-2 py-0.5"},null,-1))]))),128))])])])]))]))}};export{ht as default};
