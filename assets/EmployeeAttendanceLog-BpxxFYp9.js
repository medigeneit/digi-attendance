import{r as g,x as U,b as B,z as k,c as o,a as t,l as D,h as m,d as E,v as j,j as T,F as S,q as A,k as i,t as l,o as n,g as C}from"./index-DJxwj_Xq.js";import{L as I}from"./LoaderView-DD1RtdxF.js";import{_}from"./MultiselectDropdown-BJExNfXq.js";import{u as F}from"./attendance-BdcFLXB_.js";import{u as q}from"./user-CBoJVZ4E.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vue-multiselect.esm-CLN_3xWS.js";const z={class:"px-4 space-y-4"},P={class:"w-1/2 flex flex-wrap gap-4"},R={key:1,class:"space-y-4"},$={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},G={class:"text-sm font-semibold text-blue-700 border-b pb-1 mb-2"},H={class:"flex items-center gap-1 text-gray-700"},J={class:"text-right text-gray-500 bg-blue-100 px-2 py-0.5 rounded text-[10px]"},K={key:2,class:"flex justify-between gap-4 text-sm"},O={class:"card-bg p-4 gap-1"},Q={class:"grid md:grid-cols-2"},W={key:3},ae={__name:"EmployeeAttendanceLog",setup(X){const L=C(),f=q(),d=F(),s=g(null),V=g(""),N=g(""),p=U(()=>{var a;return(a=s.value)==null?void 0:a.id}),c=async()=>{p&&await d.getMonthlyAttendanceLog(p.value,d.selectedMonth)};B(async()=>{await f.fetchUsers()}),k([V,N],c),k(p,(a,e)=>{a!==null&&c()},{immediate:!1});const h=()=>L.go(-1),M=a=>new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(a,e)=>{var x,v,y;return n(),o("div",z,[t("div",{class:"flex items-center justify-between gap-2"},[t("button",{class:"btn-3",onClick:h},e[2]||(e[2]=[t("i",{class:"far fa-arrow-left"},null,-1),t("span",{class:"hidden md:flex"},"Back",-1)])),e[3]||(e[3]=t("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Attendance Log",-1)),e[4]||(e[4]=t("div",null,null,-1))]),t("div",P,[D(_,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=r=>s.value=r),options:m(f).users,multiple:!1,label:"name",placeholder:"Select Employee"},null,8,["modelValue","options"]),t("div",null,[E(t("input",{id:"monthSelect",type:"month","onUpdate:modelValue":e[1]||(e[1]=r=>m(d).selectedMonth=r),onChange:c,class:"input-1"},null,544),[[j,m(d).selectedMonth]])])]),m(d).isLoading?(n(),T(I,{key:0})):(n(),o("div",R,[t("div",$,[(n(!0),o(S,null,A(m(d).attendanceLogs,(r,b)=>(n(),o("div",{key:b,class:"bg-white shadow rounded-lg p-4"},[t("h3",G,l(b),1),(n(!0),o(S,null,A(r,(u,Y)=>{var w;return n(),o("div",{key:u.id,class:"flex items-center justify-between text-xs mb-1"},[t("div",H,[e[5]||(e[5]=t("i",{class:"far fa-clock text-blue-500"},null,-1)),i(" "+l(M(u.timestamp)),1)]),t("div",J,l(((w=u==null?void 0:u.device)==null?void 0:w.name)||"Unknown"),1)])}),128))]))),128))])])),s.value?(n(),o("div",K,[t("div",O,[e[12]||(e[12]=t("h2",{class:"title-md"},"Selected Employee Info",-1)),e[13]||(e[13]=t("hr",null,null,-1)),t("div",Q,[t("p",null,[e[6]||(e[6]=t("strong",null,"Name:",-1)),i(" "+l(s.value.name),1)]),t("p",null,[e[7]||(e[7]=t("strong",null,"Designation:",-1)),i(" "+l(((x=s.value.designation)==null?void 0:x.title)||"N/A"),1)]),t("p",null,[e[8]||(e[8]=t("strong",null,"Department:",-1)),i(" "+l(((v=s.value.department)==null?void 0:v.name)||"N/A"),1)]),t("p",null,[e[9]||(e[9]=t("strong",null,"Company:",-1)),i(" "+l(((y=s.value.company)==null?void 0:y.name)||"N/A"),1)]),t("p",null,[e[10]||(e[10]=t("strong",null,"Phone:",-1)),i(" "+l(s.value.phone),1)]),t("p",null,[e[11]||(e[11]=t("strong",null,"Email:",-1)),i(" "+l(s.value.email||"N/A"),1)])])])])):(n(),o("div",W,e[14]||(e[14]=[t("p",{class:"text-gray-400 text-center text-2xl italic"},"Select an employee, please.",-1)])))])}}};export{ae as default};
