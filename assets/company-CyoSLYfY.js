import{D as $,r as u,n as p,E as c}from"./index-2dxYNZtw.js";const C=$("company",()=>{const t=u([]),i=u(null),o=u(!1),s=u(null),m=async()=>{var e,r;o.value=!0,s.value=null;try{const n=await c.get("/companies");t.value=n.data}catch(n){s.value=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"কোম্পানি লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching companies:",n)}finally{o.value=!1}},y=async e=>{var r,n;o.value=!0,s.value=null;try{const a=await c.get(`/companies/${e}`);i.value=a.data}catch(a){s.value=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||`কোম্পানি (ID: ${e}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching company with id ${e}:`,a)}finally{o.value=!1}},f=async e=>{var r,n;o.value=!0,s.value=null;try{const a=await c.post("/companies",e);return t.value.push(a.data),a.data}catch(a){s.value=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"কোম্পানি তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating company:",a)}finally{o.value=!1}},d=async(e,r)=>{var n,a;o.value=!0,s.value=null;try{const l=await c.put(`/companies/${e}`,r),v=t.value.findIndex(h=>h.id===e);return v!==-1&&(t.value[v]=l.data),l.data}catch(l){s.value=((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.message)||`কোম্পানি (ID: ${e}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating company with id ${e}:`,l)}finally{o.value=!1}},g=async e=>{var r,n;o.value=!0,s.value=null;try{await c.delete(`/companies/${e}`),t.value=t.value.filter(a=>a.id!==e)}catch(a){s.value=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||`কোম্পানি (ID: ${e}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting company with id ${e}:`,a)}finally{o.value=!1}};return{companies:p(()=>t.value),company:p(()=>i.value),loading:p(()=>o.value),error:p(()=>s.value),fetchCompanies:m,fetchCompany:y,createCompany:f,updateCompany:d,deleteCompany:g}});export{C as u};
