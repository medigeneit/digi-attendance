import{u as _}from"./userPermissionStore-DLiHwvY6.js";import{u as k,s as g,e as h,k as y,c as n,o as a,a as s,l as x,p as P,n as w,F as C,y as v,t as r,h as B}from"./index-uGTI6_9B.js";const L={class:"space-y-2 px-4"},A={class:"flex items-center justify-between gap-2"},N={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},R={class:"p-3 border"},j={class:"p-3 border"},S={class:"p-3 border"},U={key:0},V={key:1},D={class:"p-3 border flex justify-center md:gap-4"},E=["onClick"],F=["onClick"],q={__name:"PermissionList",setup(T){const i=_(),c=k(),{userPermissions:u}=g(i),f=o=>{c.push({name:"PermissionEdit",params:{id:o}})},m=o=>{i.deletePermission(o)};return h(()=>{i.fetchUserPermissions()}),(o,t)=>{const b=y("RouterLink");return a(),n("div",L,[s("div",A,[s("button",{class:"btn-3",onClick:t[0]||(t[0]=(...e)=>o.goBack&&o.goBack(...e))},t[1]||(t[1]=[s("i",{class:"far fa-arrow-left"},null,-1),s("span",{class:"hidden md:flex"},"Back",-1)])),t[3]||(t[3]=s("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Permissions List",-1)),x(b,{to:{name:"PermissionsAdd"},class:"btn-2"},{default:P(()=>t[2]||(t[2]=[w(" + Add New ")])),_:1})]),s("table",N,[t[6]||(t[6]=s("thead",{class:"bg-gray-100"},[s("tr",{class:"bg-gray-200"},[s("th",{class:"text-left p-3 border"},"User"),s("th",{class:"text-left p-3 border"},"Company"),s("th",{class:"text-left p-3 border"},"Departments"),s("th",{class:"text-left p-3 border"},"Actions")])],-1)),s("tbody",null,[(a(!0),n(C,null,v(B(u),e=>{var l,d;return a(),n("tr",{key:e.id,class:"hover:bg-gray-50"},[s("td",R,r((l=e==null?void 0:e.user)==null?void 0:l.name),1),s("td",j,r((d=e==null?void 0:e.company)==null?void 0:d.name),1),s("td",S,[e.department_ids.includes("*")?(a(),n("span",U,"All")):(a(),n("span",V,r(e.departments.join(", ")),1))]),s("td",D,[s("button",{onClick:p=>f(e.id),class:"btn-1"},t[4]||(t[4]=[s("i",{class:"fas fa-edit"},null,-1)]),8,E),s("button",{onClick:p=>m(e.id),class:"btn-1 text-red-600"},t[5]||(t[5]=[s("i",{class:"fas fa-trash"},null,-1)]),8,F)])])}),128))])])])}}};export{q as default};
