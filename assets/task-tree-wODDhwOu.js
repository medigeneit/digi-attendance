function _(e,i){var o,c,n;let u=!0;if(i!=null&&i["user-ids"]&&(u=u&&((o=e==null?void 0:e.users)==null?void 0:o.some(r=>r.id==(i==null?void 0:i["user-ids"])))),i!=null&&i.status){const r={"not-completed":["IN_PROGRESS","PENDING"],"only-completed":["COMPLETED"]},d=r==null?void 0:r[i==null?void 0:i.status];u=u&&d.includes(e==null?void 0:e.status)}return((c=e==null?void 0:e.children_tasks)==null?void 0:c.length)>0?u&&((n=e==null?void 0:e.children_tasks)==null?void 0:n.filter(r=>_(r,i)).length)>0:u}function m(e,i){var o,c;const u=n=>n.is_urgent&&n.is_important?4:n.is_urgent?3:n.is_important?2:n.is_target?1:0;return((c=(o=e==null?void 0:e.filter(n=>_(n,i)))==null?void 0:o.map(n=>{var r;return{...n,children_tasks:((r=n.children_tasks)==null?void 0:r.length)>0?m(n.children_tasks,i):[]}}))==null?void 0:c.sort((n,r)=>{const d=u(n),p=u(r);return p!==d?p-d:r.priority!==n.priority?r.priority-n.priority:r.serial!==n.serial?r.serial-n.serial:r.id-n.id}))||[]}export{m};
