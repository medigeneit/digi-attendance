import{L as w}from"./LoaderView-Cr2t9ATp.js";import{u as v}from"./notice-kKMaXHLC.js";import{s as k,b as N,x as L,c as a,a as t,l as i,m as c,h as S,F as f,q as m,n as B,o as d,t as l,g as D}from"./index-DIr8d3r1.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"space-y-2 px-4"},C={class:"flex items-center justify-between gap-2"},R={key:0,class:"text-center py-4"},A={key:1,class:"space-y-4"},T={class:"title-md"},V={class:"overflow-x-auto"},F={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},M={class:"border border-gray-300 px-2"},P={class:"border border-gray-300 px-2"},j={class:"border border-gray-300 px-2"},q={class:"border border-gray-300 px-2"},G={class:"border border-gray-300 px-2"},U={class:"border border-gray-300 px-2 text-center"},z={class:"border border-gray-300 px-2"},H={class:"flex gap-2"},W={__name:"NoticeList",setup(I){const x=D(),u=v(),{notices:g}=k(u);N(()=>{u.fetchNotices()});const _=()=>{x.go(-1)},p=r=>new Date(r).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),y=L(()=>{const r={};return g.value.forEach(s=>{var n;const o=((n=s.company)==null?void 0:n.name)||"Multiple Companies";r[o]||(r[o]=[]),r[o].push(s)}),r});return(r,s)=>{const o=B("RouterLink");return d(),a("div",E,[t("div",C,[t("button",{class:"btn-3",onClick:_},s[0]||(s[0]=[t("i",{class:"far fa-arrow-left"},null,-1),t("span",{class:"hidden md:flex"},"Back",-1)])),s[2]||(s[2]=t("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Notice List",-1)),i(o,{to:{name:"NoticeAdd"},class:"btn-2"},{default:c(()=>s[1]||(s[1]=[t("span",{class:"hidden md:flex"},"Add New",-1),t("i",{class:"far fa-plus"},null,-1)])),_:1})]),S(u).isLoading?(d(),a("div",R,[i(w)])):(d(),a("div",A,[(d(!0),a(f,null,m(y.value,(n,b)=>(d(),a("div",{key:b},[t("h2",T,l(b),1),t("div",V,[t("table",F,[s[5]||(s[5]=t("thead",null,[t("tr",{class:"bg-gray-200"},[t("th",{class:"border border-gray-300 px-2 text-left"},"#"),t("th",{class:"border border-gray-300 px-2 text-left"},"Title"),t("th",{class:"border border-gray-300 px-2 text-left"},"Type"),t("th",{class:"border border-gray-300 px-2 text-left"},"Published Date"),t("th",{class:"border border-gray-300 px-2 text-left"},"Expired Date"),t("th",{class:"border border-gray-300 px-2 text-left"},"Show Employee"),t("th",{class:"border border-gray-300 px-2 text-left"},"Action")])],-1)),t("tbody",null,[(d(!0),a(f,null,m(n,(e,h)=>(d(),a("tr",{key:e.id,class:"border-b border-gray-200 hover:bg-blue-200"},[t("td",M,l(h+1),1),t("td",P,l(e==null?void 0:e.title),1),t("td",j,l((e==null?void 0:e.type)===1?"General Notice":"Policy"),1),t("td",q,l(p(e==null?void 0:e.published_at)),1),t("td",G,l(p(e==null?void 0:e.expired_at)||"নেই"),1),t("td",U,l(e==null?void 0:e.user_feedback_count),1),t("td",z,[t("div",H,[i(o,{to:{name:"NoticeShow",params:{id:e.id}},class:"btn-icon"},{default:c(()=>s[3]||(s[3]=[t("i",{class:"far fa-eye"},null,-1)])),_:2},1032,["to"]),i(o,{to:{name:"NoticeEdit",params:{id:e.id}},class:"btn-icon"},{default:c(()=>s[4]||(s[4]=[t("i",{class:"far fa-edit"},null,-1)])),_:2},1032,["to"])])])]))),128))])])])]))),128))]))])}}};export{W as default};
