import{E as I,r as d,p as v,G as o}from"./index-CwkECakn.js";const F=I("manualAttendance",()=>{const u=d([]),m=d(null),c=d(!1),t=d(null),p=async(e={})=>{var r,n;c.value=!0,t.value=null;try{const a=await o.get("/manual-attendances",{params:e});u.value=a.data.data}catch(a){t.value=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to fetch manual attendances",console.error("Error fetching manual attendances:",a)}finally{c.value=!1}},f=async e=>{var r,n;c.value=!0,t.value=null;try{const a=await o.get(`/manual-attendances/${e}`);m.value=a.data}catch(a){t.value=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||`Failed to fetch manual attendance (ID: ${e})`,console.error(`Error fetching manual attendance with id ${e}:`,a)}finally{c.value=!1}},h=async e=>{var r,n;c.value=!0,t.value=null;try{const a=await o.post("/manual-attendances",e);return u.value.push(a.data.data),a.data.data}catch(a){throw t.value=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to create manual attendance",console.error("Error creating manual attendance:",a),new Error(t.value)}finally{c.value=!1}},y=async(e,r)=>{var n,a;c.value=!0,t.value=null;try{const l=await o.put(`/manual-attendances/${e}`,r),s=u.value.findIndex(i=>i.id===e);return s!==-1&&(u.value[s]=l.data.data),l.data.data}catch(l){throw t.value=((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.message)||`Failed to update manual attendance (ID: ${e})`,console.error(`Error updating manual attendance with id ${e}:`,l),new Error(t.value)}finally{c.value=!1}},w=async e=>{var r,n;c.value=!0,t.value=null;try{await o.delete(`/manual-attendances/${e}`),u.value=u.value.filter(a=>a.id!==e)}catch(a){throw t.value=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||`Failed to delete manual attendance (ID: ${e})`,console.error(`Error deleting manual attendance with id ${e}:`,a),new Error(t.value)}finally{c.value=!1}},g=async e=>{var r,n;c.value=!0,t.value=null;try{const a=await o.post(`/manual-attendances/${e}/in-charge-accept`),l=u.value.findIndex(s=>s.id===e);return l!==-1&&(u.value[l]=a.data.data),a.data.data}catch(a){throw t.value=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||`Failed to accept in-charge for manual attendance (ID: ${e})`,console.error(`Error accepting in-charge for manual attendance with id ${e}:`,a),new Error(t.value)}finally{c.value=!1}},$=async e=>{var r,n;c.value=!0,t.value=null;try{const a=await o.post(`/manual-attendances/${e}/recommend-by-accept`),l=u.value.findIndex(s=>s.id===e);return l!==-1&&(u.value[l]=a.data.data),a.data.data}catch(a){throw t.value=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||`Failed to accept recommendation for manual attendance (ID: ${e})`,console.error(`Error accepting recommendation for manual attendance with id ${e}:`,a),new Error(t.value)}finally{c.value=!1}},E=async e=>{var r,n;c.value=!0,t.value=null;try{const a=await o.post(`/manual-attendances/${e}/approved-by-accept`),l=u.value.findIndex(s=>s.id===e);return l!==-1&&(u.value[l]=a.data.data),a.data.data}catch(a){throw t.value=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||`Failed to approve manual attendance (ID: ${e})`,console.error(`Error approving manual attendance with id ${e}:`,a),new Error(t.value)}finally{c.value=!1}},A=async(e,r)=>{var n,a;c.value=!0,t.value=null;try{const l=await o.post(`/manual-attendances/${e}/reject`,{rejection_reason:r}),s=u.value.findIndex(i=>i.id===e);return s!==-1&&(u.value[s]=l.data.data),l.data.data}catch(l){throw t.value=((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.message)||`Failed to reject manual attendance (ID: ${e})`,console.error(`Error rejecting manual attendance with id ${e}:`,l),new Error(t.value)}finally{c.value=!1}};return{manualAttendances:v(()=>u.value),manualAttendance:v(()=>m.value),loading:v(()=>c.value),error:v(()=>t.value),fetchManualAttendances:p,fetchManualAttendanceById:f,createManualAttendance:h,updateManualAttendance:y,deleteManualAttendance:w,inChargeAccept:g,recommendByAccept:$,approvedByAccept:E,rejectManualAttendance:A}});export{F as u};
