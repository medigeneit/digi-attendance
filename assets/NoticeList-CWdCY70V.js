import{L as N}from"./LoaderView-Bgow-H_5.js";import{u as L}from"./notice-BW4OeHuK.js";import{s as S,b as C,p as D,c as a,a as s,l as u,m as i,h as A,F as c,x,n as B,o,t,g as E}from"./index-DT7sw9xh.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"space-y-2 px-4"},T={class:"flex items-center justify-between gap-2"},V={key:0,class:"text-center py-4"},F={key:1,class:"space-y-4"},P={class:"title-md"},j={class:"overflow-x-auto"},G={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},M={class:"border border-gray-300 px-2"},U={class:"border border-gray-300 px-2"},q={class:"border border-gray-300 px-2"},z={class:"border border-gray-300 px-2"},H={class:"border border-gray-300 px-2"},I={class:"border border-gray-300 px-2"},J={class:"border border-gray-300 px-2"},K={class:"border border-gray-300 px-2 text-center"},O={class:"border border-gray-300 px-2"},Q={class:"flex gap-2"},ss={__name:"NoticeList",setup(W){const m=E(),b=L(),{notices:_}=S(b);C(()=>{b.fetchNotices()});const h=()=>{m.go(-1)},f=d=>new Date(d).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),w=D(()=>{const d={};return _.value.forEach(e=>{var n;const l=((n=e.company)==null?void 0:n.name)||"All Company";d[l]||(d[l]=[]),d[l].push(e)}),d});return(d,e)=>{const l=B("RouterLink");return o(),a("div",R,[s("div",T,[s("button",{class:"btn-3",onClick:h},e[0]||(e[0]=[s("i",{class:"far fa-arrow-left"},null,-1),s("span",{class:"hidden md:flex"},"Back",-1)])),e[2]||(e[2]=s("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Notice List",-1)),u(l,{to:{name:"NoticeAdd"},class:"btn-2"},{default:i(()=>e[1]||(e[1]=[s("span",{class:"hidden md:flex"},"Add New",-1),s("i",{class:"far fa-plus"},null,-1)])),_:1})]),A(b).isLoading?(o(),a("div",V,[u(N)])):(o(),a("div",F,[(o(!0),a(c,null,x(w.value,(n,y)=>(o(),a("div",{key:y},[s("h2",P,t(y),1),s("div",j,[s("table",G,[e[5]||(e[5]=s("thead",null,[s("tr",{class:"bg-gray-200"},[s("th",{class:"border border-gray-300 px-2 text-left"},"#"),s("th",{class:"border border-gray-300 px-2 text-left"},"Title"),s("th",{class:"border border-gray-300 px-2 text-left"},"Type"),s("th",{class:"border border-gray-300 px-2 text-left"},"Company"),s("th",{class:"border border-gray-300 px-2 text-left"},"Department"),s("th",{class:"border border-gray-300 px-2 text-left"},"Published Date"),s("th",{class:"border border-gray-300 px-2 text-left"},"Expired Date"),s("th",{class:"border border-gray-300 px-2 text-left"},"Show Employee"),s("th",{class:"border border-gray-300 px-2 text-left"},"Action")])],-1)),s("tbody",null,[(o(!0),a(c,null,x(n,(r,k)=>{var g;return o(),a("tr",{key:r.id,class:"border-b border-gray-200 hover:bg-blue-200"},[s("td",M,t(k+1),1),s("td",U,t(r==null?void 0:r.title),1),s("td",q,t((r==null?void 0:r.type)===1?"General Notice":"Policy"),1),s("td",z,t(((g=r==null?void 0:r.company)==null?void 0:g.short_name)||"All Companies"),1),s("td",H,[(o(!0),a(c,null,x(r==null?void 0:r.departments,(p,v)=>(o(),a("span",{key:p.id},t(p==null?void 0:p.name)+" "+t(v<(r==null?void 0:r.departments.length)-1?", ":""),1))),128))]),s("td",I,t(f(r==null?void 0:r.published_at)),1),s("td",J,t(f(r==null?void 0:r.expired_at)||"নেই"),1),s("td",K,t(r==null?void 0:r.user_feedback_count),1),s("td",O,[s("div",Q,[u(l,{to:{name:"NoticeShow",params:{id:r.id}},class:"btn-icon"},{default:i(()=>e[3]||(e[3]=[s("i",{class:"far fa-eye"},null,-1)])),_:2},1032,["to"]),u(l,{to:{name:"NoticeEdit",params:{id:r.id}},class:"btn-icon"},{default:i(()=>e[4]||(e[4]=[s("i",{class:"far fa-edit"},null,-1)])),_:2},1032,["to"])])])])}),128))])])])]))),128))]))])}}};export{ss as default};
