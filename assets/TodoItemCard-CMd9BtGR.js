import{x as O,c as s,o,k as a,s as D,g as I,p as B,d as C,a as n,t as i,j as E,b as w,m as S,w as l,n as u,F as L}from"./index-BVAUvyQc.js";import{h as P,k as R,l as G}from"./datetime-Du_mcDA9.js";import{_ as M}from"./DepartmentChip-DzvoiE5V.js";import{_ as W}from"./UserChip-DG7uUT6R.js";const $={key:0,class:"fas fa-clock text-base",title:"Pending"},p={key:1,class:"fas fa-sync text-base",title:"Working"},K={key:2,class:"fas fa-check-square text-lg",title:"Completed"},q={__name:"TodoStatusIcon",props:{todoDate:{type:Object,required:!0}},setup(t){const c=t,m=O(()=>{switch(c.todoDate.status){case"PENDING":return"text-red-400";case"WORKING":return"text-yellow-600";case"COMPLETED":return"text-green-400"}return""});return(d,T)=>(o(),s("span",{class:D(m.value)},[t.todoDate.status=="PENDING"?(o(),s("i",$)):a("",!0),t.todoDate.status=="WORKING"?(o(),s("i",p)):a("",!0),t.todoDate.status=="COMPLETED"?(o(),s("i",K)):a("",!0)],2))}},j={class:""},V={key:0,class:"mt-1 flex items-center gap-2"},z={key:0,class:"line-clamp-2 text-gray-500 whitespace-nowrap mr-2"},F={key:1,class:"md:ml-auto w-full md:w-auto flex items-center justify-center gap-2"},U={key:0,class:"flex items-center gap-1 text-red-600"},X={__name:"TodoItemCard",props:{todoDate:{type:Object,required:!0},hideDepartment:{type:Boolean,default:!1},hideUser:{type:Boolean,default:!1},hideSortingBtn:{type:Boolean,default:!1},hideBtns:{type:Boolean,default:!1},userRole:{type:String,default:"employee"}},emits:["clickTodo","clickEdit","clickDelete","clickChangeStatus","clickDelete"],setup(t,{emit:c}){const m=I(),d=c;return(T,e)=>{var k,f,g,y,x,b,v;const N=B("RouterLink");return o(),s("div",{class:D(["px-4 py-4 md:py-2 cursor-pointer flex flex-wrap items-center gap-y-2 gap-x-4 text-sm",{"bg-green-100":t.todoDate.status=="COMPLETED","hover:bg-gray-50":t.todoDate.status!="COMPLETED","bg-orange-100 text-orange-800 border-b border-orange-200 hover:bg-orange-100":t.todoDate.status=="WORKING"&&u(G)(t.todoDate.date)}]),onClick:e[4]||(e[4]=l(r=>d("clickTodo",t.todoDate),["prevent"]))},[C(q,{todoDate:t.todoDate},null,8,["todoDate"]),n("div",j,[n("div",{class:D(["line-clamp-1",{"text-green-800":t.todoDate.status=="COMPLETED","text-blue-800":t.todoDate.status!="COMPLETED"}])},i(t.todoDate.id)+" - "+i(t.todoDate.title),3),t.todoDate.user?(o(),s("div",V,[t.hideUser?a("",!0):(o(),E(W,{key:0,user:t.todoDate.user,"avatar-size":"xsmall"},null,8,["user"])),t.hideDepartment?a("",!0):(o(),E(M,{key:1,department:(f=(k=t.todoDate)==null?void 0:k.user)==null?void 0:f.department},null,8,["department"]))])):a("",!0)]),(g=t.todoDate.todo)!=null&&g.todo_type&&((y=t.todoDate.todo)!=null&&y.todo_type_id)?(o(),s("div",z,[w(i((x=t.todoDate.todo)==null?void 0:x.todo_type)+" ",1),C(N,{class:"text-blue-600 font-semibold underline hover:text-sky-400",onClick:l(r=>null,["stop"]),to:{name:"RequirementTaskShow",params:{id:(b=t.todoDate.todo)==null?void 0:b.todo_type_id}}},{default:S(()=>{var r;return[e[5]||(e[5]=n("i",{class:"fas fa-link"},null,-1)),w(" "+i((r=t.todoDate.todo)==null?void 0:r.todo_type_id),1)]}),_:1,__:[5]},8,["to"])])):a("",!0),t.hideBtns?a("",!0):(o(),s("div",F,[t.todoDate.status=="WORKING"&&u(P)(t.todoDate.date)?(o(),s("div",U,e[6]||(e[6]=[n("span",{class:"fas fa-circle animate-pulse text-xs"},null,-1),n("span",{class:"text-xs"},"Working",-1)]))):a("",!0),t.todoDate.user_id===((v=u(m).user)==null?void 0:v.id)?(o(),s(L,{key:1},[t.todoDate.status==="WORKING"?(o(),s("button",{key:0,title:"Mark as Completed",class:"btn-icon bg-transparent text-green-400 border-green-400 border hover:bg-green-400 hover:text-white",onClick:e[0]||(e[0]=l(()=>d("clickChangeStatus",t.todoDate,"COMPLETED"),["prevent","stop"]))},e[7]||(e[7]=[n("i",{class:"fas fa-check"},null,-1)]))):a("",!0),t.todoDate.status==="PENDING"&&u(R)(t.todoDate.date)?(o(),s("button",{key:1,title:"Start Working",class:"btn-icon bg-transparent text-red-400 border-red-400 border hover:bg-red-400 hover:text-white",onClick:e[1]||(e[1]=l(()=>d("clickChangeStatus",t.todoDate,"WORKING"),["prevent","stop"]))},e[8]||(e[8]=[n("i",{class:"fas fa-play ml-[4px]"},null,-1)]))):a("",!0),n("button",{class:"btn-icon bg-sky-400 text-white hover:bg-sky-600 hover:text-white",onClick:e[2]||(e[2]=l(r=>{var h;return d("clickEdit",(h=t.todoDate)==null?void 0:h.todo)},["prevent","stop"]))},e[9]||(e[9]=[n("i",{class:"fas fa-pen"},null,-1)])),n("button",{class:"btn-icon bg-red-400 text-white hover:bg-red-600 hover:text-white",onClick:e[3]||(e[3]=l(()=>d("clickDelete",t.todoDate),["prevent","stop"]))},e[10]||(e[10]=[n("i",{class:"fas fa-trash-alt"},null,-1)]))],64)):a("",!0),t.hideSortingBtn?a("",!0):(o(),s("button",{key:2,onClick:l(()=>null,["stop","prevent"]),class:"btn-icon bg-gray-400 text-white hover:bg-gray-600 hover:text-white handle"},e[11]||(e[11]=[n("i",{class:"fas fa-arrows-alt-v"},null,-1)])))]))],2)}}};export{X as _,q as a};
