import{J as x,r as c,p,G as o}from"./index-DnGy1ZYT.js";const G=x("company",()=>{const l=c([]),i=c([]),m=c([]),y=c(null),r=c(!1),t=c(null),f=async(a={})=>{var s,n;r.value=!0,t.value=null;try{const e=await o.get("/companies",{params:a});l.value=e.data}catch(e){t.value=((n=(s=e.response)==null?void 0:s.data)==null?void 0:n.message)||"কোম্পানি লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching companies:",e)}finally{r.value=!1}},d=async(a={})=>{var s,n;r.value=!0,t.value=null;try{const e=await o.get("/companies",{params:{...a,ignore_permission:!1}});i.value=e.data}catch(e){t.value=((n=(s=e.response)==null?void 0:s.data)==null?void 0:n.message)||"কোম্পানি লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching companies:",e)}finally{r.value=!1}},g=async a=>{var s,n;r.value=!0,t.value=null;try{const e=await o.get(`/companies/${a}`);y.value=e.data}catch(e){t.value=((n=(s=e.response)==null?void 0:s.data)==null?void 0:n.message)||`কোম্পানি (ID: ${a}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching company with id ${a}:`,e)}finally{r.value=!1}},h=async a=>{var s,n;r.value=!0,t.value=null;try{const e=await o.post("/companies",a);return l.value.push(e.data),e.data}catch(e){t.value=((n=(s=e.response)==null?void 0:s.data)==null?void 0:n.message)||"কোম্পানি তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating company:",e)}finally{r.value=!1}},$=async(a,s)=>{var n,e;r.value=!0,t.value=null;try{const u=await o.put(`/companies/${a}`,s),v=l.value.findIndex(D=>D.id===a);return v!==-1&&(l.value[v]=u.data),u.data}catch(u){t.value=((e=(n=u.response)==null?void 0:n.data)==null?void 0:e.message)||`কোম্পানি (ID: ${a}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating company with id ${a}:`,u)}finally{r.value=!1}},w=async a=>{var s,n;r.value=!0,t.value=null;try{const e=await o.get(`/companies/${a}/employees`);return m.value=e.data,e.data}catch(e){t.value=((n=(s=e.response)==null?void 0:s.data)==null?void 0:n.message)||`কোম্পানি (ID: ${a}) এর এমপ্লয়ী লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching department with id ${a}:`,e)}finally{r.value=!1}},C=async a=>{var s,n;r.value=!0,t.value=null;try{await o.delete(`/companies/${a}`),l.value=l.value.filter(e=>e.id!==a)}catch(e){t.value=((n=(s=e.response)==null?void 0:s.data)==null?void 0:n.message)||`কোম্পানি (ID: ${a}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting company with id ${a}:`,e)}finally{r.value=!1}},E=async a=>await o.get(`/companies/${a}/employees`),I=async a=>await o.get(`/company-leave-types/${a}`);return{companies:p(()=>l.value),myCompanies:p(()=>i.value),company:p(()=>y.value),loading:p(()=>r.value),error:p(()=>t.value),employees:m,fetchEmployee:w,fetchCompanies:f,fetchMyCompanies:d,fetchCompany:g,createCompany:h,updateCompany:$,deleteCompany:C,fetchEmployees:E,fetchCompanyLeaveTypes:I}});export{G as u};
