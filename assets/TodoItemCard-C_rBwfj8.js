import{x as S,c as n,o as a,k as s,s as f,g as p,p as L,d as N,a as o,t as r,b as D,j as O,m as P,w as d,n as u,F as R}from"./index-DnagmssL.js";import{h as G,k as M,l as W}from"./datetime-Du_mcDA9.js";import{_ as $}from"./DepartmentChip-BzsanYxr.js";import{_ as j}from"./UserChip-BxdWAawE.js";const K={key:0,class:"fas fa-clock text-base",title:"Pending"},q={key:1,class:"fas fa-sync text-base",title:"Working"},V={key:2,class:"fas fa-check-square text-lg",title:"Completed"},z={__name:"TodoStatusIcon",props:{todoDate:{type:Object,required:!0}},setup(t){const c=t,m=S(()=>{switch(c.todoDate.status){case"PENDING":return"text-red-400";case"WORKING":return"text-yellow-600";case"COMPLETED":return"text-green-400"}return""});return(l,I)=>(a(),n("span",{class:f(m.value)},[t.todoDate.status=="PENDING"?(a(),n("i",K)):s("",!0),t.todoDate.status=="WORKING"?(a(),n("i",q)):s("",!0),t.todoDate.status=="COMPLETED"?(a(),n("i",V)):s("",!0)],2))}},F={class:""},U={class:"flex items-center gap-1"},A={class:"font-semibold"},H={class:"line-clamp-1"},J={key:0,class:"text-[11px] font-semibold text-blue-600 mt-0.5"},Q={key:0,class:"mt-1 flex items-center gap-2"},X={key:0,class:"line-clamp-2 text-gray-500 whitespace-nowrap mr-2"},Y={key:1,class:"md:ml-auto w-full md:w-auto flex items-center justify-center gap-2"},Z={key:0,class:"flex items-center gap-1 text-red-600"},at={__name:"TodoItemCard",props:{todoDate:{type:Object,required:!0},hideDepartment:{type:Boolean,default:!1},hideUser:{type:Boolean,default:!1},hideSortingBtn:{type:Boolean,default:!1},hideBtns:{type:Boolean,default:!1},userRole:{type:String,default:"employee"}},emits:["clickTodo","clickEdit","clickDelete","clickChangeStatus","clickDelete"],setup(t,{emit:c}){const m=p(),l=c;return(I,e)=>{var k,g,x,y,b,v,h,C,E,w;const B=L("RouterLink");return a(),n("div",{class:f(["px-4 py-4 md:py-2 cursor-pointer flex flex-wrap items-center gap-y-2 gap-x-4 text-sm",{"bg-green-100":t.todoDate.status=="COMPLETED","hover:bg-gray-50":t.todoDate.status!="COMPLETED","bg-orange-100 text-orange-800 border-b border-orange-200 hover:bg-orange-100":t.todoDate.status=="WORKING"&&u(W)(t.todoDate.date)}]),onClick:e[4]||(e[4]=d(i=>l("clickTodo",t.todoDate),["prevent"]))},[N(z,{todoDate:t.todoDate},null,8,["todoDate"]),o("div",F,[o("div",{class:f(["",{"text-green-800":t.todoDate.status=="COMPLETED","text-blue-800":t.todoDate.status!="COMPLETED"}])},[o("div",U,[o("span",A,r((k=t.todoDate.todo)==null?void 0:k.id)+" -",1),o("span",H,r(t.todoDate.title),1)]),(x=(g=t.todoDate.todo)==null?void 0:g.todo_project)!=null&&x.title?(a(),n("div",J,[e[5]||(e[5]=o("i",{class:"fas fa-project-diagram mr-1 text-[10px]"},null,-1)),D(" "+r(t.todoDate.todo.todo_project.title),1)])):s("",!0)],2),t.todoDate.user?(a(),n("div",Q,[t.hideUser?s("",!0):(a(),O(j,{key:0,user:t.todoDate.user,"avatar-size":"xsmall"},null,8,["user"])),t.hideDepartment?s("",!0):(a(),O($,{key:1,department:(b=(y=t.todoDate)==null?void 0:y.user)==null?void 0:b.department},null,8,["department"]))])):s("",!0)]),(v=t.todoDate.todo)!=null&&v.todo_type&&((h=t.todoDate.todo)!=null&&h.todo_type_id)?(a(),n("div",X,[D(r((C=t.todoDate.todo)==null?void 0:C.todo_type)+" ",1),N(B,{class:"text-blue-600 font-semibold underline hover:text-sky-400",onClick:d(i=>null,["stop"]),to:{name:"RequirementTaskShow",params:{id:(E=t.todoDate.todo)==null?void 0:E.todo_type_id}}},{default:P(()=>{var i;return[e[6]||(e[6]=o("i",{class:"fas fa-link"},null,-1)),D(" "+r((i=t.todoDate.todo)==null?void 0:i.todo_type_id),1)]}),_:1,__:[6]},8,["to"])])):s("",!0),t.hideBtns?s("",!0):(a(),n("div",Y,[t.todoDate.status=="WORKING"&&u(G)(t.todoDate.date)?(a(),n("div",Z,e[7]||(e[7]=[o("span",{class:"fas fa-circle animate-pulse text-xs"},null,-1),o("span",{class:"text-xs"},"Working",-1)]))):s("",!0),t.todoDate.user_id===((w=u(m).user)==null?void 0:w.id)?(a(),n(R,{key:1},[t.todoDate.status==="WORKING"?(a(),n("button",{key:0,title:"Mark as Completed",class:"btn-icon bg-transparent text-green-400 border-green-400 border hover:bg-green-400 hover:text-white",onClick:e[0]||(e[0]=d(()=>l("clickChangeStatus",t.todoDate,"COMPLETED"),["prevent","stop"]))},e[8]||(e[8]=[o("i",{class:"fas fa-check"},null,-1)]))):s("",!0),t.todoDate.status==="PENDING"&&u(M)(t.todoDate.date)?(a(),n("button",{key:1,title:"Start Working",class:"btn-icon bg-transparent text-red-400 border-red-400 border hover:bg-red-400 hover:text-white",onClick:e[1]||(e[1]=d(()=>l("clickChangeStatus",t.todoDate,"WORKING"),["prevent","stop"]))},e[9]||(e[9]=[o("i",{class:"fas fa-play ml-[4px]"},null,-1)]))):s("",!0),o("button",{class:"btn-icon bg-sky-400 text-white hover:bg-sky-600 hover:text-white",onClick:e[2]||(e[2]=d(i=>{var T;return l("clickEdit",(T=t.todoDate)==null?void 0:T.todo)},["prevent","stop"]))},e[10]||(e[10]=[o("i",{class:"fas fa-pen"},null,-1)])),o("button",{class:"btn-icon bg-red-400 text-white hover:bg-red-600 hover:text-white",onClick:e[3]||(e[3]=d(()=>l("clickDelete",t.todoDate),["prevent","stop"]))},e[11]||(e[11]=[o("i",{class:"fas fa-trash-alt"},null,-1)]))],64)):s("",!0),t.hideSortingBtn?s("",!0):(a(),n("button",{key:2,onClick:d(()=>null,["stop","prevent"]),class:"btn-icon bg-gray-400 text-white hover:bg-gray-600 hover:text-white handle"},e[12]||(e[12]=[o("i",{class:"fas fa-arrows-alt-v"},null,-1)])))]))],2)}}};export{at as _,z as a};
