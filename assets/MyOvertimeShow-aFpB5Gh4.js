import{_ as d}from"./ApprovalItem-Cqnsmeap.js";import{L as E}from"./LoaderView-CNt6UQCf.js";import{_ as W}from"./ShareComponent-BCcc2tr2.js";import{_ as m}from"./DisplayFormattedWorkingHours-BDKNU_kB.js";import{u as J,f as K,g as Q,x as $,h as U,c as o,o as a,a as t,i as G,j as n,d as i,b as p,t as l,s as X,F as Y}from"./index-B_JHsvjR.js";import{u as Z}from"./overtime-D48f8dn0.js";import"./AcceptAndRejectHandler-tGuc7Ju1.js";const tt={class:"my-container max-w-2xl space-y-6"},et={key:1,class:"card-bg p-4 md:p-8"},st={class:"grid grid-cols-2 gap-2"},lt={class:"text-sm space-y-0.5"},at={key:0},ot={key:1},nt={class:"pt-10"},it={class:"text-lg text-blue-700"},rt={class:"text-sm"},ut={class:"text-sm space-y-1"},dt={class:"text-sm font-semibold"},pt={class:"grid md:grid-cols-2 gap-x-4 gap-y-1 text-sm"},mt={class:"title-md font-semibold"},vt={key:0,class:"col-span-full space-x-1"},ct={class:"col-span-full"},yt={class:"col-span-full"},gt={key:0,class:"grid grid-cols-2 text-sm md:text-base md:grid-cols-2 md:gap-x-4 gap-y-14 pt-14 items-end"},Dt={__name:"MyOvertimeShow",setup(_t){const M=J(),v=K(),r=Z();Q();const P=$(()=>r.loading),s=$(()=>r.overtime);U(async()=>{const{id:c}=v.params;try{await r.fetchOvertimeById(c)}catch(e){console.error("Failed to fetch overtime details:",e)}});const T=()=>M.go(-1);function z(){window.print()}const u=async()=>{r.fetchOvertimeById(v.params.id)};return(c,e)=>{var y,g,_,x,f,k,b,w,A,B,D,R,j,N,S,h,H,O,C,V,L,q,F,I;return a(),o("div",tt,[t("div",{class:"flex items-center justify-between gap-2"},[t("button",{class:"btn-3",onClick:T},e[0]||(e[0]=[t("i",{class:"far fa-arrow-left"},null,-1),t("span",{class:"hidden md:flex"},"Back",-1)])),e[2]||(e[2]=t("h1",{class:"title-lg text-center"},"Overtime Details",-1)),t("div",null,[t("button",{class:"btn-2",onClick:z},e[1]||(e[1]=[t("i",{class:"far fa-print"},null,-1),p(" Print ")]))])]),P.value?(a(),G(E,{key:0})):s.value?(a(),o("div",et,[e[16]||(e[16]=t("h2",{class:"title-md"},"Overtime Request",-1)),t("div",st,[t("div",lt,[(y=s.value)!=null&&y.created_at?(a(),o("div",at,[e[3]||(e[3]=t("span",{class:"text-gray-500 mr-1"},"Applied Date:",-1)),t("b",null,l(new Date((g=s.value)==null?void 0:g.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})),1)])):n("",!0),(_=s.value)!=null&&_.date?(a(),o("div",ot,[e[4]||(e[4]=t("span",{class:"text-gray-500 mr-1"},"Date:",-1)),t("b",null,l(new Date((x=s.value)==null?void 0:x.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})),1)])):n("",!0),t("div",null,[e[5]||(e[5]=t("span",{class:"text-gray-500 mr-1"},"Duty Type:",-1)),t("b",null,l((f=s.value)==null?void 0:f.duty_type),1)]),t("div",nt,[t("div",null,[e[6]||(e[6]=t("hr",{class:"w-44 border-black"},null,-1)),t("p",null,[t("b",it,l((k=s.value)==null?void 0:k.user.name),1)]),t("div",rt,[t("p",null,l((A=(w=(b=s.value)==null?void 0:b.user)==null?void 0:w.designation)==null?void 0:A.title),1),t("p",null,l((R=(D=(B=s.value)==null?void 0:B.user)==null?void 0:D.department)==null?void 0:R.name),1)])])])]),t("div",ut,[t("div",null,[e[7]||(e[7]=t("span",{class:"text-gray-500 mr-1"},"Check In:",-1)),t("b",null,l(((j=s.value)==null?void 0:j.check_in)||"- : -"),1)]),t("div",null,[e[8]||(e[8]=t("span",{class:"text-gray-500 mr-1"},"Check Out:",-1)),t("b",null,l(((N=s.value)==null?void 0:N.check_out)||"- : -"),1)]),t("div",null,[e[9]||(e[9]=t("span",{class:"text-gray-500 mr-1"},"Working Hour:",-1)),t("b",null,[i(m,{workingHours:s.value.working_hours},null,8,["workingHours"])])]),t("div",null,[e[10]||(e[10]=t("span",{class:"text-gray-500 mr-1"},"Request hour:",-1)),t("b",null,[i(m,{workingHours:s.value.request_overtime_hours},null,8,["workingHours"])])]),t("div",null,[e[11]||(e[11]=t("span",{class:"text-gray-500 mr-1"},"Details:",-1)),t("span",dt,l(((S=s.value)==null?void 0:S.work_details)||"N/A"),1)])])]),e[17]||(e[17]=t("hr",null,null,-1)),t("div",pt,[t("div",mt,[e[12]||(e[12]=p(" Status: ")),t("span",{class:X({"text-yellow-500":((h=s.value)==null?void 0:h.status)==="Pending","text-green-600":((H=s.value)==null?void 0:H.status)==="Approved","text-red-500":((O=s.value)==null?void 0:O.status)==="Rejected"})},l(((C=s.value)==null?void 0:C.status)||"N/A"),3)]),((V=s.value)==null?void 0:V.status)==="Approved"?(a(),o("div",vt,[e[13]||(e[13]=t("span",null,"Approved overtime (hour):",-1)),t("b",null,[i(m,{workingHours:s.value.approval_overtime_hours},null,8,["workingHours"])])])):n("",!0),((L=s.value)==null?void 0:L.status)==="Rejected"?(a(),o(Y,{key:1},[t("div",ct,[e[14]||(e[14]=t("b",null,"Rejected By:",-1)),p(" "+l(((F=(q=s.value)==null?void 0:q.rejected_by_user)==null?void 0:F.name)||"N/A"),1)]),t("div",yt,[e[15]||(e[15]=t("b",null,"Rejection Reason:",-1)),p(" "+l(((I=s.value)==null?void 0:I.rejection_reason)||"N/A"),1)])],64)):n("",!0)]),e[18]||(e[18]=t("hr",null,null,-1)),s.value?(a(),o("div",gt,[i(d,{application:s.value,type:"overtime_applications",item:"in_charge",onAction:u},null,8,["application"]),s.value.user.type==="executive"?(a(),G(d,{key:0,application:s.value,type:"overtime_applications",item:"coordinator",onAction:u},null,8,["application"])):n("",!0),i(d,{application:s.value,type:"overtime_applications",item:"recommend_by",onAction:u},null,8,["application"]),i(d,{application:s.value,type:"overtime_applications",item:"approved_by",onAction:u},null,8,["application"])])):n("",!0)])):n("",!0),i(W)])}}};export{Dt as default};
