import{u as k,d as w,e as v,x as O,A as C,m as M,c as a,o as d,a as t,n as l,q as S,k as c,i as y,t as o,h as D,v as L,g as _,F as A,y as B}from"./index-BxSL8eIm.js";import{L as H}from"./LoaderView-CNHStsuW.js";import{_ as u}from"./DisplayFormattedWorkingHours-BsKV1lHr.js";import{u as R}from"./overtime-CURKKH5n.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"space-y-2 px-4"},N={class:"flex items-center justify-between gap-2"},q={class:"flex items-center gap-2"},j={class:"title-md md:title-lg flex-wrap text-center"},F={class:"flex gap-4"},P={key:0,class:"text-center py-4"},T={key:1,class:"space-y-4"},U={class:"overflow-x-auto"},$={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},z={class:"border border-gray-300 px-2 text-center"},E={class:"border border-gray-300 px-2 text-center"},G={class:"border border-gray-300 px-2 text-center"},I={class:"border border-gray-300 px-2 text-center"},W={class:"border border-gray-300 px-2 text-center"},J={class:"border border-gray-300 px-2 text-center"},K={class:"border border-gray-300 px-2 text-center"},Q={class:"border border-gray-300 px-2 text-center"},X={class:"border border-gray-300 px-2 text-center"},Y={class:"border border-gray-300 px-2 text-center"},Z={class:"border border-gray-300 px-2 text-center"},tt={class:"border border-gray-300 px-2 text-center"},et={class:"flex items-center justify-center gap-2"},st=["onClick"],rt={key:0},ut={__name:"MyOvertimeList",setup(ot){const h=k(),r=R();w(),v(()=>{i()});const g=()=>{h.go(-1)},p=O(()=>r.overtimes);C(()=>r.selectedMonth,n=>{n&&i(n)});const i=async(n=null)=>{r.fetchUserOvertimes({month:n||r.selectedMonth})};function f(n){confirm("Are you sure you want to delete this application?")&&r.deleteOvertime(n)}return(n,s)=>{var x;const b=M("RouterLink");return d(),a("div",V,[t("div",N,[t("div",q,[t("button",{class:"btn-3 py-1",onClick:g},s[1]||(s[1]=[t("i",{class:"far fa-arrow-left"},null,-1),t("span",{class:"hidden md:flex"},"Back",-1)])),t("div",null,[t("button",{onClick:i,type:"button",class:"btn-3 space-x-1 py-1"},[t("i",{class:S(["fas fa-sync text-lg",{"animate-spin":c(r).loading}])},null,2),s[2]||(s[2]=t("span",{class:"hidden md:inline"}," Reload ",-1))])]),l(b,{to:{name:"MyOvertimeAdd"},class:"btn-2"},{default:y(()=>s[3]||(s[3]=[t("i",{class:"far fa-plus"},null,-1),t("span",{class:"hidden md:flex"},"Overtime",-1)])),_:1,__:[3]})]),t("h1",j," Overtime of "+o(c(r).selectedMonthDisplay),1),t("div",F,[t("div",null,[D(t("input",{id:"monthSelect",type:"month","onUpdate:modelValue":s[0]||(s[0]=e=>c(r).selectedMonth=e),class:"input-1"},null,512),[[L,c(r).selectedMonth]])])])]),(x=c(r))!=null&&x.loading?(d(),a("div",P,[l(H)])):(d(),a("div",T,[t("div",U,[t("table",$,[s[7]||(s[7]=t("thead",null,[t("tr",{class:"bg-gray-200 *:py-1"},[t("th",{class:"border border-gray-300 px-2 text-center"},"#"),t("th",{class:"border border-gray-300 px-2 text-center"},"Date"),t("th",{class:"border border-gray-300 px-2 text-center"},"Type"),t("th",{class:"border border-gray-300 px-2 text-center"},"Shift"),t("th",{class:"border border-gray-300 px-2 text-center"},"Check-In"),t("th",{class:"border border-gray-300 px-2 text-center"},"Check-Out"),t("th",{class:"border border-gray-300 px-2 text-center"},"Working (hour)"),t("th",{class:"border border-gray-300 px-2 text-center"},"Request (hour)"),t("th",{class:"border border-gray-300 px-2 text-center"},"Approved (hour)"),t("th",{class:"border border-gray-300 px-2 text-center"},"Status"),t("th",{class:"border border-gray-300 px-2 text-center"},"Details"),t("th",{class:"border border-gray-300 px-2 text-center"},"Action")])],-1)),t("tbody",null,[(d(!0),a(A,null,B(p.value,(e,m)=>(d(),a("tr",{key:e==null?void 0:e.id,class:"border-b border-gray-200 hover:bg-blue-200 *:py-2"},[t("td",z,o(m+1),1),t("td",E,o(new Date(e.date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})),1),t("td",G,o(e.duty_type),1),t("td",I,o(e.shift),1),t("td",W,o(e.check_in||"- : -"),1),t("td",J,o(e.check_out||"- : -"),1),t("td",K,[l(u,{workingHours:e.working_hours},null,8,["workingHours"])]),t("td",Q,[l(u,{workingHours:e.request_overtime_hours},null,8,["workingHours"])]),t("td",X,[l(u,{workingHours:e.approval_overtime_hours},null,8,["workingHours"])]),t("td",Y,o(e.status||"Pending"),1),t("td",Z,o(e.work_details),1),t("td",tt,[t("div",et,[l(b,{to:{name:"MyOvertimeShow",params:{id:e.id}},class:"btn-1 px-3"},{default:y(()=>s[4]||(s[4]=[t("i",{class:"far fa-eye"},null,-1)])),_:2,__:[4]},1032,["to"]),e.status=="Pending"||!e.status?(d(),a("button",{key:0,type:"button",onClick:nt=>f(e==null?void 0:e.id),class:"btn-icon"},s[5]||(s[5]=[t("i",{class:"far fa-trash text-red-600"},null,-1)]),8,st)):_("",!0)])])]))),128)),p.value.length===0?(d(),a("tr",rt,s[6]||(s[6]=[t("td",{colspan:"7",class:"p-2 text-center text-red-500"},"No overtimes found",-1)]))):_("",!0)])])])]))])}}};export{ut as default};
