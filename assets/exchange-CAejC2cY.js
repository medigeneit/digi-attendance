import{E,r as v,G as c}from"./index-DmSDwc5l.js";const D=E("exchange",()=>{const r=v([]),u=v(null),l=v(!1),s=v(null);async function i(){var a,n;l.value=!0,s.value=null;try{const t=await c.get("/exchanges");r.value=t.data.data}catch(t){s.value=((n=(a=t.response)==null?void 0:a.data)==null?void 0:n.message)||"Failed to fetch exchanges"}finally{l.value=!1}}async function g(a){var n,t;l.value=!0,s.value=null;try{const e=await c.get(`/exchanges/${a}`);u.value=e.data}catch(e){s.value=((t=(n=e.response)==null?void 0:n.data)==null?void 0:t.message)||`Failed to fetch exchange with ID ${a}`}finally{l.value=!1}}async function p(a){var n,t;l.value=!0,s.value=null;try{const e=await c.post("/exchanges",a);return r.value.push(e.data.data),e.data.data}catch(e){s.value=((t=(n=e.response)==null?void 0:n.data)==null?void 0:t.message)||"Failed to create exchange"}finally{l.value=!1}}async function f(a,n){var t,e;l.value=!0,s.value=null;try{const o=await c.put(`/exchanges/${a}`,n),h=r.value.findIndex(F=>F.id===a);h!==-1&&(r.value[h]=o.data)}catch(o){s.value=((e=(t=o.response)==null?void 0:t.data)==null?void 0:e.message)||`Failed to update exchange with ID ${a}`}finally{l.value=!1}}async function d(a){var n,t;l.value=!0,s.value=null;try{await c.delete(`/exchanges/${a}`),r.value=r.value.filter(e=>e.id!==a)}catch(e){s.value=((t=(n=e.response)==null?void 0:n.data)==null?void 0:t.message)||`Failed to delete exchange with ID ${a}`}finally{l.value=!1}}async function x(a){var n,t;l.value=!0,s.value=null;try{const e=await c.post(`/exchanges/${a}/handover-accept`);u.value=e.data}catch(e){s.value=((t=(n=e.response)==null?void 0:n.data)==null?void 0:t.message)||`Failed to accept handover for exchange ID ${a}`}finally{l.value=!1}}async function y(a){var n,t;l.value=!0,s.value=null;try{const e=await c.post(`/exchanges/${a}/in-charge-accept`);u.value=e.data}catch(e){s.value=((t=(n=e.response)==null?void 0:n.data)==null?void 0:t.message)||`Failed to accept in-charge for exchange ID ${a}`}finally{l.value=!1}}async function m(a){var n,t;l.value=!0,s.value=null;try{const e=await c.post(`/exchanges/${a}/recommend-accept`);u.value=e.data}catch(e){s.value=((t=(n=e.response)==null?void 0:n.data)==null?void 0:t.message)||`Failed to recommend exchange ID ${a}`}finally{l.value=!1}}async function $(a){var n,t;l.value=!0,s.value=null;try{const e=await c.post(`/exchanges/${a}/approve`);u.value=e.data}catch(e){s.value=((t=(n=e.response)==null?void 0:n.data)==null?void 0:t.message)||`Failed to approve exchange ID ${a}`}finally{l.value=!1}}async function w(a,n){var t,e;l.value=!0,s.value=null;try{const o=await c.post(`/exchanges/${a}/reject`,{rejection_reason:n});u.value=o.data}catch(o){s.value=((e=(t=o.response)==null?void 0:t.data)==null?void 0:e.message)||`Failed to reject exchange ID ${a}`}finally{l.value=!1}}return{exchanges:r,exchange:u,loading:l,error:s,fetchExchanges:i,fetchExchange:g,createExchange:p,updateExchange:f,deleteExchange:d,handoverAccept:x,inChargeAccept:y,recommendByAccept:m,approveExchange:$,rejectExchange:w}});export{D as u};
