import{_ as U,g as W,x as H,q as X,j as O,o as i,c as o,k as d,a as e,b as a,t as l,s as Y,d as p,z as ee,Z as te}from"./index-DTUs0Ejd.js";import{_ as v}from"./ApprovalItem-D-kp1Vmx.js";import{L as ne}from"./LoaderView-CF-XAte4.js";import{_ as ae}from"./ShareComponent-CQbhwsZn.js";import{u as le}from"./manual-attendance-CnZQJiWJ.js";import"./AcceptAndRejectHandler-BVZfQkMK.js";const se={key:0,class:"fixed inset-0 z-50","aria-modal":"true",role:"dialog","aria-labelledby":"manual-attendance-title"},ie={class:"relative w-full max-w-4xl rounded-lg bg-white shadow-xl max-h-[90vh] overflow-y-auto print:overflow-visible print:shadow-none print:max-h-none"},oe={class:"p-4 md:p-8"},de={key:1,class:"card-bg p-4 md:p-8"},ue={class:"grid md:grid-cols-2"},re={key:0},ce={key:1},pe={key:2},me={key:3},ve={class:"pt-10"},ye={class:"text-sm"},fe={class:"title-md"},be={key:0},ge={key:0,class:"grid grid-cols-2 text-sm md:text-base md:grid-cols-3 md:gap-x-4 gap-y-14 pt-14 items-end"},_e={class:"mt-2 print:hidden"},ke={__name:"ManualAttendanceDetailsModal",props:{open:{type:Boolean,default:!1},id:{type:[String,Number],required:!0}},emits:["update:open"],setup(y,{emit:P}){const u=y,Z=P,r=le();W();const J=H(()=>r.loading),n=H(()=>r.manualAttendance),c=()=>Z("update:open",!1),Q=async()=>{if(u.id)try{await r.fetchManualAttendanceById(u.id)}catch(s){console.error("Failed to fetch manual attendance details:",s)}};X(()=>[u.open,u.id],async([s])=>{s&&await Q()},{immediate:!0});const m=async()=>{await r.fetchManualAttendanceById(u.id)},f=s=>s?new Date(s).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",b=s=>s?new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A";return(s,t)=>{var g,_,k,x,A,w,h,D,N,B,j,M,C,S,R,T,V,z,I,L,q,G,K,$,E,F;return i(),O(te,{to:"body"},[y.open?(i(),o("div",se,[e("div",{class:"fixed inset-0 bg-black/50",onClick:c}),e("div",{class:"fixed inset-0 flex items-center justify-center p-4",onKeydown:ee(c,["esc"])},[e("div",ie,[e("div",{class:"sticky top-0 z-10 flex items-center justify-between gap-2 border-b bg-white px-4 py-3 print:hidden"},[e("button",{class:"btn-3",onClick:c},t[0]||(t[0]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),t[2]||(t[2]=e("h1",{id:"manual-attendance-title",class:"title-lg text-center"},"Manual Attendance Details",-1)),e("div",null,[e("button",{class:"btn-3",onClick:c},t[1]||(t[1]=[e("i",{class:"far fa-times"},null,-1),e("span",{class:"hidden md:inline"},"Close",-1)]))])]),e("div",oe,[J.value?(i(),O(ne,{key:0})):(i(),o("div",de,[e("div",null,[e("div",ue,[(g=n.value)!=null&&g.check_in?(i(),o("div",re,[t[3]||(t[3]=e("b",null,"Date:",-1)),a(" "+l(f((_=n.value)==null?void 0:_.check_in)),1)])):d("",!0),(k=n.value)!=null&&k.check_out?(i(),o("div",ce,[t[4]||(t[4]=e("b",null,"Date:",-1)),a(" "+l(f((x=n.value)==null?void 0:x.check_out)),1)])):d("",!0),(A=n.value)!=null&&A.check_in?(i(),o("div",pe,[t[5]||(t[5]=e("b",null,"Check-In:",-1)),a(" "+l(b((w=n.value)==null?void 0:w.check_in)),1)])):d("",!0),(h=n.value)!=null&&h.check_out?(i(),o("div",me,[t[6]||(t[6]=e("b",null,"Check-Out:",-1)),a(" "+l(b((D=n.value)==null?void 0:D.check_out)),1)])):d("",!0),e("div",null,[t[7]||(t[7]=e("b",null,"Type:",-1)),a(" "+l((N=n.value)==null?void 0:N.type),1)]),e("div",null,[t[8]||(t[8]=e("b",null,"Reason:",-1)),a(" "+l(((B=n.value)==null?void 0:B.description)||"N/A"),1)])]),e("div",ve,[e("div",null,[t[12]||(t[12]=e("hr",{class:"w-44 border-black"},null,-1)),e("p",null,[t[9]||(t[9]=a(" Name: ")),e("b",null,l((M=(j=n.value)==null?void 0:j.user)==null?void 0:M.name),1)]),e("div",ye,[e("p",null,[t[10]||(t[10]=a(" Designation: ")),e("b",null,l((R=(S=(C=n.value)==null?void 0:C.user)==null?void 0:S.designation)==null?void 0:R.title),1)]),e("p",null,[t[11]||(t[11]=a(" Department: ")),e("b",null,l((z=(V=(T=n.value)==null?void 0:T.user)==null?void 0:V.department)==null?void 0:z.name),1)])])])])]),t[16]||(t[16]=e("hr",null,null,-1)),e("div",null,[e("h3",fe,[t[13]||(t[13]=a(" Approvals ")),e("span",{class:Y({"text-yellow-500":((I=n.value)==null?void 0:I.status)==="Pending","text-green-500":((L=n.value)==null?void 0:L.status)==="Approved","text-red-500":((q=n.value)==null?void 0:q.status)==="Rejected"})}," ("+l(((G=n.value)==null?void 0:G.status)||"N/A")+") ",3)]),((K=n.value)==null?void 0:K.status)==="Rejected"?(i(),o("div",be,[e("div",null,[t[14]||(t[14]=e("b",null,"Rejected By:",-1)),a(" "+l(((E=($=n.value)==null?void 0:$.rejected_by_user)==null?void 0:E.name)||"N/A"),1)]),e("div",null,[t[15]||(t[15]=e("b",null,"Rejection Reason:",-1)),a(" "+l(((F=n.value)==null?void 0:F.rejection_reason)||"N/A"),1)])])):d("",!0)]),n.value?(i(),o("div",ge,[p(v,{application:n.value,type:"manual_attendance_applications",item:"in_charge",onAction:m},null,8,["application"]),p(v,{application:n.value,type:"manual_attendance_applications",item:"recommend_by",onAction:m},null,8,["application"]),p(v,{application:n.value,type:"manual_attendance_applications",item:"approved_by",onAction:m},null,8,["application"])])):d("",!0)])),e("div",_e,[p(ae)])])])],32)])):d("",!0)])}}},Be=U(ke,[["__scopeId","data-v-da5a9fef"]]);export{Be as default};
