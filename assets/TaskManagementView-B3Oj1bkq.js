import{o as n,c as l,a as t,t as a,p as f,s as w,b,F as g,q as h,k as T,h as y,x as q,e as D,y as P,g as B,f as N,r as C,z as E,j as I,A as V,l as x,m as v,n as O}from"./index-DWitpjCg.js";import{u as z}from"./useBugStore-k70JUHhj.js";import{u as F}from"./useMeetingStore-BUH4u6t9.js";import{u as M}from"./useProjectStore-CrPPVMIf.js";import{u as H}from"./useTodoStore-B_ubV8HC.js";import{u as U}from"./useRequirementStore-DlckiHvF.js";import{u as A}from"./useTaskStore-cbUQtWvy.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"bg-white rounded-lg p-4 shadow hover:shadow-md transition-shadow"},K={class:"flex items-center justify-between pb-2"},Q={class:"text-sm font-medium text-gray-700"},W={class:"text-2xl font-bold text-gray-900"},X={class:"text-xs text-gray-500 mt-1"},$={__name:"DashboardCard",props:{title:String,value:[String,Number],subtext:String,icon:String,color:String},setup(m){const _=`fa-${m.icon}`;return(u,i)=>(n(),l("div",J,[t("div",K,[t("h3",Q,a(m.title),1),t("i",{class:f(["fas",_,m.color,"text-sm"])},null,2)]),t("div",W,a(m.value),1),t("p",X,a(m.subtext),1)]))}},Y={class:"space-y-4"},Z={class:"space-y-4"},tt={class:"flex items-start justify-between"},et={class:"space-y-1"},st={class:"flex items-center gap-2"},ot={class:"text-xs font-medium text-gray-500"},at={class:"font-medium text-gray-800"},rt={class:"text-sm text-gray-500"},nt={class:"text-xs text-gray-500"},lt={key:0},it={key:1},ct={__name:"BugsTab",setup(m){const r=z(),{bugs:_}=w(r);b(()=>{r.fetchBugs()});const u=i=>{switch(i){case"Open":return"border-blue-500 text-blue-500";case"In Progress":return"border-yellow-500 text-yellow-500";case"Resolved":return"border-green-500 text-green-500";default:return"border-gray-300 text-gray-400"}};return(i,o)=>(n(),l("div",Y,[o[1]||(o[1]=t("h2",{class:"text-xl font-semibold"},"Bug Tracking",-1)),t("div",Z,[(n(!0),l(g,null,h(y(_),e=>{var s;return n(),l("div",{key:e.id,class:"rounded-lg border bg-white p-4 shadow hover:bg-gray-50 transition-colors"},[t("div",tt,[t("div",et,[t("div",st,[t("span",ot,a(e.id),1),t("span",{class:f(["text-xs font-medium px-2 py-1 rounded border",u(e.status)])},a(e.status),3)]),t("h3",at,a(e.title),1),t("p",rt,"Project: "+a((s=e.project)==null?void 0:s.name),1),t("p",nt,[e.users.length?(n(),l("span",lt,[o[0]||(o[0]=T(" Assigned to: ")),t("strong",null,a(e.users.map(c=>c.name).join(", ")),1)])):(n(),l("span",it,"Not assign"))])])])])}),128))])]))}},dt={class:"space-y-4"},ut={class:"space-y-2"},_t={class:"space-y-3"},mt={class:"flex items-start justify-between"},xt={class:"font-medium text-gray-800"},pt={class:"text-sm text-gray-500"},gt={class:"flex items-center gap-1 mt-2"},ht={class:"flex -space-x-2"},yt={key:0,class:"text-xs text-gray-500 ml-2"},ft={class:"flex flex-col gap-2 text-sm"},bt={__name:"MeetingsTab",setup(m){const r=F(),{meetings:_}=w(r);b(()=>{r.fetchMeetings()});const u=o=>o.split(" ").map(e=>e[0]).join("").toUpperCase(),i=q(()=>_.value.map(o=>{const e=new Date(o.start_time),s=new Date(o.end_time),c=p=>p.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}),d=p=>{const S=new Date,k=new Date(p),R=k.toDateString()===S.toDateString(),j=new Date;j.setDate(S.getDate()+1);const L=k.toDateString()===j.toDateString();return R?"Today":L?"Tomorrow":k.toLocaleDateString()};return{title:o.title,start_time:c(e),end_time:c(s),users:o.users.map(p=>p.name),day:d(o.start_time)}}));return(o,e)=>(n(),l("div",dt,[e[1]||(e[1]=t("h2",{class:"text-xl font-semibold"},"Scheduled Meetings",-1)),t("div",ut,[t("div",_t,[(n(!0),l(g,null,h(i.value,(s,c)=>(n(),l("div",{key:c,class:"rounded-lg border bg-white p-4 shadow hover:bg-gray-50 transition-colors"},[t("div",mt,[t("div",null,[t("h4",xt,a(s==null?void 0:s.title),1),t("p",pt,a(s.start_time)+" - "+a(s.end_time),1),t("div",gt,[t("div",ht,[(n(!0),l(g,null,h(s.users.slice(0,2),(d,p)=>(n(),l("div",{key:p,class:"w-6 h-6 rounded-full bg-gray-200 text-[10px] font-bold flex items-center justify-center text-gray-700 border"},a(u(d)),1))),128))]),s.users.length>2?(n(),l("span",yt," +"+a(s.users.length-2)+" more ",1)):D("",!0)])]),t("div",ft,[T(a(s==null?void 0:s.day)+" ",1),e[0]||(e[0]=t("button",{class:"text-blue-600 hover:underline"},"Details",-1))])])]))),128))])])]))}},vt={class:"space-y-4"},$t={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},wt={class:"flex justify-between items-center mb-2"},kt={class:"font-medium text-gray-800"},Tt={class:"text-sm text-gray-500 mb-1"},St={class:"text-sm text-gray-500 mb-1"},jt={__name:"ProjectsTab",setup(m){const r=M(),{projects:_}=w(r);return b(()=>{r.fetchProjects()}),(u,i)=>(n(),l("div",vt,[i[0]||(i[0]=t("h2",{class:"text-xl font-semibold"},"Project Overview",-1)),t("div",$t,[(n(!0),l(g,null,h(y(_),o=>{var e;return n(),l("div",{key:o.name,class:"rounded-lg border bg-white p-4 shadow hover:shadow-md transition-shadow"},[t("div",wt,[t("h3",kt,a(o.name),1),t("span",{class:f(["text-xs px-2 py-1 rounded text-white",o.priorityClass])},a(o.priority),3)]),t("p",Tt,"Company: "+a((e=o==null?void 0:o.company)==null?void 0:e.name),1),t("p",St," Total Requirements: "+a(o==null?void 0:o.requirements_count),1)])}),128))])]))}},Dt={class:"container mx-auto px-4 py-6"},Ct={key:0,class:"text-center text-gray-500 py-6"},Mt={key:1,class:"text-center text-red-500 py-6"},Rt={key:2},Lt={class:"grid gap-4"},qt={key:0,class:"inline-flex items-center text-green-600 text-xs font-semibold bg-green-100 px-2 py-0.5 rounded-full"},Pt={class:"text-sm text-gray-500 mt-1"},Bt={class:"inline-block bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-0.5 rounded"},Nt={class:"ml-2"},Et={class:"text-sm text-gray-500 mt-2"},It={class:"bg-gray-100 text-gray-700 px-2 py-0.5 ml-2 rounded-full text-xs"},Vt={__name:"ReportTab",setup(m){const r=H();return b(()=>{r.fetchTodos()}),(_,u)=>(n(),l("div",Dt,[u[1]||(u[1]=t("h2",{class:"text-2xl font-bold text-gray-800 mb-6"},"ðŸ“‹ Todo List",-1)),y(r).loading?(n(),l("div",Ct,"Loading...")):y(r).error?(n(),l("div",Mt,a(y(r).error),1)):(n(),l("div",Rt,[t("ul",Lt,[(n(!0),l(g,null,h(y(r).todos,i=>{var o,e;return n(),l("li",{key:i.id,class:"flex justify-between items-start gap-4 p-4 bg-white border rounded-lg shadow-sm hover:shadow-md transition"},[t("div",null,[t("h3",{class:f(["font-medium text-gray-800",{"line-through text-gray-400":i.status==="COMPLETED"}])},a(i.message),3),i.status==="COMPLETED"?(n(),l("span",qt," âœ… Completed ")):D("",!0),t("p",Pt,[t("span",Bt,a(i.todoable_type.split("\\").pop()),1),t("span",Nt,a(((o=i.todoable)==null?void 0:o.title)||"No title"),1)]),t("p",Et,[u[0]||(u[0]=t("i",{class:"far fa-user-friends"},null,-1)),t("span",It,a((e=i==null?void 0:i.user)==null?void 0:e.name),1)])])])}),128))])]))]))}},Ot={class:"space-y-4"},zt={class:"space-y-4"},Ft={class:"flex items-start justify-between"},Ht={class:"space-y-1"},Ut={class:"flex items-center gap-2"},At={class:"text-xs font-medium text-gray-500"},Gt={class:"font-medium text-gray-800"},Jt={class:"text-sm text-gray-500"},Kt={class:"text-right"},Qt={class:"text-sm"},Wt={class:"font-medium"},Xt={class:"text-gray-500"},Yt={class:"mt-1 h-2 w-24 bg-gray-200 rounded"},Zt={__name:"RequirementsTab",setup(m){const r=U(),{requirements:_}=w(r);b(()=>{r.fetchRequirements()});const u=i=>{switch(i){case"High":return"border-red-500 text-red-500";case"Medium":return"border-yellow-500 text-yellow-500";default:return"border-gray-300 text-gray-500"}};return(i,o)=>(n(),l("div",Ot,[o[0]||(o[0]=t("h2",{class:"text-xl font-semibold"},"Project Requirements",-1)),t("div",zt,[(n(!0),l(g,null,h(y(_),e=>{var s;return n(),l("div",{key:e.id,class:"rounded-lg border bg-white p-4 shadow hover:bg-gray-50 transition-colors"},[t("div",Ft,[t("div",Ht,[t("div",Ut,[t("span",At,a(e.id),1),t("span",{class:f(["text-xs px-2 py-1 rounded border",u(e.priority)])},a(e.priority),3)]),t("h3",Gt,a(e.title),1),t("p",Jt,"Project: "+a((s=e.project)==null?void 0:s.name),1)]),t("div",Kt,[t("div",Qt,[t("span",Wt,a(e.completed_tasks_count),1),t("span",Xt,"/"+a(e.tasks_count)+" tasks",1)]),t("div",Yt,[t("div",{class:"h-full bg-blue-500 rounded",style:P({width:e.completed_tasks_count/e.tasks_count*100+"%"})},null,4)])])])])}),128))])]))}},te={class:"space-y-4"},ee={class:"space-y-4"},se={class:"flex items-start justify-between"},oe={class:"space-y-1"},ae={class:"flex items-center gap-2 text-xs text-gray-500"},re={class:"font-medium"},ne={class:"px-2 py-0.5 rounded bg-blue-100 text-blue-800"},le={class:"font-medium text-gray-800"},ie={class:"text-sm text-gray-500"},ce={class:"w-10 h-6 rounded-full bg-gray-200 flex items-center justify-center text-xs font-medium text-gray-600"},de={class:"text-sm text-gray-600"},ue={class:"text-right"},_e={__name:"TasksTab",setup(m){const r=A(),{tasks:_}=w(r);b(()=>{r.fetchTasks()});const u=o=>o.split(" ").map(e=>e[0]).join("").toUpperCase(),i=o=>{switch(o){case"HIGH":return"border-red-500 text-red-500";case"MEDIUM":return"border-yellow-500 text-yellow-500";default:return"border-gray-300 text-gray-500"}};return(o,e)=>(n(),l("div",te,[e[0]||(e[0]=t("h2",{class:"text-xl font-semibold"},"Requirement Tasks",-1)),t("div",ee,[(n(!0),l(g,null,h(y(_),s=>{var c;return n(),l("div",{key:s.id,class:"rounded-lg border bg-white p-4 shadow hover:bg-gray-50 transition-colors"},[t("div",se,[t("div",oe,[t("div",ae,[t("span",re,a(s.id),1),t("span",ne,a(s.status),1)]),t("h3",le,a(s.title),1),t("p",ie,"Requirement: "+a((c=s==null?void 0:s.requirement)==null?void 0:c.title),1),(n(!0),l(g,null,h(s.users,(d,p)=>(n(),l("div",{class:"mt-2 flex items-center gap-2",key:p},[t("div",ce,a(u(d==null?void 0:d.name)),1),t("span",de,a(d==null?void 0:d.name),1)]))),128))]),t("div",ue,[t("span",{class:f(["text-xs px-2 py-1 rounded border",i(s.priority)])},a(s.priority),3)])])])}),128))])]))}},me={class:"space-y-4"},xe={class:"flex gap-2 border rounded-md bg-white p-2"},pe=["onClick"],ge={class:"bg-white rounded-lg p-4 shadow"},he={__name:"Tabs",setup(m){const r=B(),_=N(),u=[{label:"Projects",value:"projects",icon:"fa-folder"},{label:"Requirements",value:"requirements",icon:"fa-file-alt"},{label:"Tasks",value:"tasks",icon:"fa-tasks"},{label:"Bugs",value:"bugs",icon:"fa-bug"},{label:"Meetings",value:"meetings",icon:"fa-users"},{label:"Reports",value:"reports",icon:"fa-file-chart-line"}],i=C(_.query.tab||"projects");E(i,e=>{r.push({query:{tab:e}})});const o={projects:jt,requirements:Zt,tasks:_e,reports:Vt,bugs:ct,meetings:bt};return(e,s)=>(n(),l("div",me,[t("div",xe,[(n(),l(g,null,h(u,c=>t("button",{key:c.value,onClick:d=>i.value=c.value,class:f(["flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium",i.value===c.value?"bg-blue-600 text-white shadow":"text-gray-600 hover:bg-gray-100"])},[t("i",{class:f(["fas",c.icon,"text-sm"])},null,2),T(" "+a(c.label),1)],10,pe)),64))]),t("div",ge,[(n(),I(V(o[i.value])))])]))}},ye=G(he,[["__scopeId","data-v-16f7d2bd"]]),fe={class:"flex min-h-screen flex-col bg-slate-50"},be={class:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-6"},ve={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-5"},Me={__name:"TaskManagementView",setup(m){const r=C({}),_=M();return b(async()=>{try{const u=await _.fetchTaskManagementSummary();r.value=u.data}catch(u){console.error("Failed to fetch summary:",u)}}),(u,i)=>{const o=O("RouterLink");return n(),l("div",fe,[t("main",be,[i[0]||(i[0]=t("div",{class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},[t("div",null,[t("h1",{class:"text-2xl font-bold tracking-tight"},"Task Management"),t("p",{class:"text-sm text-gray-500"}," Manage your projects, requirements, tasks, bugs, and meetings. ")])],-1)),t("div",ve,[x(o,{to:{name:"ProjectList"}},{default:v(()=>{var e,s,c;return[x($,{title:"Projects",value:(e=r.value.projects)==null?void 0:e.total,subtext:`${(c=(s=r.value)==null?void 0:s.projects)==null?void 0:c.active} active projects`,icon:"folder",color:"text-cyan-500"},null,8,["value","subtext"])]}),_:1}),x(o,{to:{name:"RequirementList"}},{default:v(()=>{var e,s,c,d;return[x($,{title:"Requirements",value:(s=(e=r.value)==null?void 0:e.requirements)==null?void 0:s.total,subtext:`${(d=(c=r.value)==null?void 0:c.requirements)==null?void 0:d.completed} completed`,icon:"file-alt",color:"text-indigo-500"},null,8,["value","subtext"])]}),_:1}),x(o,{to:{name:"TaskList"}},{default:v(()=>{var e,s,c,d;return[x($,{title:"Tasks",value:(s=(e=r.value)==null?void 0:e.tasks)==null?void 0:s.total,subtext:`${(d=(c=r.value)==null?void 0:c.tasks)==null?void 0:d.completed} in completed`,icon:"tasks",color:"text-purple-500"},null,8,["value","subtext"])]}),_:1}),x(o,{to:{name:"BugList"}},{default:v(()=>{var e,s,c,d;return[x($,{title:"Bugs",value:(s=(e=r.value)==null?void 0:e.bugs)==null?void 0:s.total,subtext:`${(d=(c=r.value)==null?void 0:c.bugs)==null?void 0:d.solved} solved`,icon:"bug",color:"text-red-500"},null,8,["value","subtext"])]}),_:1}),x(o,{to:{name:"MeetingList"}},{default:v(()=>{var e,s,c,d;return[x($,{title:"Meetings",value:(s=(e=r.value)==null?void 0:e.meetings)==null?void 0:s.total,subtext:`${(d=(c=r.value)==null?void 0:c.meetings)==null?void 0:d.today} today`,icon:"users",color:"text-teal-500"},null,8,["value","subtext"])]}),_:1})]),x(ye)])])}}};export{Me as default};
