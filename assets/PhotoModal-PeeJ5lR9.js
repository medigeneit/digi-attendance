import{r as l,q as C,o as d,c as f,a as t,e as p,t as P}from"./index-D0JB0D2q.js";const I={key:0,class:"modal-bg z-50"},U={class:"modal-card relative"},B={key:0,class:"absolute inset-0 flex items-center justify-center bg-gray-200 bg-opacity-75 z-10"},j=["src"],w={class:"flex justify-center mt-4"},F=["disabled"],O={__name:"PhotoModal",props:{imageSrc:{type:String,default:""},isOpen:{type:Boolean,default:!1}},emits:["close","fileSelected","uploadPhoto"],setup(b,{emit:h}){const c=h,r=l(null),o=l(!1),s=l(!1),v=l(!1),i=b,u=l(i.isOpen),n=l(i.imageSrc),_=()=>{u.value=!1,c("close"),m()},y=a=>{const e=a.target.files[0];if(e){const g=new FileReader;g.onload=x=>{n.value=x.target.result,o.value=!0},g.readAsDataURL(e),c("fileSelected",e)}},k=()=>{r.value.click()},S=()=>{o.value?(s.value=!0,c("uploadPhoto",r.value.files[0]),setTimeout(()=>{s.value=!1,v.value=!0},2e3)):k()},m=()=>{o.value=!1,s.value=!1,v.value=!1};return C(()=>i.isOpen,a=>{u.value=a,a&&(n.value=i.imageSrc,m())}),(a,e)=>u.value?(d(),f("div",I,[t("div",U,[s.value?(d(),f("div",B,e[0]||(e[0]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500"},null,-1)]))):p("",!0),n.value?(d(),f("img",{key:1,src:n.value,alt:"Modal Image",class:"aspect-[3/4] object-cover rounded-md"},null,8,j)):p("",!0),t("div",w,[t("button",{class:"btn-2",onClick:S,disabled:s.value},P(o.value?"Upload Photo":"Change Photo"),9,F)]),t("input",{type:"file",ref_key:"fileInput",ref:r,class:"hidden",onChange:y},null,544),t("button",{onClick:_,class:"absolute top-2 right-2 text-red-500 text-xl"},e[1]||(e[1]=[t("i",{class:"far fa-times-circle"},null,-1)]))])])):p("",!0)}};export{O as _};
