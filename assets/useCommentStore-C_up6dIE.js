import{B as C,r as c,x as m,C as r}from"./index-DavNGHz_.js";const $=C("comment",()=>{const o=c([]),v=c(null),l=c(!1),n=c(null),f=async a=>{var s,t;l.value=!0,n.value=null;try{const e=await r.get("/comments",{params:a});o.value=e.data}catch(e){n.value=((t=(s=e.response)==null?void 0:s.data)==null?void 0:t.message)||"কমেন্ট লোড করতে ব্যর্থ হয়েছে।"}finally{l.value=!1}},i=async a=>{var s,t;l.value=!0,n.value=null;try{const e=await r.get(`/comments/${a}`);v.value=e.data}catch(e){n.value=((t=(s=e.response)==null?void 0:s.data)==null?void 0:t.message)||`কমেন্ট (ID: ${a}) লোড করতে ব্যর্থ হয়েছে।`}finally{l.value=!1}},p=async a=>{var s,t;l.value=!0,n.value=null;try{const e=await r.post("/comments",a);return o.value.push(e.data.data),e.data.data}catch(e){n.value=((t=(s=e.response)==null?void 0:s.data)==null?void 0:t.message)||"কমেন্ট তৈরি করতে ব্যর্থ হয়েছে।"}finally{l.value=!1}},y=async(a,s)=>{var t,e;l.value=!0,n.value=null;try{const u=await r.put(`/comments/${a}`,s),d=o.value.findIndex(h=>h.id===a);return d!==-1&&(o.value[d]=u.data.data),u.data.data}catch(u){throw n.value=((e=(t=u.response)==null?void 0:t.data)==null?void 0:e.message)||`কমেন্ট (ID: ${a}) আপডেট করতে ব্যর্থ হয়েছে।`,u}finally{l.value=!1}},g=async a=>{var s,t;l.value=!0,n.value=null;try{await r.delete(`/comments/${a}`),o.value=o.value.filter(e=>e.id!==a)}catch(e){n.value=((t=(s=e.response)==null?void 0:s.data)==null?void 0:t.message)||`কমেন্ট (ID: ${a}) মুছতে ব্যর্থ হয়েছে।`}finally{l.value=!1}};return{comments:m(()=>o.value),comment:m(()=>v.value),loading:m(()=>l.value),error:m(()=>n.value),fetchComments:f,fetchComment:i,createComment:p,updateComment:y,deleteComment:g}});export{$ as u};
