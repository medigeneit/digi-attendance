import{C as T,r as x,e as N,c as d,o as i,a as e,f as R,g as y,w as $,F as U,h as S,j as I,p as q,v as V,i as E,B as se,t as f,x as ae,b as de,u as ue,D as M,n as me,k as pe,q as te}from"./index-DvHaOprj.js";import{L}from"./LoaderView-DEZf7DE5.js";import{O}from"./OverlyModal-BsYZiwwc.js";import{R as le}from"./RequiredIcon-D21jwKue.js";import{f as z}from"./requirement-BIjWAZ1m.js";import{o as be}from"./url-CePbr-gY.js";import{u as re}from"./department-6yN5fHcI.js";import{_ as oe}from"./MultiselectDropdown-DG6_D1lq.js";import{_ as j}from"./UserChip-Bvi2Jb3U.js";import{u as ie}from"./user-BOmtqodQ.js";import{_ as ce}from"./TaskUserChip-BOM7-KFI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";async function ve(m,w){return T.post(`/requirements/${m}/details`,w)}async function ne(m,w,{params:c={}}={}){return T.get(`/requirements/${m}/details/${w}`,{params:c})}async function xe(m,w,c){return T.put(`/requirements/${m}/details/${w}`,c)}async function fe(m,w,{params:c={}}={}){const p=be(c);return T.delete(`/requirements/${m}/details/${w}${p?"?"+p:""}`)}const ye={class:"max-h-[90vh] overflow-auto w-full mx-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative"},ge={class:"sticky top-0 pt-4 bg-white z-10"},we={class:"mb-4"},ke={class:"block text-gray-600 text-sm mb-1 font-medium"},$e={class:"mb-4"},_e={class:"mb-4"},he={class:"relative w-full rounded lg:flex-grow"},qe={key:0,class:"absolute right-8 text-xl top-0 bottom-0 flex items-center"},Ce={class:"mb-4"},De={class:"mb-4"},Re={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},Se={key:0,class:"mb-4 text-red-500 font-medium"},Ie={key:1,class:"mb-4"},Ee={class:"flex items-center justify-between gap-4"},Ue=["disabled"],Ve={__name:"RequirementDetailAddForm",props:{requirementId:{type:[Number,String],required:!0}},emits:["create","closeClick","error"],setup(m,{emit:w}){const c=m,p=w,u=re(),v=x(""),l=x(),o=x({title:"",description:"",priority:"",better_to_complete_on:"",supervisor_id:null}),k=x(null),g=x([]);async function _(){var s,n,t;v.value="submitting";const a={...o.value,supervisor_id:(s=k.value)==null?void 0:s.id};console.log({payload:a});try{const r=await ve(c.requirementId,a);p("create",r),v.value="create"}catch(r){v.value="error",l.value=((t=(n=r.response)==null?void 0:n.data)==null?void 0:t.message)||"Failed to create requirement detail",p("error",l.value)}}return N(async()=>{var s;const a=((s=(await z(c.requirementId)).data)==null?void 0:s.requirement)||{};g.value=await u.fetchDepartmentEmployee([a.from_department_id])}),x([]),(a,s)=>(i(),d("div",ye,[e("div",ge,[s[8]||(s[8]=e("h2",{class:"text-2xl font-semibold text-gray-800"},"Add Requirement",-1)),s[9]||(s[9]=e("hr",{class:"mb-4"},null,-1)),e("div",{class:"text-purple-600/80 mb-4 text-xs border-b border-dashed",onClick:s[0]||(s[0]=$(n=>p("ok"),["prevent"]))}," Fields that must be filled in will be marked with an asterisk. ")]),e("form",{onSubmit:$(_,["prevent"]),class:"z-0"},[v.value!=="loading"?(i(),d(U,{key:0},[e("div",we,[e("label",ke,[s[10]||(s[10]=I("Title ")),q(le)]),S(e("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>o.value.title=n),required:"",placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[V,o.value.title]])]),e("div",$e,[s[11]||(s[11]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Details",-1)),S(e("textarea",{rows:"10","onUpdate:modelValue":s[2]||(s[2]=n=>o.value.description=n),placeholder:"Enter requirement description",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[V,o.value.description]])]),e("div",_e,[s[12]||(s[12]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Supervisor",-1)),e("div",he,[q(oe,{modelValue:k.value,"onUpdate:modelValue":s[3]||(s[3]=n=>k.value=n),options:g.value,multiple:!1,label:"name","label-prefix":"id",placeholder:"--NO SUPERVISOR--"},{option:E(({option:n})=>[q(j,{user:n,class:"w-full line-clamp-1"},null,8,["user"])]),_:1},8,["modelValue","options"]),a.selectedEmployee?(i(),d("div",qe,[e("button",{onClick:s[4]||(s[4]=$((...n)=>a.handleUserDeSelect&&a.handleUserDeSelect(...n),["prevent"])),class:"mt-0.5 text-gray-500 hover:text-red-700"}," × ")])):y("",!0)])]),e("div",Ce,[s[14]||(s[14]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Priority ",-1)),S(e("select",{class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500","onUpdate:modelValue":s[5]||(s[5]=n=>o.value.priority=n)},s[13]||(s[13]=[e("option",{value:""},"NORMAL",-1),e("option",null,"IMPORTANT",-1),e("option",null,"URGENT",-1)]),512),[[se,o.value.priority]])]),e("div",De,[s[15]||(s[15]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Better to Complete ",-1)),S(e("input",{type:"date","onUpdate:modelValue":s[6]||(s[6]=n=>o.value.better_to_complete_on=n),placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[V,o.value.better_to_complete_on]])])],64)):y("",!0),e("div",Re,[l.value?(i(),d("div",Se,f(l.value),1)):y("",!0),l.value?(i(),d("hr",Ie)):y("",!0),e("div",Ee,[e("button",{type:"button",onClick:s[7]||(s[7]=$(n=>p("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:v.value=="loading"||v.value=="submitting",type:"submit",class:"bg-blue-500 hover:bg-blue-600 text-white font-semibold px-5 py-2 rounded transition"},f(v.value=="submitting"?"Saving...":"Add Requirement"),9,Ue)])])],32),v.value==="loading"||v.value==="submitting"?(i(),R(L,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):y("",!0)]))}},Fe={class:"max-h-[90vh] overflow-auto w-full mx-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative"},Te={class:"mb-4"},Ne={class:"font-semibold"},Le={class:"mb-4"},Ae={class:"line-clamp-2"},Me={key:1,class:"min-h-40"},Oe={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},je={key:0,class:"mb-4 text-red-500 font-medium"},ze={key:1,class:"mb-4"},Be={class:"flex items-center justify-between gap-4"},Pe=["disabled"],We={__name:"RequirementDetailDeleteForm",props:{requirementId:{type:[Number,String],required:!0},detailId:{type:[Number,String],required:!0}},emits:["delete","closeClick","error"],setup(m,{emit:w}){const c=m,p=w,u=ie(),v=x(null),l=x(""),o=x(),k=x([]);async function g(){var _,a;l.value="submitting";try{const s=await fe(c.requirementId,c.detailId);p("delete",s),l.value="create"}catch(s){l.value="error",o.value=((a=(_=s.response)==null?void 0:_.data)==null?void 0:a.message)||"Failed to update requirement detail: "+s,p("error",o.value)}}return N(async()=>{var _,a,s;l.value="loading";try{k.value=await u.fetchDepartmentWiseEmployees(),v.value=(_=(await ne(c.requirementId,c.detailId)).data)==null?void 0:_.detail}catch(n){o.value=((s=(a=n.response)==null?void 0:a.data)==null?void 0:s.message)||"Failed to fetch requirement detail"}finally{l.value=""}}),(_,a)=>{var s,n;return i(),d("div",Fe,[a[4]||(a[4]=e("div",{class:"sticky top-0 -mx-6 px-6 z-10 bg-gray-50"},[e("h2",{class:"text-xl font-semibold text-gray-800 py-2"},"Delete Requirement Details"),e("hr",{class:"mb-4 -mx-6"})],-1)),e("form",{onSubmit:$(g,["prevent"]),class:"z-0"},[l.value!=="loading"?(i(),d(U,{key:0},[e("div",Te,[a[1]||(a[1]=e("div",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Title",-1)),e("div",Ne,f((s=v.value)==null?void 0:s.title),1)]),e("div",Le,[a[2]||(a[2]=e("div",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Description",-1)),e("div",Ae,f((n=v.value)==null?void 0:n.description),1)]),a[3]||(a[3]=e("div",{class:"my-8 text-center text-xl text-red-600"},"Are you sure want to delete?",-1))],64)):(i(),d("div",Me)),e("div",Oe,[o.value?(i(),d("div",je,f(o.value),1)):y("",!0),o.value?(i(),d("hr",ze)):y("",!0),e("div",Be,[e("button",{type:"button",onClick:a[0]||(a[0]=$(t=>p("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:l.value=="loading"||l.value=="submitting",type:"submit",class:"bg-red-700 hover:bg-red-500 text-white font-semibold px-5 py-2 rounded transition"},f(l.value=="submitting"?"Deleting...":"Delete"),9,Pe)])])],32),l.value==="loading"||l.value==="submitting"?(i(),R(L,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):y("",!0)])}}},Ge={class:"max-h-[90vh] w-full mx-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative"},He={class:"sticky top-0 pt-4 bg-white z-10"},Qe={class:"mb-4"},Je={class:"block text-gray-600 text-sm mb-1 font-medium"},Ke={class:"mb-4"},Xe={class:"mb-4"},Ye={class:"relative w-full rounded lg:flex-grow"},Ze={key:0,class:"absolute right-8 text-xl top-0 bottom-0 flex items-center"},et={class:"mb-4"},tt={class:"mb-4"},st={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},lt={key:0,class:"mb-4 text-red-500 font-medium"},rt={key:1,class:"mb-4"},ot={class:"flex items-center justify-between gap-4"},it=["disabled"],nt={__name:"RequirementDetailEditForm",props:{requirementId:{type:[Number,String],required:!0},detailId:{type:[Number,String],required:!0}},emits:["update","closeClick","error"],setup(m,{emit:w}){const c=m,p=w,u=ie(),v=re(),l=x(null),o=x(""),k=x(),g=x({title:"",description:"",priority:"",better_to_complete_on:"",supervisor_id:null}),_=x([]),a=x([]),s=x(null);async function n(){var r,b,D;o.value="submitting";const t={...g.value,supervisor_id:(r=s.value)==null?void 0:r.id};console.log({payload:t});try{const C=await xe(c.requirementId,c.detailId,t);p("update",C),o.value="create"}catch(C){o.value="error",k.value=((D=(b=C.response)==null?void 0:b.data)==null?void 0:D.message)||"Failed to update requirement detail",p("error",k.value)}}return N(async()=>{var t,r,b,D;o.value="loading";try{_.value=await u.fetchDepartmentWiseEmployees();const C=((t=(await z(c.requirementId)).data)==null?void 0:t.requirement)||{};a.value=await v.fetchDepartmentEmployee([C.from_department_id]),l.value=(r=(await ne(c.requirementId,c.detailId)).data)==null?void 0:r.detail,g.value=l.value,s.value=l.value.supervisor;const F=new Date(l.value.better_to_complete_on);g.value.better_to_complete_on=F.toISOString().split("T")[0]}catch(C){k.value=((D=(b=C.response)==null?void 0:b.data)==null?void 0:D.message)||"Failed to fetch requirement detail"}finally{o.value=""}}),(t,r)=>(i(),d("div",Ge,[e("div",He,[r[8]||(r[8]=e("h2",{class:"text-2xl font-semibold text-gray-800"},"Add Requirement Details",-1)),r[9]||(r[9]=e("hr",{class:"mb-4"},null,-1)),e("div",{class:"text-purple-600/80 mb-4 text-xs border-b border-dashed",onClick:r[0]||(r[0]=$(b=>p("ok"),["prevent"]))}," Fields that must be filled in will be marked with an asterisk. ")]),e("form",{onSubmit:$(n,["prevent"]),class:"z-0"},[o.value!=="loading"?(i(),d(U,{key:0},[e("div",Qe,[e("label",Je,[r[10]||(r[10]=I("Title ")),q(le)]),S(e("input",{"onUpdate:modelValue":r[1]||(r[1]=b=>g.value.title=b),required:"",placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[V,g.value.title]])]),e("div",Ke,[r[11]||(r[11]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Description",-1)),S(e("textarea",{rows:"10","onUpdate:modelValue":r[2]||(r[2]=b=>g.value.description=b),placeholder:"Enter requirement description",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[V,g.value.description]])]),e("div",Xe,[r[12]||(r[12]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Supervisor",-1)),e("div",Ye,[q(oe,{modelValue:s.value,"onUpdate:modelValue":r[3]||(r[3]=b=>s.value=b),options:a.value,multiple:!1,label:"name","label-prefix":"id",placeholder:"--NO SUPERVISOR--"},{option:E(({option:b})=>[q(j,{user:b,class:"w-full line-clamp-1"},null,8,["user"])]),singleLabel:E(({option:b})=>[q(j,{user:b,class:"line-clamp-1"},null,8,["user"])]),_:1},8,["modelValue","options"]),s.value?(i(),d("div",Ze,[e("button",{onClick:r[4]||(r[4]=$(b=>s.value=null,["prevent"])),class:"mt-0.5 text-gray-500 hover:text-red-700"}," × ")])):y("",!0)])]),e("div",et,[r[14]||(r[14]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Priority ",-1)),S(e("select",{class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500","onUpdate:modelValue":r[5]||(r[5]=b=>g.value.priority=b)},r[13]||(r[13]=[e("option",{value:""},"NORMAL",-1),e("option",null,"IMPORTANT",-1),e("option",null,"URGENT",-1)]),512),[[se,g.value.priority]])]),e("div",tt,[r[15]||(r[15]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Better to Complete ",-1)),S(e("input",{type:"date","onUpdate:modelValue":r[6]||(r[6]=b=>g.value.better_to_complete_on=b),placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[V,g.value.better_to_complete_on]])])],64)):y("",!0),e("div",st,[k.value?(i(),d("div",lt,f(k.value),1)):y("",!0),k.value?(i(),d("hr",rt)):y("",!0),e("div",ot,[e("button",{type:"button",onClick:r[7]||(r[7]=$(b=>p("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:o.value=="loading"||o.value=="submitting",type:"submit",class:"bg-blue-500 hover:bg-blue-600 text-white font-semibold px-5 py-2 rounded transition"},f(o.value=="submitting"?"Saving...":"Edit Detail"),9,it)])])],32),o.value==="loading"||o.value==="submitting"?(i(),R(L,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):y("",!0)]))}},at={class:"group/item border text-gray-800 py-4 shadow-sm mb-4 px-4 rounded-md hover:bg-blue-50"},dt={class:"border-2 border-gray-700 p-3 align-top"},ut={class:"text-2xl font-medium"},mt={class:"border-2 border-gray-700 p-3"},pt={class:"text-lg font-semibold mb-2"},bt={class:"mb-5"},ct={class:"text-justify"},vt=["innerHTML"],xt={class:"flex items-end"},ft={class:"flex items-center gap-1 mb-3"},yt={class:"text-blue-400 font-semibold"},gt={class:"ml-auto flex gap-6 items-center"},wt={class:"border-2 border-gray-700 p-3 whitespace-nowrap print:whitespace-break-spaces print:px-0 text-center"},kt={key:1,colspan:"2",class:"border-2 border-gray-700 p-3 text-center"},$t={__name:"RequirementDetailTableRow",props:{detail:{type:Object},serial:{type:Number}},emits:["editClick","deleteClick"],setup(m,{emit:w}){const c=w,p=x("line-clamp-2");function u(){p.value=p.value?"":"line-clamp-2"}return(v,l)=>(i(),d("tr",at,[e("td",dt,[e("span",ut,f(m.serial),1)]),e("td",mt,[e("div",null,[e("div",pt,[e("span",null,f(m.detail.title),1)]),l[3]||(l[3]=e("hr",{class:"mb-4 -mx-4"},null,-1)),e("div",bt,[l[2]||(l[2]=e("div",{class:"text-gray-400 mr-2 text-xs uppercase font-semibold"},"Description",-1)),e("div",ct,[e("p",{class:ae(["print:line-clamp-none",p.value]),innerHTML:m.detail.description},null,10,vt),e("button",{class:"text-blue-500 group-hover/item:underline hover:text-sky-400 ml-auto text-sm print:hidden",onClick:$(u,["prevent"])},f(p.value?"Show More":"Show Less"),1)])])]),e("div",xt,[e("div",null,[e("div",ft,[l[4]||(l[4]=e("span",{class:"text-gray-400 mr-2 text-xs uppercase font-semibold"},"Supervisor:",-1)),m.detail.supervisor?(i(),R(ce,{key:0,user:m.detail.supervisor},null,8,["user"])):y("",!0)]),e("div",null,[l[5]||(l[5]=e("span",{class:"text-gray-500 mr-2 text-xs uppercase font-semibold"},"Priority:",-1)),e("span",yt,f(m.detail.priority),1)])]),e("div",gt,[e("button",{class:"btn-2",onClick:l[0]||(l[0]=$(o=>c("editClick",m.detail),["prevent"]))},l[6]||(l[6]=[e("i",{class:"fas fa-edit"},null,-1),I("Edit ")])),e("button",{class:"btn-2-red",onClick:l[1]||(l[1]=$(o=>c("deleteClick",m.detail),["prevent"]))},l[7]||(l[7]=[e("i",{class:"fas fa-trash-alt"},null,-1),I("Delete ")]))])])]),e("td",wt,[e("div",null,f(new Date(m.detail.better_to_complete_on).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",weekday:"short"})),1)]),m.detail.task_id?(i(),d(U,{key:0},[l[8]||(l[8]=e("td",{class:"border-2 border-gray-700 p-3"},null,-1)),l[9]||(l[9]=e("td",{class:"border-2 border-gray-700 p-3"},null,-1))],64)):(i(),d("td",kt,l[10]||(l[10]=[e("button",{class:"print:hidden hover:border-2 group-hover/item:bg-blue-200 hover:border-blue-700 text-blue-500 hover:text-white hover:!bg-blue-500 rounded-md px-4 py-1"}," Create Task ",-1)])))]))}},_t={class:"container mx-auto p-6 print:p-0 w-full print:max-w-full"},ht={class:"bg-white rounded shadow print:shadow-none p-4 print:p-0 relative"},qt={class:"flex items-start"},Ct={class:"mb-4 text-lg print:black print:font-bold"},Dt={class:"ml-auto print:hidden flex gap-2 items-center"},Rt={class:"mb-4 flex items-center gap-1 print:mb-1"},St={class:"font-bold print:text-gray-900"},It={class:"mb-4 print:flex print:items-center print:gap-3 print:mb-1"},Et={class:"print:text-gray-900"},Ut={class:"mb-4 print:flex print:items-center print:gap-3 print:mb-1"},Vt={class:"flex items-center gap-2 print:text-gray-900"},Ft={class:"mb-4 print:flex print:items-center print:gap-3 print:mb-1"},Tt={class:"print:text-gray-900"},Nt={class:"flex items-end mb-3"},Lt={class:"ml-auto print:hidden flex gap-2 text-sm"},At={key:0,class:"overflow-x-auto print:overflow-visible"},Mt={class:"w-full table-auto print:table-fixed"},Ot={colspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base font-semibold whitespace-nowrap px-3 py-1 print:whitespace-normal w-[25%]"},jt={class:"whitespace-nowrap print:whitespace-break-spaces print:px-0 p-3 text-center border-2 border-gray-800"},zt={class:"text-gray-900 text-base"},Bt={key:1,class:"border min-h-64 rounded-md flex items-center justify-center group"},ss={__name:"RequirementShow",setup(m){const w=de(),c=ue(),p=x(""),u=x(null),v=M({open:!1}),l=M({detail:null,open:!1}),o=M({detail:null,open:!1});N(async()=>{await k()});async function k(){var n;p.value="loading",u.value=(n=(await z(w.params.id)).data)==null?void 0:n.requirement,p.value=""}function g(){v.open=!0}function _(n){l.open=!0,l.detail=n}function a(n){o.open=!0,o.detail=n}function s(){window.print()}return(n,t)=>{var b,D,C,F,B,P,W,G,H,Q,J,K,X,Y;const r=me("RouterLink");return i(),d("div",_t,[v.open?(i(),R(O,{key:0,class:"*:max-w-4xl"},{default:E(()=>[q(Ve,{requirementId:u.value.id,onCloseClick:t[0]||(t[0]=h=>v.open=!1),onCreate:t[1]||(t[1]=async()=>{v.open=!1,await k()})},null,8,["requirementId"])]),_:1})):y("",!0),l.open?(i(),R(O,{key:1},{default:E(()=>{var h;return[q(nt,{requirementId:u.value.id,detailId:(h=l.detail)==null?void 0:h.id,onCloseClick:t[2]||(t[2]=A=>l.open=!1),onUpdate:t[3]||(t[3]=async()=>{l.open=!1,await k()})},null,8,["requirementId","detailId"])]}),_:1})):y("",!0),o.open?(i(),R(O,{key:2},{default:E(()=>{var h;return[q(We,{requirementId:u.value.id,detailId:(h=o.detail)==null?void 0:h.id,onCloseClick:t[4]||(t[4]=A=>o.open=!1),onDelete:t[5]||(t[5]=async()=>{o.open=!1,await k()})},null,8,["requirementId","detailId"])]}),_:1})):y("",!0),e("div",ht,[e("div",qt,[e("div",Ct,[t[7]||(t[7]=e("div",{class:"text-gray-800 print:leading-none"},"To",-1)),e("div",null,f((D=(b=u.value)==null?void 0:b.to_department)==null?void 0:D.name),1)]),e("div",Dt,[(((C=u.value)==null?void 0:C.details)||[]).length>0?(i(),d("button",{key:0,class:"btn-3 font-semibold !pl-2 !pr-4",onClick:$(s,["prevent"])},t[8]||(t[8]=[e("i",{class:"fad fa-print text-xl"},null,-1),I("Print ")]))):y("",!0),e("button",{class:"btn-3",onClick:t[6]||(t[6]=$(()=>pe(c).back(),["prevent"]))},"Back"),q(r,{class:"btn-2",to:`/requirements/edit/${(F=u.value)==null?void 0:F.id}`},{default:E(()=>t[9]||(t[9]=[I("Edit")])),_:1,__:[9]},8,["to"])])]),t[24]||(t[24]=e("div",{class:"text-center text-xl font-bold mb-2 underline"},"Requirement Form",-1)),e("div",Rt,[t[10]||(t[10]=e("div",{class:"text-gray-800 text-sm"},"Requirement ID:",-1)),e("div",St,f((B=u.value)==null?void 0:B.id),1)]),e("div",It,[t[11]||(t[11]=e("div",{class:"text-gray-800 text-sm"},"From",-1)),e("div",Et,f((W=(P=u.value)==null?void 0:P.from_department)==null?void 0:W.name),1)]),e("div",Ut,[t[12]||(t[12]=e("div",{class:"text-gray-500 text-sm"},"Website",-1)),e("div",Vt,[(i(!0),d(U,null,te(((G=u.value)==null?void 0:G.website_tags)||[],h=>(i(),d("div",{key:h.id,class:"border px-2 rounded-md bg-gray-50 shadow-sm"},f(h.name),1))),128))])]),e("div",Ft,[t[13]||(t[13]=e("div",{class:"text-gray-500 text-sm"},"Submission Date",-1)),e("div",Tt,f(new Date((H=u.value)==null?void 0:H.submission_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})),1)]),t[25]||(t[25]=e("hr",{class:"mb-4"},null,-1)),e("div",null,[e("div",Nt,[t[15]||(t[15]=e("h2",{class:"text-xl font-semibold"},"Requirement Task List",-1)),e("div",Lt,[(((Q=u.value)==null?void 0:Q.details)||[]).length>0?(i(),d("button",{key:0,class:"btn-4 font-semibold !pl-2 !pr-4 border-2 border-blue-800 hover:bg-blue-800 hover:text-white",onClick:$(g,["prevent"])},t[14]||(t[14]=[e("i",{class:"fad fa-plus-circle text-xl"},null,-1),I("Add Requirement ")]))):y("",!0)])]),(((J=u.value)==null?void 0:J.details)||[]).length>0?(i(),d("div",At,[e("table",Mt,[e("thead",null,[e("tr",null,[t[16]||(t[16]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-left px-4 text-gray-800 print:text-black text-xl font-semibold whitespace-nowrap w-[15%]"}," SL ",-1)),t[17]||(t[17]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base font-semibold whitespace-nowrap w-[65%]"}," Requirement Details ",-1)),t[18]||(t[18]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base px-3 font-semibold whitespace-nowrap print:whitespace-normal print:p-0 w-[15%]"}," Better To Complete ",-1)),e("th",Ot," For '"+f(((K=u.value.to_department)==null?void 0:K.short_name)||((X=u.value.to_department)==null?void 0:X.name))+"' Use ",1)]),t[19]||(t[19]=e("tr",null,[e("td",{class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-sm font-semibold whitespace-nowrap p-3 print:whitespace-normal"}," Issue No "),e("td",{class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-sm font-semibold whitespace-nowrap p-3 print:whitespace-normal print:p-0"}," Expected Date ")],-1))]),e("tbody",null,[(i(!0),d(U,null,te(((Y=u.value)==null?void 0:Y.details)||[],(h,A)=>{var Z,ee;return i(),d(U,{key:h.id},[q($t,{detail:h,serial:A+1,onEditClick:_,onDeleteClick:a},null,8,["detail","serial"]),e("tr",null,[e("td",jt,[e("div",zt," For '"+f(((Z=u.value.to_department)==null?void 0:Z.short_name)||((ee=u.value.to_department)==null?void 0:ee.name))+"' Use ",1),t[20]||(t[20]=e("div",{class:"text-gray-800 text-xs"},"(Feedback)",-1))]),t[21]||(t[21]=e("td",{class:"whitespace-nowrap p-3 text-center border-2 border-gray-800",colspan:"4"},null,-1))]),t[22]||(t[22]=e("tr",null,[e("td",{class:"whitespace-nowrap p-3 text-center border-2 border-gray-800 min-h-96"},"   "),e("td",{class:"whitespace-nowrap p-3 text-center border-2 border-gray-800 min-h-96",colspan:"4"},"   ")],-1))],64)}),128))])])])):(i(),d("div",Bt,[e("button",{class:"btn-4 font-semibold pl-2 group-hover:border border-blue-300",onClick:$(g,["prevent"])},t[23]||(t[23]=[e("i",{class:"fad fa-plus-circle text-2xl"},null,-1),I("Add Requirement ")]))]))]),p.value==="loading"?(i(),R(L,{key:0,class:"absolute inset-0 bg-opacity-90"})):y("",!0)])])}}};export{ss as default};
