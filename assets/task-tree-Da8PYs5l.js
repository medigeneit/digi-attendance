function _(e,r){var c;let u=!0;if(r!=null&&r["user-ids"]&&(u=u&&e.users.some(i=>i.id==(r==null?void 0:r["user-ids"]))),r!=null&&r.status){const i={"not-completed":["IN_PROGRESS","PENDING"],"only-completed":["COMPLETED"]},n=i==null?void 0:i[r==null?void 0:r.status];u=u&&n.includes(e==null?void 0:e.status)}return((c=e==null?void 0:e.children_tasks)==null?void 0:c.length)>0?u&&(e==null?void 0:e.children_tasks.filter(i=>_(i,r)).length)>0:u}function m(e,r){var c,i;const u=n=>n.is_urgent&&n.is_important?4:n.is_urgent?3:n.is_important?2:n.is_target?1:0;return((i=(c=e==null?void 0:e.filter(n=>_(n,r)))==null?void 0:c.map(n=>({...n,children_tasks:n.children_tasks.length>0?m(n.children_tasks,r):[]})))==null?void 0:i.sort((n,o)=>{const d=u(n),p=u(o);return p!==d?p-d:o.priority!==n.priority?o.priority-n.priority:o.serial!==n.serial?o.serial-n.serial:o.id-n.id}))||[]}export{m};
