import{r as p,s as _,b as S,q as w,c as n,a as e,d as h,A,F as b,x as m,h as i,v as M,j as C,o as r,t as a,y as c,g as L}from"./index-DMp_AiQp.js";import{L as B}from"./LoaderView-DrRBpROy.js";import{u as D}from"./attendance-2N-Yf-VH.js";import{u as E}from"./company-DVwItbac.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"px-4 space-y-4"},T={class:"flex gap-4"},V=["value"],$={key:1,class:"space-y-4"},j={class:"overflow-x-auto card-bg"},F={class:"min-w-full table-auto border-collapse border border-gray-300 bg-white"},H={class:"text-center text-xs"},N={class:"border px-1 py-0.5"},U={class:"border px-1 py-0.5"},W={class:"border px-1 py-0.5"},q=["title"],z=["title"],I=["title"],P={class:"border px-1 py-0.5"},G={class:"border px-1 py-0.5"},J={class:"border px-1 py-0.5"},tt={__name:"MonthlyAttendanceSummaryReport",setup(K){const y=L(),u=E(),d=D(),o=p(""),x=p(""),{companies:v}=_(u),{monthly_company_summary:f}=_(d),l=async()=>{o.value&&await d.getMonthlyAttendanceSummaryReport(o.value,d.selectedMonth)};S(async()=>{await u.fetchCompanies()}),w([o,x],l);const k=()=>y.go(-1);return(O,s)=>(r(),n("div",R,[e("div",{class:"flex items-center justify-between gap-2"},[e("button",{class:"btn-3",onClick:k},s[2]||(s[2]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),s[3]||(s[3]=e("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Today Attendance Report Summary",-1)),s[4]||(s[4]=e("div",null,null,-1))]),e("div",T,[e("div",null,[h(e("select",{id:"userSelect","onUpdate:modelValue":s[0]||(s[0]=t=>o.value=t),onChange:l,class:"input-1"},[s[5]||(s[5]=e("option",{value:"",disabled:""},"Select a Company",-1)),(r(!0),n(b,null,m(i(v),t=>(r(),n("option",{key:t==null?void 0:t.id,value:t==null?void 0:t.id},a(t==null?void 0:t.name),9,V))),128))],544),[[A,o.value]])]),e("div",null,[h(e("input",{type:"month","onUpdate:modelValue":s[1]||(s[1]=t=>i(d).selectedMonth=t),onChange:l,class:"input-1"},null,544),[[M,i(d).selectedMonth]])])]),i(d).isLoading?(r(),C(B,{key:0})):(r(),n("div",$,[e("div",j,[e("table",F,[s[6]||(s[6]=e("thead",null,[e("tr",{class:"bg-gray-200 text-xs"},[e("th",{class:"border p-1"},"Emp/Worker Name"),e("th",{class:"border p-1"},"Actual Late Day"),e("th",{class:"border p-1"},"Actual Late Hour"),e("th",{class:"border p-1"},"Day"),e("th",{class:"border p-1"},"Shift"),e("th",{class:"border p-1"},"Entry Time"),e("th",{class:"border p-1"},"Exit Time"),e("th",{class:"border p-1"},"Working Hours"),e("th",{class:"border p-1"},"Late Entry"),e("th",{class:"border p-1"},"Early Leave"),e("th",{class:"border p-1"},"Status")])],-1)),e("tbody",H,[(r(!0),n(b,null,m(i(f),t=>(r(),n("tr",{key:t==null?void 0:t.date},[e("td",N,a(t==null?void 0:t.user),1),e("td",U,a(t==null?void 0:t.actual_late_day),1),e("td",W,a(t==null?void 0:t.actual_late_hour),1),e("td",{class:"border px-1 py-0.5",title:`${t.shift_start_time} to ${t.shift_end_time}`},a(t.shift_name),9,q),e("td",{class:c(["border px-1 py-0.5",{"bg-red-200":t.late_duration}]),title:`Device: ${t.entry_device}`},a(t.entry_time),11,z),e("td",{class:c(["border px-1 py-0.5",{"bg-red-200":t.early_leave_duration}]),title:`Device: ${t.exit_device}`},a(t.exit_time),11,I),e("td",P,a(t.working_hours),1),e("td",G,a(t.late_duration),1),e("td",J,a(t.early_leave_duration),1),e("td",{class:c(["border px-1 py-0.5",{"text-red-600":t.status==="Absent","text-green-600":t.status==="Present"}])},a(t.status),3)]))),128))])])])]))]))}};export{tt as default};
