import{u as h}from"./useRequirementStore-CD3ULRNT.js";import{u as y,e as g,n as w,c as o,o as n,a as t,k as r,t as i,F as v,q as k,p as u,i as m,j as x}from"./index-DJmvO8sT.js";import"./requirement-CUoycuRo.js";const R={class:"container mx-auto p-6"},S={class:"bg-white shadow-md rounded-lg p-6"},L={key:0,class:"text-center py-4 text-gray-500"},C={key:1,class:"text-center py-4 text-red-500"},A={key:2,class:"overflow-x-auto"},D={class:"min-w-full bg-white border overflow-hidden table table-fixed"},j={class:"px-4 py-2"},B={class:"px-4 py-2 whitespace-nowrap"},E={class:"flex items-center gap-2"},F={class:"text-blue-700 font-semibold flex-shrink-0"},N={class:"text-blue-700 font-semibold flex-shrink-0"},T={class:"px-4 py-2 text-center whitespace-nowrap"},V={class:"text-gray-600"},P={class:"px-4 py-2 text-center"},M={class:"flex gap-4 items-center justify-center"},I={__name:"RequirementList",setup(O){const a=h(),_=y();g(()=>{a.fetchRequirements()});const b=()=>{_.push({name:"RequirementAdd"})};return(U,e)=>{const l=w("RouterLink");return n(),o("div",R,[t("div",S,[t("div",{class:"flex justify-between items-center mb-6"},[e[2]||(e[2]=t("h2",{class:"text-2xl font-bold text-gray-800"},"Requirements",-1)),t("button",{onClick:b,class:"btn-1"},"Add Requirement")]),r(a).loading?(n(),o("div",L,"Loading requirements...")):r(a).error?(n(),o("div",C,i(r(a).error),1)):(n(),o("div",A,[t("table",D,[e[7]||(e[7]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left whitespace-nowrap"},"#"),t("th",{class:"px-4 py-2 text-left whitespace-nowrap"},"Department"),t("th",{class:"px-4 py-2 text-center whitespace-nowrap"},"Submitted On"),t("th",{class:"px-4 py-2 text-center whitespace-nowrap"},"Actions")])],-1)),t("tbody",null,[(n(!0),o(v,null,k(r(a).requirements,(s,f)=>{var p,c;return n(),o("tr",{key:s.id,class:"border-t hover:bg-blue-50 odd:bg-gray-50"},[t("td",j,i(f+1),1),t("td",B,[t("div",E,[e[3]||(e[3]=t("span",{class:"text-gray-500"},"From ",-1)),t("span",F,i((p=s==null?void 0:s.from_department)==null?void 0:p.name),1),e[4]||(e[4]=t("span",{class:"text-gray-500"},"To ",-1)),t("span",N,i((c=s==null?void 0:s.to_department)==null?void 0:c.name),1)])]),t("td",T,[t("div",V,i(new Date(s.submission_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})),1)]),t("td",P,[t("div",M,[u(l,{to:{name:"RequirementShow",params:{id:s==null?void 0:s.id}},class:"btn-2",onClick:e[0]||(e[0]=d=>d.stopPropagation())},{default:m(()=>e[5]||(e[5]=[t("i",{class:"fad fa-eye"},null,-1),x(" Show ")])),_:2,__:[5]},1032,["to"]),u(l,{to:{name:"RequirementEdit",params:{id:s==null?void 0:s.id}},class:"btn-4 border border-blue-500 hover:bg-blue-500 hover:text-white",onClick:e[1]||(e[1]=d=>d.stopPropagation())},{default:m(()=>e[6]||(e[6]=[t("i",{class:"fad fa-edit"},null,-1),x(" Edit ")])),_:2,__:[6]},1032,["to"])])])])}),128))])])]))])])}}};export{I as default};
