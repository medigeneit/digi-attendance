import{f as y,u as _,r as f,h as w,c as l,o as a,a as t,n as i,w as M,k,l as d,v as u,t as g}from"./index-DLnDj5WA.js";import{u as E}from"./useMeetingStore-EseiGlXV.js";const h={class:"container mx-auto p-6"},U={class:"max-w-xl mx-auto bg-white shadow-lg rounded-lg p-6"},V={key:0,class:"text-center py-4 text-gray-500"},S={class:"mb-4"},T={class:"mb-4"},q={class:"mb-4"},B={class:"mb-4"},C={key:0,class:"mb-4 text-red-500 font-medium"},L={class:"flex items-center gap-4"},N=["disabled"],D={key:2,class:"text-center py-4 text-red-500"},$={__name:"MeetingEdit",setup(R){const s=E(),v=y(),p=_(),b=v.params.id,r=f(!1),n=f({title:"",start_time:"",end_time:"",notes:""});w(async()=>{var m,e,o,c;await s.fetchEditMeeting(b),n.value={title:((m=s.meeting)==null?void 0:m.title)||"",start_time:(e=s.meeting)!=null&&e.start_time?s.meeting.start_time.slice(0,16):"",end_time:(o=s.meeting)!=null&&o.end_time?s.meeting.end_time.slice(0,16):"",notes:((c=s.meeting)==null?void 0:c.notes)||""}});const x=async()=>{r.value=!0,await s.updateMeeting(b,n.value),r.value=!1,s.error||p.push({name:"MeetingList"})};return(m,e)=>(a(),l("div",h,[t("div",U,[e[9]||(e[9]=t("h2",{class:"text-2xl font-semibold text-gray-800 mb-4"},"Edit Meeting",-1)),i(s).loading?(a(),l("div",V," Loading meeting details... ")):i(s).meeting?(a(),l("form",{key:1,onSubmit:M(x,["prevent"])},[t("div",S,[e[5]||(e[5]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Meeting Title",-1)),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>n.value.title=o),required:"",placeholder:"Enter meeting title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[u,n.value.title]])]),t("div",T,[e[6]||(e[6]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Start Time",-1)),d(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>n.value.start_time=o),required:"",type:"datetime-local",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[u,n.value.start_time]])]),t("div",q,[e[7]||(e[7]=t("label",{class:"block text-gray-700 font-medium mb-2"},"End Time",-1)),d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>n.value.end_time=o),required:"",type:"datetime-local",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[u,n.value.end_time]])]),t("div",B,[e[8]||(e[8]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Notes (Optional)",-1)),d(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=o=>n.value.notes=o),rows:"4",placeholder:"Enter meeting notes",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[u,n.value.notes]])]),i(s).error?(a(),l("div",C,g(i(s).error),1)):k("",!0),t("div",L,[t("button",{disabled:r.value,type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold px-5 py-2 rounded transition"},g(r.value?"Updating...":"Update Meeting"),9,N),t("button",{type:"button",onClick:e[4]||(e[4]=o=>i(p).push({name:"MeetingList"})),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel ")])],32)):(a(),l("div",D,g(i(s).error||"Meeting not found."),1))])]))}};export{$ as default};
