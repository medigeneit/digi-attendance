import{N as Ue,r as g,A as S,e as ee,x as U,I as je,f as Ve,o as u,n as $,i as R,c as p,g as J,a as e,a3 as ye,t as d,F as G,y as Q,j as ge,h as te,B as ve,v as Me,a5 as De,H as _e,u as Ee,b as Le,s as Z,m as Ne,k as P,q as T}from"./index-BxSL8eIm.js";import{_ as Te}from"./EmployeeFilter-AEUuxew9.js";import{L as Oe}from"./LoaderView-CNHStsuW.js";import{d as he}from"./dayjs.min-Cbbdfn5l.js";import{u as be}from"./shift-Cha_2C_Y.js";import{S as Be}from"./WeekendAssignModal-FSNYGiaB.js";import{C as Ie}from"./CriteriaAssignModal-B2Owcsww.js";import{u as He}from"./company-5nFU9ZeN.js";import{u as We}from"./department-CJU5hjiH.js";import{u as Fe}from"./user-BQT97VG6.js";import"./EmployeeDropdownInput-B_0Tcxik.js";import"./SelectDropdown-BSdXN7t2.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UserChip-DIzsLZZf.js";import"./monthly-kpi-assignments-Chf_ANLh.js";const Ke={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},Pe={class:"relative w-full max-w-xl rounded-2xl bg-white shadow-xl ring-1 ring-black/5 p-5"},Re={class:"flex items-start justify-between mb-4"},Ye={class:"flex items-center gap-3"},ze={class:"h-10 w-10 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center font-semibold"},Je={class:"text-base font-semibold text-gray-900"},Ge={class:"text-xs text-gray-500"},Qe={class:"flex flex-col gap-2"},Xe={class:"md:col-span-5"},Ze={class:"rounded-lg border bg-white p-2"},et={class:"flex items-center justify-between mb-2"},tt={class:"text-xs text-gray-500"},st={key:0,class:"text-sm text-gray-500"},at={key:1},nt=["checked"],ot={class:"flex-1"},it={class:"flex items-center gap-2"},lt={class:"text-sm text-gray-900"},rt={key:0,class:"inline-flex items-center text-xs font-medium rounded-full bg-green-100 text-green-700 px-2 py-0.5"},dt={key:1,class:"inline-flex items-center text-xs font-medium rounded-full bg-gray-100 text-gray-700 px-2 py-0.5"},ct={class:"mt-0.5 text-xs text-gray-600"},ut={key:0,class:"ml-2 text-gray-400"},pt={class:"rounded-lg border bg-white p-4"},ft={class:"grid gap-4 md:grid-cols-12"},mt={class:"md:col-span-12"},yt=["disabled"],_t=["value"],ht={key:0,class:"mt-1 text-xs text-gray-500"},gt={class:"md:col-span-6"},vt={class:"mt-4 flex justify-end gap-2"},bt=["disabled"],xt=["disabled"],wt={key:0},kt={key:1},$t={__name:"ShiftAssignmentModal",props:{modelValue:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},employee:{type:Object,default:()=>({id:0,name:""})},shifts:{type:[Array,Object],default:()=>[]},hasShift:{type:Object,default:null},current_shift:{type:Object,default:null},shift_history:{type:[Object,Array,null],default:null}},emits:["update:modelValue","saved","close"],setup(Y,{emit:j}){var E;const i=Y,V=j,M=Ue(),w=be(),v=g(!1);S(()=>i.modelValue,t=>{t!==v.value&&(v.value=t)}),S(()=>i.isOpen,t=>{t!==v.value&&(v.value=t)}),ee(()=>{v.value=!!(i.modelValue||i.isOpen)});function O(){v.value&&(v.value=!1,V("update:modelValue",!1),V("close",!1))}const f=g({shift_id:"",employee_id:((E=i.employee)==null?void 0:E.id)||0,start_date:"",end_date:""});S(()=>i.employee,t=>{f.value.employee_id=(t==null?void 0:t.id)||0},{immediate:!0,deep:!0});const X=U(()=>{var h,r,L,W;const t=((h=i.employee)==null?void 0:h.name)||String(((r=i.employee)==null?void 0:r.id)||""),n=t.trim().split(/\s+/);return((((L=n[0])==null?void 0:L[0])||"")+(((W=n[1])==null?void 0:W[0])||"")||t[0]||"#").toUpperCase().slice(0,2)});function b(t){return t?typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)?t:he(t).isValid()?he(t).format("YYYY-MM-DD"):"":""}const k=U(()=>{const t=i.shifts;return Array.isArray(t)?t:t&&typeof t=="object"?Object.values(t).flat().filter(Boolean):[]}),A=U(()=>{const t=i.shift_history;return t&&typeof t=="object"&&Array.isArray(t.history)?t.history:Array.isArray(t)?t:t?[t]:[]}),x=U(()=>A.value.map(t=>{var n,m;return{id:t.id??null,name:((n=t==null?void 0:t.shift)==null?void 0:n.name)||(t==null?void 0:t.name)||`#${(t==null?void 0:t.shift_id)||(t==null?void 0:t.id)||"—"}`,shift_id:((m=t==null?void 0:t.shift)==null?void 0:m.id)??(t==null?void 0:t.shift_id)??null,start_date:b(t.start_date),end_date:b(t.end_date),status:t.status||(t.end_date?"ended":"active"),days:t.days??null,active:!t.end_date||t.status==="active",created_at:t.created_at?new Date(t.created_at).getTime():0}}).sort((t,n)=>t.active!==n.active?t.active?-1:1:(n.start_date||"").localeCompare(t.start_date||""))),B=U(()=>{const t=i.shift_history;return t&&typeof t=="object"&&typeof t.count=="number"?t.count:x.value.length}),C=U(()=>{var m,h;const t=x.value.find(r=>r.active);if(t)return t;const n=i.current_shift||i.hasShift;return n?{id:n.id??null,name:((m=n==null?void 0:n.shift)==null?void 0:m.name)||(n==null?void 0:n.name)||`#${(n==null?void 0:n.shift_id)||(n==null?void 0:n.id)||"—"}`,shift_id:((h=n==null?void 0:n.shift)==null?void 0:h.id)??(n==null?void 0:n.shift_id)??null,start_date:b(n.start_date),end_date:b(n.end_date),active:!n.end_date}:null});async function I(){const t=C.value;t?(f.value.shift_id=String(t.shift_id||""),f.value.start_date=b(t.start_date)||"",f.value.end_date=b(t.end_date)||""):(f.value.shift_id="",f.value.start_date="",f.value.end_date="")}S(v,(t,n)=>{t&&!n&&_e(I)}),S([C,()=>i.shift_history],()=>{v.value&&_e(I)});const q=g(!1),_=U(()=>!!f.value.employee_id&&!!f.value.shift_id&&!!f.value.start_date&&!q.value);async function D(){var t,n;try{if(!_.value){M.error("All required fields must be filled");return}q.value=!0;const m={employee_id:Number(f.value.employee_id),shift_id:Number(f.value.shift_id),start_date:f.value.start_date,end_date:f.value.end_date||null},h=await w.shiftAssign(m);M.success(C.value?"Shift updated":"Shift assigned"),V("saved",h),O()}catch(m){const h=((n=(t=m==null?void 0:m.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to assign shift";M.error(h)}finally{q.value=!1}}function H(t){v.value&&(t.key==="Escape"&&O(),(t.ctrlKey||t.metaKey)&&t.key.toLowerCase()==="enter"&&_.value&&D())}return ee(()=>window.addEventListener("keydown",H)),je(()=>window.removeEventListener("keydown",H)),(t,n)=>(u(),Ve(De,{to:"body"},[$(ye,{name:"fade"},{default:R(()=>[v.value?(u(),p("div",Ke,[e("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:O}),$(ye,{name:"pop"},{default:R(()=>{var m,h;return[e("div",Pe,[e("div",Re,[e("div",Ye,[e("div",ze,d(X.value),1),e("div",null,[e("h3",Je,d(C.value?"Update Shift":"Assign Shift"),1),e("p",Ge,d(((m=Y.employee)==null?void 0:m.name)||"#"+(((h=Y.employee)==null?void 0:h.id)||"")),1)])]),e("button",{class:"btn-icon",onClick:O,"aria-label":"Close"},"✕")]),e("div",Qe,[e("div",Xe,[e("div",Ze,[e("div",et,[n[2]||(n[2]=e("h4",{class:"text-sm font-semibold text-gray-800"},"Shift history",-1)),e("span",tt,d(B.value)+" item(s)",1)]),x.value.length?(u(),p("ul",at,[(u(!0),p(G,null,Q(x.value,(r,L)=>(u(),p("li",{key:r.id??L,class:"flex items-start gap-3"},[e("input",{type:"checkbox",class:"mt-1 rounded border-gray-300",checked:r.active,disabled:""},null,8,nt),e("div",ot,[e("div",it,[e("span",lt,d(r.name),1),r.active?(u(),p("span",rt,"Active")):(u(),p("span",dt,"Closed"))]),e("div",ct,[ge(" Period: "+d(r.start_date||"—")+" → "+d(r.end_date||"present")+" ",1),r.days?(u(),p("span",ut,"("+d(r.days)+" days)",1)):J("",!0)])])]))),128))])):(u(),p("div",st," No history found "))])]),e("div",pt,[e("div",ft,[e("div",mt,[n[4]||(n[4]=e("label",{class:"block text-sm font-medium text-gray-700"},"Select Shift",-1)),te(e("select",{"onUpdate:modelValue":n[0]||(n[0]=r=>f.value.shift_id=r),class:"mt-1 w-full rounded-md border px-3 py-2 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200",disabled:!k.value.length},[n[3]||(n[3]=e("option",{value:""},"Choose a shift…",-1)),(u(!0),p(G,null,Q(k.value,r=>(u(),p("option",{key:r==null?void 0:r.id,value:r==null?void 0:r.id},d(r==null?void 0:r.name),9,_t))),128))],8,yt),[[ve,f.value.shift_id]]),k.value.length?J("",!0):(u(),p("p",ht,"No shifts found"))]),e("div",gt,[n[5]||(n[5]=e("label",{class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),te(e("input",{"onUpdate:modelValue":n[1]||(n[1]=r=>f.value.start_date=r),type:"date",class:"mt-1 w-full rounded-md border px-3 py-2"},null,512),[[Me,f.value.start_date]])])]),e("div",vt,[e("button",{class:"btn-3",onClick:O,disabled:q.value},"Cancel",8,bt),e("button",{class:"btn-2",onClick:D,disabled:!_.value},[q.value?(u(),p("span",kt,"Processing…")):(u(),p("span",wt,d(C.value?"Update":"Assign"),1))],8,xt)])])])])]}),_:1})])):J("",!0)]),_:1})]))}},St={class:"space-y-2 p-5"},At={class:"flex items-center justify-between gap-2"},Ct={class:"flex gap-4"},qt={class:"flex gap-4 items-center py-2"},Ut={key:0,class:"text-center py-4"},jt={key:1,class:"space-y-4"},Vt={key:0,class:"text-center py-2 text-lg italic text-gray-500"},Mt={class:"title-md"},Dt={class:"overflow-x-auto"},Et={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},Lt={class:"border border-gray-100 px-2 py-2"},Nt=["innerHTML"],Tt=["innerHTML"],Ot={class:"border border-gray-100 px-2 py-2"},Bt={class:"border border-gray-100 px-2 py-2"},It={class:"border border-gray-100 px-2 py-2"},Ht={class:"border border-gray-100 px-2 py-2"},Wt={class:"border border-gray-100 px-3 py-2 whitespace-nowrap"},Ft=["onClick","title"],Kt={class:"ml-1 hidden lg:inline"},Pt={class:"mt-1 text-[11px] text-gray-500"},Rt={class:"border border-gray-100 px-3 py-2 whitespace-nowrap"},Yt=["onClick","title"],zt={class:"ml-1 hidden lg:inline"},Jt={class:"mt-1 text-[11px] text-gray-500"},Gt={class:"border border-gray-100 px-2 py-2"},Qt={class:"border border-gray-100 px-2 py-2"},Xt={class:"border border-gray-100 px-2 py-2"},Zt={class:"border border-gray-100 px-3 py-2 whitespace-nowrap"},es=["onClick","title"],ts={class:"ml-1 hidden lg:inline"},ss={class:"border border-gray-100 px-2 py-2"},as={class:"flex gap-2"},vs={__name:"UserList",setup(Y){const j=Ee(),i=Le(),V=He(),M=We(),w=Fe(),v=be(),{companies:O}=Z(V),{departments:f}=Z(M),{shifts:X}=Z(v),b=g(i.query.company||"all"),k=g(i.query.department||"all"),A=g(i.query.line_type||"all"),x=g(i.query.status||"active"),B=g(""),C=g([]),I=g(null),q=g(null),_=g(null),D=g(!1),H=g(!1),E=g(!1);ee(async()=>{await V.fetchCompanies();const a=i.query.company,s=i.query.department;a&&(await h(a),await m(a)),s&&await r(s)});const t=()=>j.go(-1),n=()=>{w.fetchUsers({company_id:i.query.company,department_id:i.query.department,line_type:i.query.line_type,status:i.query.status,user_id:i.query.employee_id})};S(b,async(a,s)=>{!a||a===s||(m(a),h(a),i.query.company!==a&&j.push({query:{...i.query,company:a}}))}),S(k,async(a,s)=>{!a||a===s||(r(a),i.query.department!==a&&j.push({query:{...i.query,department:a}}))}),S(A,a=>{j.push({query:{...i.query,line_type:a}})}),S(x,a=>{j.push({query:{...i.query,status:a}})});const m=async a=>{await M.fetchDepartments(a)},h=async a=>{try{const s=await V.fetchEmployees(a);C.value=s.data}catch(s){console.error("Failed to fetch employees by company:",s)}},r=async a=>{try{const s=await M.fetchDepartmentEmployee({departmentIds:[a]});C.value=s}catch(s){console.error("Failed to fetch employees by department:",s)}},L=U(()=>{let a=[...(w==null?void 0:w.users)||[]];if(b.value!=="all"&&(a=a.filter(l=>{var y;return((y=l==null?void 0:l.company)==null?void 0:y.id)==b.value})),k.value!=="all"&&(a=a.filter(l=>{var y;return((y=l==null?void 0:l.department)==null?void 0:y.id)==k.value})),A.value!=="all"&&(a=a.filter(l=>(l==null?void 0:l.type)==A.value)),x.value){const l=x.value==="active"?1:0;a=a.filter(y=>(y==null?void 0:y.is_active)==l)}B.value&&(a=a.filter(l=>(l==null?void 0:l.id)==B.value));const s={};return a.forEach(l=>{var K;const y=((K=l==null?void 0:l.company)==null?void 0:K.name)||"Unknown Company";s[y]||(s[y]=[]),s[y].push(l)}),s}),W=a=>{if(!a)return"";const s=String(a).split(" "),l=s.slice(0,2).join(" "),y=s.length>2?`<br>${s.slice(2).join(" ")}`:"";return l+y},z=a=>{var s,l;return!!((l=(s=a==null?void 0:a.current_shift)==null?void 0:s.shift)!=null&&l.name)},xe=a=>{var s,l;return((l=(s=a==null?void 0:a.current_shift)==null?void 0:s.shift)==null?void 0:l.name)||"Not Assigned"},F=a=>{var s;return Array.isArray((s=a==null?void 0:a.assign_weekend)==null?void 0:s.weekends)&&a.assign_weekend.weekends.length>0},we=a=>F(a)?a.assign_weekend.weekends.join(", "):"Not Assigned";async function ke(a){if(_.value=a,a!=null&&a.company_id){const s=await w.fetchUserShifts(a.id);q.value=s,await v.fetchShifts(a.company_id)}D.value=!0}async function $e(a){_.value=a,H.value=!0;try{const s=await w.fetchUserWeekends(a.id);I.value=s}catch{I.value={history:[],current:null}}}function Se(a){_.value=a,E.value=!0}async function Ae(){await w.fetchUsersExcelExport({data:{company_id:b.value,department_id:k.value,line_type:A.value,status:x.value}})}function Ce(){E.value=!1}return(a,s)=>{var y,K,se,ae,ne,oe,ie,le;const l=Ne("RouterLink");return u(),p("div",St,[e("div",At,[e("button",{class:"btn-3",onClick:t},s[11]||(s[11]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),s[14]||(s[14]=e("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Employee List",-1)),e("div",Ct,[$(l,{to:{name:"UserAdd",query:{company:P(i).query.company}},class:"btn-2"},{default:R(()=>s[12]||(s[12]=[e("span",{class:"hidden md:flex"},"Add New",-1),e("i",{class:"far fa-plus"},null,-1)])),_:1,__:[12]},8,["to"]),e("button",{type:"button",onClick:Ae,class:"btn-3"},s[13]||(s[13]=[e("i",{class:"far fa-file-excel text-2xl text-green-500"},null,-1),ge("Excel ")]))])]),e("div",qt,[$(Te,{company_id:b.value,"onUpdate:company_id":s[0]||(s[0]=c=>b.value=c),department_id:k.value,"onUpdate:department_id":s[1]||(s[1]=c=>k.value=c),employee_id:B.value,"onUpdate:employee_id":s[2]||(s[2]=c=>B.value=c),line_type:A.value,"onUpdate:line_type":s[3]||(s[3]=c=>A.value=c),"with-type":!0,"initial-value":a.$route.query,class:"w-full"},null,8,["company_id","department_id","employee_id","line_type","initial-value"]),te(e("select",{"onUpdate:modelValue":s[4]||(s[4]=c=>x.value=c),class:"input-1 w-auto"},s[15]||(s[15]=[e("option",{value:"active"},"Active",-1),e("option",{value:"in_active"},"In Active",-1)]),512),[[ve,x.value]]),e("div",{class:"btn-2",onClick:s[5]||(s[5]=c=>n())},"Search")]),P(w).isLoading?(u(),p("div",Ut,[$(Oe)])):(u(),p("div",jt,[Object.keys(L.value).length===0?(u(),p("div",Vt," User not found ")):J("",!0),(u(!0),p(G,null,Q(L.value,(c,N)=>(u(),p("div",{key:N},[e("h2",Mt,d(N)+" ("+d(c.length)+")",1),e("div",Dt,[e("table",Et,[s[18]||(s[18]=e("thead",null,[e("tr",{class:"bg-gray-100 text-sm font-medium text-gray-700"},[e("th",{class:"border border-gray-200 px-2 py-2 text-left"},"#"),e("th",{class:"border border-gray-200 px-3 py-2 text-left"},"Name"),e("th",{class:"border border-gray-200 px-3 py-2 text-left"},"Designation"),e("th",{class:"border border-gray-200 px-2 py-2 text-left"},"Finger ID"),e("th",{class:"border border-gray-200 px-2 py-2 text-left"},"Employee ID"),e("th",{class:"border border-gray-200 px-2 py-2 text-left"},"Joining Date"),e("th",{class:"border border-gray-200 px-2 py-2 text-left"},"Role"),e("th",{class:"border border-gray-200 px-3 py-2 text-left"},"Shift"),e("th",{class:"border border-gray-200 px-3 py-2 text-left"},"Weekend"),e("th",{class:"border border-gray-200 px-2 py-2 text-left"},"Phone"),e("th",{class:"border border-gray-200 px-2 py-2 text-left"},"Email"),e("th",{class:"border border-gray-200 px-2 py-2 text-left"},"Status"),e("th",{class:"border border-gray-200 px-3 py-2 text-left"},"KPI Criteria"),e("th",{class:"border border-gray-200 px-2 py-2 text-left"},"Action")])],-1)),e("tbody",null,[(u(!0),p(G,null,Q(c,(o,qe)=>{var re,de,ce,ue,pe,fe;return u(),p("tr",{key:o.id,class:"border-b text-sm border-gray-100 hover:bg-indigo-50/50"},[e("td",Lt,d(qe+1),1),e("td",{class:"border border-gray-100 px-3 py-2",innerHTML:W(o==null?void 0:o.name)},null,8,Nt),e("td",{class:"border border-gray-100 px-3 py-2",innerHTML:W((re=o==null?void 0:o.designation)==null?void 0:re.title)},null,8,Tt),e("td",Ot,d(o==null?void 0:o.device_user_id),1),e("td",Bt,d(o==null?void 0:o.employee_id),1),e("td",It,d(o.joining_date),1),e("td",Ht,d(o.role),1),e("td",Wt,[e("button",{onClick:me=>ke(o),title:z(o)?"Manage Shift":"Assign Shift",class:T(["group inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium transition","focus:outline-none focus:ring-2 focus:ring-offset-1",z(o)?"border-amber-200 bg-amber-50 text-amber-700 hover:bg-amber-100 focus:ring-amber-300":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-white focus:ring-slate-300"])},[e("span",Kt,d(z(o)?"Manage":"Assign"),1),e("span",{class:T(["ml-1 inline-flex h-5 min-w-[20px] items-center justify-center rounded-full px-1 text-[10px] font-semibold",z(o)?"bg-amber-600 text-white":"bg-slate-200 text-slate-700"])},d(o.shifts_count),3)],10,Ft),e("div",Pt,d(xe(o)),1)]),e("td",Rt,[e("button",{onClick:me=>$e(o),title:F(o)?"Manage Weekend":"Assign Weekend",class:T(["group inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium transition","focus:outline-none focus:ring-2 focus:ring-offset-1",F(o)?"border-emerald-200 bg-emerald-50 text-emerald-700 hover:bg-emerald-100 focus:ring-emerald-300":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-white focus:ring-slate-300"])},[e("span",zt,d(F(o)?"Manage":"Assign"),1),e("span",{class:T(["ml-1 inline-flex h-5 min-w-[20px] items-center justify-center rounded-full px-1 text-[10px] font-semibold",F(o)?"bg-emerald-600 text-white":"bg-slate-200 text-slate-700"])},d(o==null?void 0:o.assign_weekends_count),3)],10,Yt),e("div",Jt,d(we(o)),1)]),e("td",Gt,d(o.phone),1),e("td",Qt,d(o.email||"নেই"),1),e("td",Xt,[e("span",{class:T(o.is_active?"text-emerald-600":"text-rose-500")},d(o.is_active?"Active":"Inactive"),3)]),e("td",Zt,[e("button",{onClick:me=>Se(o),title:(((de=o.criteria_assignments)==null?void 0:de.length)||0)>0?"Manage KPI criteria":"Assign KPI criteria",class:T(["group inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium transition","focus:outline-none focus:ring-2 focus:ring-offset-1",(((ce=o.criteria_assignments)==null?void 0:ce.length)||0)>0?"border-indigo-200 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 focus:ring-indigo-300":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-white focus:ring-slate-300"])},[e("span",ts,d((((ue=o.criteria_assignments)==null?void 0:ue.length)||0)>0?"Manage":"Assign"),1),e("span",{class:T(["ml-1 inline-flex h-5 min-w-[20px] items-center justify-center rounded-full px-1 text-[10px] font-semibold",(((pe=o.criteria_assignments)==null?void 0:pe.length)||0)>0?"bg-indigo-600 text-white":"bg-slate-200 text-slate-700"])},d(((fe=o.criteria_assignments)==null?void 0:fe.length)||0),3)],10,es)]),e("td",ss,[e("div",as,[$(l,{to:{name:"UserShow",params:{id:o.id},query:{company:P(i).query.company}},class:"btn-icon",title:"View"},{default:R(()=>s[16]||(s[16]=[e("i",{class:"far fa-eye"},null,-1)])),_:2,__:[16]},1032,["to"]),$(l,{to:{name:"UserEdit",params:{id:o.id},query:{company:P(i).query.company}},class:"btn-icon",title:"Edit"},{default:R(()=>s[17]||(s[17]=[e("i",{class:"far fa-edit"},null,-1)])),_:2,__:[17]},1032,["to"])])])])}),128))])])])]))),128)),$(Ie,{modelValue:E.value,"onUpdate:modelValue":s[6]||(s[6]=c=>E.value=c),"user-id":(y=_.value)==null?void 0:y.id,"user-label":(K=_.value)==null?void 0:K.name,criteria_assignments:(se=_.value)==null?void 0:se.criteria_assignments,onAssigned:Ce},null,8,["modelValue","user-id","user-label","criteria_assignments"]),$(Be,{modelValue:H.value,"onUpdate:modelValue":s[7]||(s[7]=c=>H.value=c),"user-id":(ae=_.value)==null?void 0:ae.id,"user-label":(ne=_.value)==null?void 0:ne.name,assign_weekends:I.value,onSaved:s[8]||(s[8]=c=>{const N=c==null?void 0:c.current;N&&_.value&&(_.value.assign_weekend={weekends:N.weekends||[],start_month:N.start_month,end_month:N.end_month})})},null,8,["modelValue","user-id","user-label","assign_weekends"]),$($t,{modelValue:D.value,"onUpdate:modelValue":s[9]||(s[9]=c=>D.value=c),shifts:P(X),employee:{id:(oe=_.value)==null?void 0:oe.id,name:(ie=_.value)==null?void 0:ie.name},"has-shift":(le=_.value)==null?void 0:le.current_shift,shift_history:q.value,onClose:s[10]||(s[10]=c=>D.value=!1)},null,8,["modelValue","shifts","employee","has-shift","shift_history"])]))])}}};export{vs as default};
