import{O as et}from"./OverlyModal-CXxWOIqq.js";import{m as Q,c as d,o as l,a as t,w as S,n as F,r as A,p as I,e as G,q as z,s as Y,F as R,x as W,t as b,g as L,f as q,y as T,i as $,k as w,R as st,z as X,j as M,d as Z,h as nt,A as at,B as J,u as ot,C as lt}from"./index-Do4lXNJe.js";import{L as rt}from"./LoaderView-DLdsgkCU.js";import{m as it,_ as dt}from"./task-tree-BlCR0Ly2.js";import{o as E,g as V,a as j,b as ut,c as ct}from"./datetime-C4Yr_jSk.js";import{u as yt}from"./useTaskStore-N_ixZR37.js";import{_ as mt}from"./TaskTreeViewWithSubTable-DtbDajK-.js";import{u as pt}from"./user-Ck-ug-OF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TaskSupervisorAndEmployee-Crxplane.js";import"./UserChip-CjaYesQa.js";import"./TaskStatus-B11pR5uP.js";import"./url-CePbr-gY.js";const H=(h,r,f,i)=>{const u=new Date(i,f-1,r);return h.filter(y=>{const v=y.deadline?new Date(y.deadline):null,a=E(new Date);if(y.assigned_at){const n=E(new Date(y.assigned_at));if(u<n)return!1;let o=null;return y.completed_at&&(o=E(new Date(y.completed_at))),!(o&&o<u||v&&v<u&&u>a)}return!1}).map(y=>{let v=!1;return y.deadline&&(v=new Date(y.deadline)<u),{...y,deadline_crossed:v}})},gt={class:"px-4 py-2 flex items-center bg-gray-50 group"},ht=["disabled"],ft={class:"ml-4 md:ml-auto flex items-center gap-2"},vt=["value"],bt=Q({__name:"DailyTaskHeading",props:{selectedDay:{type:String,required:!0},loading:{type:Boolean,default:!1}},emits:["change",,"reloadClick","monthWiseButtonClick"],setup(h,{emit:r}){const f=h,i=r;function u(){i("change",V(new Date))}function y(){const a=new Date(f.selectedDay);a.setDate(a.getDate()+1),i("change",V(a))}function v(){const a=new Date(f.selectedDay);a.setDate(a.getDate()-1),i("change",V(a))}return(a,n)=>(l(),d("div",gt,[n[4]||(n[4]=t("h2",{class:"leading-none font-semibold text-lg"},"Daily Task",-1)),t("button",{class:"btn-3 mx-4 h-7",onClick:n[0]||(n[0]=S(o=>i("monthWiseButtonClick"),["prevent"]))},"Month Wise"),t("button",{class:"btn-3 mx-4 h-7",onClick:S(u,["prevent"])},"Today"),t("button",{class:F(["btn-3 px-2 py-2 mx-4 size-7 disabled:text-gray-300 disabled:border-gray-300",{"animate-spin text-gray-300 border-gray-300 !bg-opacity-0":h.loading}]),onClick:n[1]||(n[1]=S(o=>i("reloadClick"),["prevent"])),disabled:h.loading},n[3]||(n[3]=[t("i",{class:"fas fa-redo-alt"},null,-1)]),10,ht),t("div",ft,[t("button",{class:"btn-2 h-7",onClick:S(v,["prevent"])},"Previous Day"),t("button",{class:"btn-2 h-7",onClick:S(y,["prevent"])},"Next Day"),t("input",{type:"date",value:h.selectedDay,onInput:n[2]||(n[2]=o=>{var c;return i("change",(c=o.target)==null?void 0:c.value)}),class:"border px-2 rounded"},null,40,vt)])]))}}),xt={class:"px-4 py-2 flex items-center bg-gray-50 group"},_t=["disabled"],kt={class:"ml-4 md:ml-auto flex items-center gap-2"},wt=["value"],Dt=Q({__name:"MonthlyTaskHeading",props:{selectedMonth:{type:String,required:!0},loading:{type:Boolean,default:!1}},emits:["reloadClick","dayWiseButtonClick","change"],setup(h,{emit:r}){const f=h,i=r;function u(){i("change",j(new Date))}function y(){var c;const[a,n]=(c=f.selectedMonth)==null?void 0:c.split("-").map(Number),o=new Date(a,n,1);o.setMonth(o.getMonth()),i("change",j(o))}function v(){var c;const[a,n]=(c=f.selectedMonth)==null?void 0:c.split("-").map(Number),o=new Date(a,n,1);o.setMonth(o.getMonth()-2),i("change",j(o))}return(a,n)=>(l(),d("div",xt,[n[4]||(n[4]=t("h2",{class:"leading-none font-semibold text-lg"},"Monthly Task",-1)),t("button",{class:"btn-3 mx-4 h-7",onClick:n[0]||(n[0]=S(o=>i("dayWiseButtonClick"),["prevent"]))},"Day Wise"),t("button",{class:"btn-3 mx-4 h-7",onClick:S(u,["prevent"])},"Current Month"),t("button",{class:F(["btn-3 px-2 py-2 mx-4 size-7 disabled:text-gray-300 disabled:border-gray-300",{"animate-spin text-gray-300 border-gray-300 !bg-opacity-0":h.loading}]),onClick:n[1]||(n[1]=S(o=>i("reloadClick"),["prevent"])),disabled:h.loading},n[3]||(n[3]=[t("i",{class:"fas fa-redo-alt"},null,-1)]),10,_t),t("div",kt,[t("button",{class:"btn-2 h-7",onClick:S(v,["prevent"])},"Previous Month"),t("button",{class:"btn-2 h-7",onClick:S(y,["prevent"])},"Next Month"),t("input",{type:"month",value:h.selectedMonth,onInput:n[2]||(n[2]=o=>{var c;return i("change",(c=o.target)==null?void 0:c.value)}),class:"border px-2 rounded"},null,40,wt)])]))}}),Ct={class:"grid grid-cols-7 *:text-center *:p-2 *:border-r *:border-b *:text-blue-800 *:text-sm"},Mt={class:"flex flex-col"},$t={class:"p-2 border-r border-t"},Tt={__name:"CalenderView",props:{month:{type:String,required:!0,validator:h=>/^\d{4}-(0[1-9]|1[0-2])$/.test(h)}},emits:["change"],setup(h,{emit:r}){const f=h,i=r,u=A(),y=A(),v=A(),a=A(),n=["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"];function o(e,g,x,D){const C=[];for(let P=x-1;P>=0;P--){const N=D-P,O=new Date(e,g-1,N);C.push({date:O,day:O.getDate(),month:O.getMonth()+1,year:O.getFullYear(),isCurrentMonth:!1})}return C}function c(e,g,x){const D=[];for(let C=1;C<=x;C++){const N={date:new Date(e,g,C),day:C,month:g+1,year:e,isCurrentMonth:!0};D.push(N)}return D}function k(e,g,x){const D=[...e],C=Math.ceil(D.length/7)*7,P=1;for(let N=0;D.length<C;N++){const O=new Date(g,x+1,P+N);D.push({date:O,day:O.getDate(),month:O.getMonth()+1,year:O.getFullYear(),isCurrentMonth:!1})}return D}function s(e,g){const x=new Date(e,g,1),C=new Date(e,g+1,0).getDate(),N=(x.getDay()+1)%7,tt=new Date(e,g,0).getDate();let B=[];B=[...o(e,g,N,tt)];const U=c(e,g,C);return v.value=U[0],a.value=U[U.length-1],B=[...B,...U],B=[...k(B,e,g)],u.value=B[0],y.value=B[B.length-1],B}const m=I(()=>{const[e,g]=f.month.split("-"),x=parseInt(e),D=parseInt(g)-1;return s(x,D)}),p=I(()=>{const e=m.value,g=[];for(let x=0;x<e.length;x+=7)g.push(e.slice(x,x+7));return g});function _(){i("change",{gridStartDate:u.value,gridEndDate:y.value,startOfMonth:v.value,endOfMonth:a.value})}return G(()=>_()),z(()=>f.month,_),(e,g)=>(l(),d("div",null,[Y(e.$slots,"calender-top"),t("div",Ct,[(l(),d(R,null,W(n,x=>t("div",{key:x},b(x),1)),64))]),t("div",Mt,[(l(!0),d(R,null,W(p.value,(x,D)=>(l(),d("div",{class:"week grid grid-cols-7 min-h-28",key:D},[(l(!0),d(R,null,W(x,(C,P)=>Y(e.$slots,"date",{key:P,day:C.day,month:C.month,year:C.year,weekday:(C.date.getDay()+1)%7,isCurrentMonth:C.isCurrentMonth},()=>[t("div",$t,b(C.getDate()),1)])),128))]))),128))]),Y(e.$slots,"calender-bottom")]))}},Lt={key:0},St={key:0,class:"fad fa-folder text-xs mr-2"},At={key:1,class:"fad fa-file-alt text-xs mr-2"},Ot={key:2,class:"text-center w-full mt-4 text-xs text-gray-600"},K={__name:"TaskListOnDay",props:{isCurrentMonth:{type:Boolean,default:!1},tasks:{type:Array,default:()=>[]},limit:{type:Number,default:null},tree:{type:Boolean,default:!1}},emits:["clickOnMore"],setup(h,{emit:r}){const f=h,i=r,u=I(()=>{var y;return f.limit?((y=f==null?void 0:f.tasks)==null?void 0:y.slice(0,f.limit))||[]:[...f.tasks]});return(y,v)=>(l(),d("div",null,[h.tree?(l(),d("div",Lt,[(l(!0),d(R,null,W(u.value,a=>(l(),q(mt,{"hide-buttons":"","hide-assigned-users":"",task:a,key:a.id,class:"mb-6 shadow hover:shadow-md"},null,8,["task"]))),128))])):(l(),d("ul",{key:1,class:F({"text-gray-500 group-hover:text-gray-900":!h.isCurrentMonth})},[(l(!0),d(R,null,W(u.value,a=>(l(),d("li",{class:"mb-2",key:a.id},[T(w(st),{to:`/tasks/${a.id}`,target:"_blank",class:"flex items-center hover:underline hover:text-blue-600"},{default:$(()=>[a.children_task_count>0?(l(),d("i",St)):L("",!0),a.children_task_count==0?(l(),d("i",At)):L("",!0),t("span",{class:F(["line-clamp-1",{"text-red-800":a.deadline_crossed}])},b(a.title),3)]),_:2},1032,["to"])]))),128))],2)),h.tasks.length-u.value.length>0?(l(),d("div",Ot,[t("button",{onClick:v[0]||(v[0]=S(a=>i("clickOnMore",a),["prevent"])),class:"text-blue-600 hover:underline"}," +"+b(h.tasks.length-u.value.length)+" More Tasks ",1)])):L("",!0)]))}},Pt={class:"relative"},Bt={class:"ml-auto"},qt=["onClick"],Nt={key:0,class:"absolute inset-0 bg-gray-300 bg-opacity-90"},Rt={class:"absolute inset-16 bg-white border border-blue-500 rounded-md z-20 overflow-y-auto"},Wt={class:"text-lg font-semibold mb-4 sticky top-0 border-b border-blue-200 px-4 z-30 py-3 bg-white flex items-center"},Ft={__name:"TaskInMonth",props:{month:{type:String,required:!0,validator:h=>/^\d{4}-(0[1-9]|1[0-2])$/.test(h)},tasks:{type:Array,required:!0,default:()=>[]}},setup(h){const r=X({day:null,month:null,year:null});function f(a){a.stopPropagation(),r.day=null,r.month=null,r.year=null}function i(a,n,o,c){a.stopPropagation(),r.day=n,r.month=o,r.year=c}const u=(a,n,o)=>{const c=new Date;return a===c.getDate()&&n===c.getMonth()+1&&o===c.getFullYear()},y=(a,n,o)=>a===r.day&&n===r.month&&o===r.year,v=(a,n,o,c)=>{const k=u(a,n,o);return{"bg-green-100 text-green-900 border-blue-500 border-2 scale-105 z-10":k,"border-r border-t hover:border border-blue-200  hover:scale-105 hover:z-20 hover:bg-blue-50":!k,"bg-gray-50":!c}};return(a,n)=>(l(),d("div",Pt,[h.month?(l(),q(Tt,{key:0,month:h.month,class:"border-t border-blue-200/50 relative"},{date:$(({day:o,month:c,year:k,isCurrentMonth:s})=>[t("div",{tabindex:"0",class:F(["transition origin-center p-2 outline-blue-600 outline-1 cursor-pointer",v(o,c,k,s)])},[t("div",{class:F(["font-bold w-full flex items-center",{"text-gray-300":!s}])},[t("div",null,b(o),1),t("div",Bt,[y(o,c,k)?L("",!0):(l(),d("button",{key:0,class:"btn-icon",onClick:S(m=>i(m,o,c,k),["prevent"])},n[0]||(n[0]=[t("i",{class:"fas fa-expand-arrows text-gray-400 hover:text-gray-600"},null,-1)]),8,qt))])],2),T(K,{"is-current-month":s,tasks:w(H)(h.tasks,o,c,k),limit:3,class:"text-xs mt-4",onClickOnMore:m=>i(m,o,c,k)},null,8,["is-current-month","tasks","onClickOnMore"])],2)]),"calender-bottom":$(()=>[r.day?(l(),d("div",Nt,[t("div",Rt,[t("div",Wt,[M(" Tasks for "+b(r.day)+"/"+b(r.month)+"/"+b(r.year)+" ",1),t("button",{class:"ml-auto",type:"button",onClick:S(f,["prevent"])},n[1]||(n[1]=[t("i",{class:"fas fa-times"},null,-1)]))]),T(K,{class:"p-4","is-current-month":a.isCurrentMonth,tasks:w(H)(h.tasks,r.day,r.month,r.year),tree:!0},null,8,["is-current-month","tasks"])])])):L("",!0)]),_:1},8,["month"])):L("",!0)]))}},zt={class:"border"},It={class:"bg-gray-300 bg-opacity-90 relative"},Ut={class:"bg-gray-50 border-y rounded-md z-20"},Vt={class:"text-md sticky top-0 border-b px-4 z-30 py-3 bg-white flex items-center shadow"},jt={class:"flex justify-between items-center gap-6 ml-auto"},Yt={key:0,class:"text-blue-800 bg-blue-100 rounded-full border px-4 py-0.5 text-sm"},Et={key:1,class:"text-blue-800 bg-blue-100 rounded-full border px-4 py-0.5 text-sm"},Ht={key:2,class:"w-32 relative h-8"},Kt={__name:"DailyTask",setup(h){const r=X({day:null,month:null,year:null}),f=A(),i=A(),u=A("loading"),y=yt(),v=Z(),a=A(""),n=A("day-wise"),o=A("not-completed");G(()=>{f.value=V(new Date),i.value=j(new Date)}),z(f,m=>{const[p,_,e]=m.split("-").map(Number);r.day=e,r.month=_,r.year=p}),z(i,m=>{const[p,_]=m.split("-").map(Number);r.day=1,r.month=_,r.year=p}),z(()=>r.month,async()=>{u.value="loading",await c(),u.value=""}),z(n,m=>{if(m=="month-wise"){const[p,_]=f.value.split("-");i.value=`${p}-${_}`}});async function c(){await y.fetchMyTasks()}const k=async()=>{u.value="loading",await c(),u.value=""},s=I(()=>{var _,e;const m=g=>{var x,D;return a.value?(D=g==null?void 0:g.toUpperCase())==null?void 0:D.includes((x=a.value)==null?void 0:x.toUpperCase()):!0},p=n.value=="day-wise"?{"user-ids":(_=v==null?void 0:v.user)==null?void 0:_.id,status:o.value}:{"user-ids":(e=v==null?void 0:v.user)==null?void 0:e.id};return it(H(y.tasks,r.day,r.month,r.year),p).filter(g=>{var x;return m(g.title)||((x=g.children_tasks)==null?void 0:x.some(D=>m(D==null?void 0:D.title)))}).map(g=>({...g,children_tasks:g.children_tasks.filter(x=>m(x.title))}))});return(m,p)=>(l(),d("div",zt,[n.value=="day-wise"?(l(),q(bt,{key:0,loading:u.value=="loading","selected-day":f.value,onChange:p[0]||(p[0]=_=>f.value=_),onReloadClick:k,onMonthWiseButtonClick:p[1]||(p[1]=_=>n.value="month-wise")},null,8,["loading","selected-day"])):L("",!0),n.value=="month-wise"?(l(),q(Dt,{key:1,loading:u.value=="loading","selected-month":i.value,onChange:p[2]||(p[2]=_=>i.value=_),onDayWiseButtonClick:p[3]||(p[3]=_=>n.value="day-wise"),onReloadClick:k},null,8,["loading","selected-month"])):L("",!0),t("div",It,[t("div",Ut,[t("div",Vt,[t("div",jt,[n.value=="day-wise"?(l(),d("div",Yt,b(w(ut)(f.value)),1)):L("",!0),n.value=="month-wise"?(l(),d("div",Et,b(w(ct)(i.value)),1)):L("",!0),n.value=="day-wise"?(l(),d("div",Ht,[p[7]||(p[7]=t("label",{class:"absolute text-xs left-3 -top-1.5 bg-slate-100 text-blue-500"},"Status",-1)),nt(t("select",{"onUpdate:modelValue":p[4]||(p[4]=_=>o.value=_),class:"h-8 text-xs px-2 text-gray-600 border-2 border-gray-400 rounded-md w-full"},p[6]||(p[6]=[t("option",{value:""},"--ALL TASKS--",-1),t("option",{value:"not-completed"},"Not Completed",-1)]),512),[[at,o.value]])])):L("",!0),T(dt,{modelValue:a.value,"onUpdate:modelValue":p[5]||(p[5]=_=>a.value=_),class:"w-full md:w-48 md:ml-auto h-8","debounce-time":0},null,8,["modelValue"])])]),n.value=="day-wise"?(l(),q(K,{key:0,class:"p-4 min-h-[40vh] max-h-[60vh] overflow-y-auto",tasks:s.value,tree:!0},null,8,["tasks"])):n.value=="month-wise"?(l(),q(Ft,{key:1,tasks:s.value||[],month:i.value},null,8,["tasks","month"])):L("",!0)]),u.value==="loading"?(l(),q(rt,{key:0,class:"absolute inset-0 flex items-center justify-center z-20 bg-opacity-70"})):L("",!0)])]))}},Gt={class:"container px-6 mx-auto"},Jt={key:0,class:"grid gap-4 md:grid-cols-3 mt-4"},Qt={class:"text-3xl"},Xt={class:"text-3xl"},Zt={class:"text-3xl"},te={class:"text-3xl"},ee={class:"text-3xl"},se={class:"text-3xl"},ne={class:"text-3xl"},ae={class:"text-3xl"},oe={class:"text-3xl"},le={key:1,class:"w-full mt-4"},re={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ie={class:"bg-white shadow-md rounded-lg p-4"},de={class:"space-y-2"},ue={class:"flex justify-between items-center px-4 py-2 rounded hover:bg-gray-50 transition-colors"},ce={class:"font-semibold text-gray-800"},ye={key:0},me={key:1},pe={key:2},ge={class:"space-y-3"},he={class:"flex items-center space-x-4"},fe={key:0,class:"h-3 w-3 bg-red-600 rounded-full inline-block"},ve={key:1,class:"inline-block"},be={class:"absolute top-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition pointer-events-none z-10 whitespace-nowrap"},xe={class:"text-sm font-medium text-gray-900"},_e={class:"text-xs text-gray-500 mt-0.5"},ke={class:"text-xl font-bold text-gray-800 flex items-center gap-2 p-4"},we={class:"space-y-5 px-4 md:px-6 py-4"},De={class:"text-sm text-gray-500 flex items-center gap-2"},Ce={class:"flex justify-end gap-3 mt-6"},Me={class:"bg-white shadow-md rounded-lg"},$e={class:"overflow-x-auto shadow-md sm:rounded-lg min-h-max"},Te={class:"min-w-full text-sm text-left text-gray-500"},Le={class:"px-6 py-4 font-medium text-gray-900"},Se={class:"px-6 py-4"},Ae={class:"px-6 py-4"},Oe={class:"px-6 py-4"},Pe={class:"card-bg mt-4 gap-0 shadow-md border border-gray-300"},Ge={__name:"DashBoard",setup(h){const r=Z(),f=pt(),{dashboardInfo:i,selectedDate:u,userDashboard:y}=J(f),{user:v}=J(r),a=ot(),n=I(()=>{var k;return["admin","super_admin","developer"].includes((k=v==null?void 0:v.value)==null?void 0:k.role)}),o=A(null);G(async()=>{var s,m;v.value||await r.fetchUser(),await f.fetchUserDashboardData(),n.value&&await f.fetchAdminDashboardData();const k=(m=(s=y.value)==null?void 0:s.notices)==null?void 0:m.find(p=>!p.user_feedback);k&&(o.value=k)});const c=()=>{if(!o.value)return;const k=o.value.type===1?`/notice-details/${o.value.id}`:`/policy-details/${o.value.id}`;a.push(k)};return(k,s)=>{var p,_;const m=lt("RouterLink");return l(),d("div",Gt,[n.value&&w(r).isAdminMood?(l(),d("div",Jt,[T(m,{to:{name:"TodayAttendanceReport",query:{status:"all"}},class:"main-button"},{default:$(()=>{var e;return[t("span",Qt,b((e=w(i))==null?void 0:e.totalUsers),1),s[2]||(s[2]=M(" Total Employees "))]}),_:1,__:[2]}),T(m,{to:{name:"TodayAttendanceReport",query:{status:"Present"}},class:"main-button"},{default:$(()=>{var e;return[t("span",Xt,b((e=w(i))==null?void 0:e.todayPresents),1),s[3]||(s[3]=M(" Today Present "))]}),_:1,__:[3]}),T(m,{to:{name:"TodayAttendanceReport",query:{status:"Absent"}},class:"main-button"},{default:$(()=>{var e;return[t("span",Zt,b((e=w(i))==null?void 0:e.todayAbsents),1),s[4]||(s[4]=M(" Today Absent "))]}),_:1,__:[4]}),T(m,{to:{name:"LeaveApplicationsForDay",query:{applicationType:"today"}},class:"main-button"},{default:$(()=>{var e;return[t("span",te,b((e=w(i))==null?void 0:e.todayLeaves),1),s[5]||(s[5]=M(" Today Leave "))]}),_:1,__:[5]}),T(m,{to:{name:"LeaveApplicationsForDay",query:{applicationType:"tomorrow"}},class:"main-button"},{default:$(()=>{var e;return[t("span",ee,b((e=w(i))==null?void 0:e.tomorrowLeaves),1),s[6]||(s[6]=M(" Tomorrow Leave "))]}),_:1,__:[6]}),T(m,{to:{name:"DateWiseShortLeaveList",query:{date:w(u)}},class:"main-button"},{default:$(()=>{var e;return[t("span",se,b((e=w(i))==null?void 0:e.todayShortLeaves),1),s[7]||(s[7]=M(" Today Short Leaves "))]}),_:1,__:[7]},8,["to"]),T(m,{to:{name:"DailyLateAttendanceReport",query:{date:w(u)}},class:"main-button"},{default:$(()=>{var e;return[t("span",ne,b((e=w(i))==null?void 0:e.todayLateEntries),1),s[8]||(s[8]=M(" Today Late Report "))]}),_:1,__:[8]},8,["to"]),T(m,{to:{name:"PreviousAfterApplicationList",query:{applicationType:"prev",date:w(u)}},class:"main-button"},{default:$(()=>{var e;return[t("span",ae,b((e=w(i))==null?void 0:e.prevWeekLeaves),1),s[9]||(s[9]=M(" Leave history of previous week "))]}),_:1,__:[9]},8,["to"]),T(m,{to:{name:"PreviousAfterApplicationList",query:{applicationType:"after",date:w(u)}},class:"main-button"},{default:$(()=>{var e;return[t("span",oe,b((e=w(i))==null?void 0:e.nextWeekLeaves),1),s[10]||(s[10]=M(" Upcoming leaves "))]}),_:1,__:[10]},8,["to"])])):(l(),d("div",le,[t("div",re,[t("div",ie,[t("div",de,[s[14]||(s[14]=t("div",{class:"flex items-center"},[t("i",{class:"fas fa-file mr-2 h-5 w-5"}),t("h2",{class:"text-xl font-semibold"},"Applications")],-1)),(l(!0),d(R,null,W((p=w(y))==null?void 0:p.current_month_leave,e=>(l(),q(m,{to:{name:"MyLeaveApplicationShow",params:{id:e.id}},key:e.id},{default:$(()=>[t("div",ue,[t("h3",ce," Leave Application #"+b(e.id),1),t("p",{class:F(["text-sm font-medium flex items-center space-x-2",{"bg-gray-500 py-1.5 rounded-full px-4 text-white":e.status===null,"bg-yellow-500 py-1.5 rounded-full px-4 text-white":e.status==="Pending","bg-green-500 py-1.5 rounded-full px-4 text-white":e.status==="approved"}])},[e.status===null?(l(),d("span",ye,s[11]||(s[11]=[t("i",{class:"fas fa-clock mr-2"},null,-1),M(" Wait for Hanover ")]))):e.status==="Pending"?(l(),d("span",me,s[12]||(s[12]=[t("i",{class:"fas fa-hourglass-half mr-2"},null,-1),M(" Pending ")]))):(l(),d("span",pe,s[13]||(s[13]=[t("i",{class:"fas fa-check-circle mr-2"},null,-1),M(" Approved ")])))],2)])]),_:2},1032,["to"]))),128))]),s[20]||(s[20]=t("div",{class:"flex justify-between items-start mb-4"},[t("div",{class:"flex items-center"},[t("i",{class:"fas fa-file mr-2 h-5 w-5"}),t("h2",{class:"text-xl font-semibold"},"Notices")])],-1)),t("div",ge,[(l(!0),d(R,null,W(w(y).notices,(e,g)=>(l(),d("div",{key:g,class:"flex items-center justify-between p-4 border rounded-lg shadow-sm hover:shadow transition-all bg-white"},[t("div",he,[t("div",{class:F([["rounded-full",e.user_feedback?"bg-green-100":"bg-red-100"],"h-8 w-8 flex items-center justify-center rounded-full"])},[e.user_feedback?(l(),d("span",ve,s[15]||(s[15]=[t("i",{class:"far fa-check text-green-600"},null,-1)]))):(l(),d("span",fe)),t("div",be,b(e.user_feedback?"Feedback Submitted":"Feedback Pending"),1)],2),t("div",null,[t("p",xe,b(e.title),1),t("p",_e,b(e.published_at),1)])]),T(m,{to:e.type===1?`/notice-details/${e.id}`:`/policy-details/${e.id}`,class:"text-blue-600 hover:text-blue-800 font-semibold text-sm"},{default:$(()=>s[16]||(s[16]=[M(" View ")])),_:2,__:[16]},1032,["to"])]))),128)),o.value?(l(),q(et,{key:0,show:!0,onClose:s[1]||(s[1]=e=>o.value=null)},{default:$(()=>[t("div",ke,[s[17]||(s[17]=t("i",{class:"fas fa-bell text-blue-500"},null,-1)),M(" "+b(o.value.title),1)]),t("div",we,[t("p",De,[s[18]||(s[18]=t("i",{class:"fas fa-calendar-alt text-gray-400"},null,-1)),M(" Published: "+b(o.value.published_at),1)]),s[19]||(s[19]=t("p",{class:"text-base text-gray-700 leading-relaxed"}," You must read this notice before proceeding. ",-1)),t("div",Ce,[t("button",{onClick:s[0]||(s[0]=e=>o.value=null),class:"bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium px-5 py-2 rounded-lg transition"}," Cancel "),t("button",{onClick:c,class:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2.5 rounded-lg shadow transition"}," Read Details ")])])]),_:1})):L("",!0)])]),t("div",Me,[s[22]||(s[22]=t("h2",{class:"text-xl font-semibold py-3 px-4"},"Leave Balance",-1)),t("div",$e,[t("table",Te,[s[21]||(s[21]=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"},"Type"),t("th",{scope:"col",class:"px-6 py-3"},"Total Days"),t("th",{scope:"col",class:"px-6 py-3"},"Used Days"),t("th",{scope:"col",class:"px-6 py-3"},"Remaining Days")])],-1)),t("tbody",null,[(l(!0),d(R,null,W((_=w(y))==null?void 0:_.leave_balance,e=>(l(),d("tr",{key:e.id,class:"border-b hover:bg-gray-100"},[t("td",Le,b(e.leave_type),1),t("td",Se,b(e.annual_quota),1),t("td",Ae,b(e.used_days),1),t("td",Oe,b(e.remaining_days),1)]))),128))])])])])]),t("div",Pe,[T(Kt)])]))])}}};export{Ge as default};
