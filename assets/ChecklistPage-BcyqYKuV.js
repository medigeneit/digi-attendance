import{B as ne,r as A,x as M,C as z,c as _,o as p,a as e,k as q,F as O,t as u,b as ee,O as te,e as G,s as L,l as J,G as ae,v as le,n as j,d as se,_ as oe,f as re,h as Q,q as de,j as ie,A as ce}from"./index-zvwRgQfM.js";import{_ as ue}from"./UserClearanceModal-DfOtx94Q.js";import"./userClearance-w5lZcSFV.js";const Y=ne("checklist",()=>{const $=A(!1),x=A(null),o=A(null),k=t=>typeof t=="boolean"?t:typeof t=="number"?t===1:typeof t=="string"?t==="1"||t.toLowerCase()==="true":!!t,C=t=>{var d,s;return(t==null?void 0:t.label)??((d=t==null?void 0:t.template_item)==null?void 0:d.label)??((s=t==null?void 0:t.templateItem)==null?void 0:s.label)??""},b=t=>{var d,s;return k((t==null?void 0:t.required)??((d=t==null?void 0:t.template_item)==null?void 0:d.required)??((s=t==null?void 0:t.templateItem)==null?void 0:s.required))},h=t=>{var d,s;return Number((t==null?void 0:t.order_no)??((d=t==null?void 0:t.template_item)==null?void 0:d.order_no)??((s=t==null?void 0:t.templateItem)==null?void 0:s.order_no)??0)};function w(t){return{...t,_label:C(t),_required:b(t),_order:h(t)}}function U(t){if(!t)return null;const d=Array.isArray(t.items)?t.items.map(w):[];return d.sort((s,n)=>s._order-n._order),{...t,items:d}}const F=M(()=>{var t;return((t=o.value)==null?void 0:t.items)??[]}),v=M(()=>F.value.filter(t=>t._required)),D=M(()=>{const t=v.value.length;if(!t)return 100;const d=v.value.filter(s=>s.status==="done").length;return Math.round(d/t*100)}),B=t=>(t==null?void 0:t._label)??C(t),r=t=>(t==null?void 0:t._required)??b(t);async function f(t,d){$.value=!0,x.value=null;try{const{data:s}=await z.post(`/users/${Number(t)}/checklists`,{template_id:Number(d)});o.value=U(s.data)}catch(s){x.value=s,console.error("ensureChecklist failed:",s)}finally{$.value=!1}}async function l(t,d){$.value=!0,x.value=null;try{const{data:s}=await z.get(`/users/${Number(t)}/checklists/${Number(d)}`);o.value=U(s.data)}catch(s){x.value=s,console.error("fetchChecklist failed:",s)}finally{$.value=!1}}async function N(t,d){var g;const s=((g=o.value)==null?void 0:g.items)||[],n=s.findIndex(I=>I.id===t.id),i=n>=0?s[n]:t,m={...i};Object.assign(i,d);try{const{data:I}=await z.patch(`/checklist-items/${i.id}`,d),R=w({...i,...(I==null?void 0:I.data)||{}});s[n]=R}catch(I){throw n>=0&&(s[n]=w(m)),I}}async function y(t,{deleteDocument:d=!0,force:s=!1}={}){var R,T,E;console.log("detachAttachment",t,{deleteDocument:d,force:s});const n=((R=o.value)==null?void 0:R.items)||[],i=typeof t=="object"?t==null?void 0:t.id:t;if(!i)return{ok:!0,data:null};const m=n.findIndex(V=>V.id===Number(i)),g=m>=0?n[m]:{id:Number(i)};if(!(g!=null&&g.attachment_id)&&!(g!=null&&g.attachment))return{ok:!0,data:g};const I=m>=0?{...n[m]}:null;m>=0&&(n[m]={...n[m],attachment_id:null,attachment:null});try{const{data:V}=await z.patch(`/checklist-items/${i}/detach-attachment`,{delete_document:!!d,force:!!s}),P={...(V==null?void 0:V.data)||{}};return m>=0&&(n[m]={...n[m],...P}),(T=window==null?void 0:window.notify)!=null&&T.success&&window.notify.success("Attachment removed"),{ok:!0,data:P}}catch(V){throw m>=0&&I&&(n[m]=I),(E=window==null?void 0:window.notify)!=null&&E.error&&window.notify.error("Failed to remove attachment"),V}}async function a(t){const d=new FormData;d.append("file",t);const{data:s}=await z.post("/documents",d,{headers:{"Content-Type":"multipart/form-data"}});return s.data}async function c(){$.value=!1,x.value=null,o.value=null}return{loading:$,error:x,checklist:o,items:F,requiredItems:v,completion:D,labelOf:B,requiredOf:r,ensureChecklist:f,fetchChecklist:l,saveItem:N,uploadDocument:a,reset:c,detachAttachment:y}}),pe={class:"min-w-0"},me={class:"flex items-center gap-2 min-w-0"},_e=["href","title"],he={class:"inline-flex h-4 w-4 items-center justify-center"},fe=["src"],ve={key:1,class:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true"},be={class:"truncate"},ye=["disabled"],ge=["disabled"],xe=["disabled"],we=["disabled"],ke={key:2,class:"h-4 w-4 animate-spin text-gray-500",viewBox:"0 0 24 24",fill:"none","aria-label":"Uploading"},Ce={key:0,class:"mt-1 h-[3px] w-full overflow-hidden rounded bg-gray-200"},$e={key:1,class:"mt-1 truncate text-[11px] text-rose-600",role:"alert"},Z=10*1024*1024,Ne=".jpg,.jpeg,.png,.pdf,.doc,.docx",Ie={__name:"AttachmentUploader",props:{itemId:{type:[Number,String],required:!0},modelValue:{type:[Number,null],default:null},current:{type:Object,default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","update:current","uploaded","detached"],setup($,{emit:x}){const o=$,k=x,C=Y(),b=A(null),h=A(!1),w=A(""),U=A(0),F=A(!1),v=["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],D=M(()=>{var s,n;return!!((s=o.current)!=null&&s.url||(n=o.current)!=null&&n.path)}),B=M(()=>{var s,n;return((s=o.current)==null?void 0:s.url)||((n=o.current)==null?void 0:n.path)||null}),r=M(()=>{var s,n;return((s=o.current)==null?void 0:s.name)||((n=o.current)==null?void 0:n.original_name)||l(B.value)||"Document"}),f=M(()=>{var s;return(((s=o.current)==null?void 0:s.mime)||"").startsWith("image/")});function l(s){if(!s)return"";try{return decodeURIComponent(s.split("/").pop().split("?")[0])}catch{return""}}function N(s){const n=["B","KB","MB","GB"];let i=0,m=s;for(;m>=1024&&i<n.length-1;)m/=1024,i++;return`${m.toFixed(i?1:0)} ${n[i]}`}function y(s){return s?s.size>Z?`Max ${N(Z)}`:v.includes(s.type)?"":"Unsupported type":"No file selected"}async function a(s){var i,m;const n=y(s);if(n){w.value=n;return}if(!o.disabled){h.value=!0,w.value="",U.value=0,F.value=!1;try{const g=await C.uploadDocument(s,{onProgress:I=>{F.value=!0,U.value=I}});k("update:modelValue",g.id),k("uploaded",g),(i=window==null?void 0:window.notify)!=null&&i.success&&window.notify.success("File uploaded")}catch(g){console.error(g),w.value="Upload failed",(m=window==null?void 0:window.notify)!=null&&m.error&&window.notify.error("Upload failed")}finally{h.value=!1,U.value=0,F.value=!1,b.value&&(b.value.value="")}}}function c(s){var i;const n=(i=s.target.files)==null?void 0:i[0];n&&a(n)}function t(){var s;h.value||o.disabled||(s=b.value)==null||s.click()}const d=async()=>{var s,n;if(!(h.value||o.disabled)){h.value=!0,w.value="";try{const i=await C.detachAttachment(o.itemId,{deleteDocument:!0});k("update:modelValue",null),k("update:current",null),k("detached",(i==null?void 0:i.data)||null),(s=window==null?void 0:window.notify)!=null&&s.success&&window.notify.success("Attachment removed")}catch(i){console.error(i),w.value="Failed to remove",(n=window==null?void 0:window.notify)!=null&&n.error&&window.notify.error("Failed to remove")}finally{h.value=!1}}};return(s,n)=>(p(),_("div",pe,[e("div",me,[D.value?(p(),_(O,{key:0},[e("a",{href:B.value,target:"_blank",class:"group inline-flex max-w-[12rem] items-center gap-1 truncate rounded-full border px-2 py-0.5 text-xs hover:bg-gray-50",title:r.value},[e("span",he,[f.value?(p(),_("img",{key:0,src:B.value,alt:"",class:"h-4 w-4 rounded object-cover"},null,8,fe)):(p(),_("svg",ve,n[0]||(n[0]=[e("path",{d:"M14 2H6a2 2 0 00-2 2v16c0 1.1.9 2 2 2h12a2 2 0 002-2V8l-6-6z",stroke:"currentColor","stroke-width":"1.5"},null,-1),e("path",{d:"M14 2v6h6",stroke:"currentColor","stroke-width":"1.5"},null,-1)])))]),e("span",be,u(r.value),1)],8,_e),e("button",{type:"button",class:"inline-flex h-7 w-7 items-center justify-center rounded border text-gray-700 hover:bg-gray-50 disabled:opacity-60",disabled:h.value||$.disabled,title:"Replace",onClick:t},n[1]||(n[1]=[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true"},[e("path",{d:"M4 12a8 8 0 118 8",stroke:"currentColor","stroke-width":"1.5"}),e("path",{d:"M12 8v8m0-8l-3 3m3-3l3 3",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})],-1)]),8,ye),e("button",{type:"button",class:"inline-flex h-7 w-7 items-center justify-center rounded border border-rose-200 text-rose-700 hover:bg-rose-50 disabled:opacity-60",disabled:h.value||$.disabled,title:"Remove",onClick:d},n[2]||(n[2]=[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true"},[e("path",{d:"M6 6l12 12M18 6L6 18",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})],-1)]),8,ge)],64)):(p(),_("button",{key:1,type:"button",class:"inline-flex items-center gap-1 rounded-md bg-gray-900 px-2.5 py-1 text-xs text-white hover:bg-gray-800 disabled:opacity-60",disabled:h.value||$.disabled,onClick:t,title:"Upload file"},n[3]||(n[3]=[e("svg",{class:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true"},[e("path",{d:"M12 16V4m0 12l-3-3m3 3l3-3M6 20h12",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})],-1),ee(" Upload ")]),8,xe)),e("input",{ref_key:"inputRef",ref:b,type:"file",class:"hidden",accept:Ne,onChange:c,disabled:h.value||$.disabled},null,40,we),h.value?(p(),_("svg",ke,n[4]||(n[4]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"3"},null,-1),e("path",{class:"opacity-75",d:"M4 12a8 8 0 018-8",stroke:"currentColor","stroke-width":"3"},null,-1)]))):q("",!0)]),h.value?(p(),_("div",Ce,[e("div",{class:"h-[3px] bg-blue-500 transition-[width]",style:te({width:(F.value?U.value:60)+"%"})},null,4)])):q("",!0),w.value?(p(),_("p",$e,u(w.value),1)):q("",!0)]))}},Me={class:"w-full overflow-x-auto bg-white"},Ue={class:"min-w-full text-sm"},Fe={class:"p-3"},Ae={class:"p-3 font-medium"},Be={class:"p-3"},Ve={class:"p-3"},Se=["onUpdate:modelValue","onChange","disabled"],je=["value"],qe={class:"p-3"},De=["onUpdate:modelValue","onInput","disabled"],Re={class:"p-3"},Te={class:"p-3"},Ee={class:"p-3"},Pe={__name:"ChecklistTable",props:{items:{type:Array,required:!0}},setup($){const x=$,o=Y(),k=[{value:"pending",label:"Pending"},{value:"done",label:"Done ✓"},{value:"waived",label:"Waived"},{value:"rejected",label:"Rejected"}],C=A(Object.create(null));function b(r,f){C.value[r]=!!f,C.value={...C.value}}function h(r,f=600){let l;return(...N)=>{clearTimeout(l),l=setTimeout(()=>r(...N),f)}}function w(r){return o.labelOf(r)}function U(r){return o.requiredOf(r)}const F=h(async r=>{var f,l;try{b(r.id,!0),await o.saveItem(r,{comment:r.comment||null}),(f=window==null?void 0:window.notify)!=null&&f.success&&window.notify.success("Note saved")}catch{(l=window==null?void 0:window.notify)!=null&&l.error&&window.notify.error("Failed to save note")}finally{b(r.id,!1)}},600);async function v(r){var f,l;try{b(r.id,!0),await o.saveItem(r,{status:r.status}),(f=window==null?void 0:window.notify)!=null&&f.success&&window.notify.success("Status updated")}catch{(l=window==null?void 0:window.notify)!=null&&l.error&&window.notify.error("Failed to update status")}finally{b(r.id,!1)}}async function D(r,f){var l,N;try{b(r.id,!0),console.log("linking attachment",r,f),await o.saveItem(r,{attachment_id:f.id}),r.attachment={...f},(l=window==null?void 0:window.notify)!=null&&l.success&&window.notify.success("Attachment linked")}catch{(N=window==null?void 0:window.notify)!=null&&N.error&&window.notify.error("Failed to link file")}finally{b(r.id,!1)}}function B(r){if(!r)return"-";try{return new Date(r).toLocaleString()}catch{return String(r)}}return(r,f)=>(p(),_("div",Me,[e("table",Ue,[f[0]||(f[0]=e("thead",{class:"sticky top-0 bg-gray-100 backdrop-blur"},[e("tr",{class:"text-left border-b"},[e("th",{class:"p-3 w-10"},"#"),e("th",{class:"p-3"},"Item"),e("th",{class:"p-3 w-20"},"Req."),e("th",{class:"p-3 w-40"},"Status"),e("th",{class:"p-3"},"Comment"),e("th",{class:"p-3 w-64"},"Attachment"),e("th",{class:"p-3 w-44"},"Checked By"),e("th",{class:"p-3 w-48"},"Checked At")])],-1)),e("tbody",null,[(p(!0),_(O,null,G(x.items,(l,N)=>{var y,a;return p(),_("tr",{key:l.id,class:"border-b hover:bg-gray-50"},[e("td",Fe,u(N+1),1),e("td",Ae,u(w(l)),1),e("td",Be,[e("span",{class:L(["px-2 py-0.5 rounded text-xs",U(l)?"bg-rose-100 text-rose-700":"bg-gray-100 text-gray-600"])},u(U(l)?"Yes":"No"),3)]),e("td",Ve,[J(e("select",{"onUpdate:modelValue":c=>l.status=c,onChange:c=>v(l),class:"border rounded px-2 py-1 w-full focus:outline-none focus:ring disabled:opacity-60",disabled:C.value[l.id]},[(p(),_(O,null,G(k,c=>e("option",{key:c.value,value:c.value},u(c.label),9,je)),64))],40,Se),[[ae,l.status]])]),e("td",qe,[J(e("textarea",{"onUpdate:modelValue":c=>l.comment=c,onInput:c=>j(F)(l),placeholder:"Notes…",class:"border rounded p-2 w-60 h-10 resize-y focus:outline-none focus:ring disabled:opacity-60",disabled:C.value[l.id]},null,40,De),[[le,l.comment]])]),e("td",Re,[se(Ie,{"item-id":l.id,modelValue:l.attachment_id,"onUpdate:modelValue":c=>l.attachment_id=c,current:l.attachment,disabled:C.value[l.id],onUploaded:c=>D(l,c),"onUpdate:current":c=>l.attachment=c,onDetached:()=>{l.attachment=null}},null,8,["item-id","modelValue","onUpdate:modelValue","current","disabled","onUploaded","onUpdate:current","onDetached"])]),e("td",Te,u(((y=l.checked_by)==null?void 0:y.name)||((a=l.checker)==null?void 0:a.name)||"-"),1),e("td",Ee,u(B(l.checked_at)),1)])}),128))])])]))}},ze={class:"space-y-3"},Oe={class:"print:hidden sticky top-0 z-10 -mx-4 md:-mx-6 bg-white/80 backdrop-blur border-b"},Ge={class:"mx-auto max-w-7xl px-4 md:px-6"},Le={class:"py-3 flex flex-wrap items-center gap-3"},Ye={class:"min-w-0"},Ke={class:"text-xs uppercase tracking-wide text-gray-500"},We={class:"flex items-center gap-2"},He={class:"text-lg md:text-xl font-semibold leading-tight truncate"},Xe={key:0,class:"hidden sm:inline-flex rounded-full bg-gray-100 px-2 py-0.5 text-[11px] text-gray-700"},Je={class:"ml-auto flex items-center gap-4"},Qe={class:"flex items-center gap-2",title:"Completion"},Ze={class:"w-44 h-2 rounded-full bg-gray-200 overflow-hidden"},et={class:"text-sm font-medium tabular-nums"},tt={class:"flex items-center gap-2"},st={class:"inline-flex rounded-md border overflow-hidden"},nt={class:"mx-auto max-w-7xl print:hidden"},at={class:"rounded-2xl border bg-white shadow-sm overflow-hidden"},lt={class:"px-4 md:px-6 py-4 border-b bg-gradient-to-b from-white to-gray-50"},ot={class:"flex flex-wrap items-end gap-3 text-sm"},rt={class:"flex-1 min-w-[220px] form-line"},dt={class:"value"},it={key:0,class:"muted"},ct={class:"flex-1 min-w-[220px] form-line"},ut={class:"value"},pt={class:"flex-1 min-w-[220px] form-line"},mt={class:"value"},_t={class:"px-4 md:px-6 py-5"},ht={key:0,class:"space-y-3"},ft={key:1,class:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-rose-700"},vt={key:3,class:"rounded-lg border bg-gray-50 p-6 text-gray-600"},bt={key:0,class:"hidden print:block bg-white text-gray-900 print-a4"},yt={class:"text-center"},gt={class:"text-xl font-bold tracking-wide"},xt={class:"text-sm"},wt={class:"mt-2 text-base font-semibold underline"},kt={class:"mt-3 grid grid-cols-12 gap-2 text-[12px] leading-5"},Ct={class:"col-span-4"},$t={class:"inline-block min-w-[150px] border-b border-gray-800 ml-2"},Nt={class:"col-span-4"},It={class:"inline-block min-w-[150px] border-b border-gray-800 ml-2"},Mt={class:"col-span-4"},Ut={class:"inline-block min-w-[150px] border-b border-gray-800 ml-2"},Ft={class:"mt-3 w-full border border-gray-900 text-[12px] leading-5 print-table"},At={class:"border border-gray-900 px-2 py-1 text-center"},Bt={class:"border border-gray-900 px-2 py-1"},Vt={class:"border border-gray-900 px-2 py-1 text-center"},St={class:"inline-flex items-center justify-center align-middle border border-gray-900 w-4 h-4"},jt={key:0,class:"leading-none text-[12px] font-bold"},qt={class:"border border-gray-900 px-2 py-1 text-center"},Dt={key:0,class:"mt-12 text-right text-[12px]"},Rt={__name:"ChecklistPage",setup($){const x=re(),o=Y(),k=M(()=>Number(x.params.userId)),C=M(()=>x.params.checklistId?Number(x.params.checklistId):null),b=M(()=>x.params.templateId?Number(x.params.templateId):null),h=A(!1),w=A(!1);function U(y,a=0,c=100){const t=Number(y||0);return Math.min(Math.max(t,a),c)}const F=M(()=>U(o.completion)),v=M(()=>{var y;return((y=o.checklist)==null?void 0:y.employee)||{}}),D=M(()=>{var y,a,c,t,d;return{id:k.value,name:((y=v.value)==null?void 0:y.name)??`#${k.value}`,department_name:((c=(a=v.value)==null?void 0:a.department)==null?void 0:c.name)??null,post:((d=(t=v.value)==null?void 0:t.designation)==null?void 0:d.title)??null}});Q(()=>{x.query.open==="clearance"&&(h.value=!0)});async function B(){if(k.value){w.value=!0;try{C.value?await o.fetchChecklist(k.value,C.value):b.value?await o.ensureChecklist(k.value,b.value):await o.reset()}finally{w.value=!1}}}Q(B),de([k,C,b],B);const r=A("blank");async function f(){await ce(),window.print()}const l=M(()=>(o.items||[]).slice().sort((y,a)=>(y.order_no??0)-(a.order_no??0))),N={name:"GENESIS PG ORIENTATION CENTRE",address:"230, New Elephant Road, Katabon Mor, Dhaka-1205"};return(y,a)=>{var c,t,d,s,n,i,m,g,I,R,T,E,V,P,K,W,H;return p(),_("div",ze,[e("header",Oe,[e("div",Ge,[e("div",Le,[e("div",Ye,[e("div",Ke,u(((t=(c=j(o).checklist)==null?void 0:c.template)==null?void 0:t.type)||"Checklist"),1),e("div",We,[e("h1",He,u(((s=(d=j(o).checklist)==null?void 0:d.template)==null?void 0:s.name)||"Checklist"),1),(n=v.value)!=null&&n.employee_id?(p(),_("span",Xe," ID: "+u(v.value.employee_id),1)):q("",!0)])]),e("div",Je,[e("div",Qe,[e("div",Ze,[e("div",{class:"h-2 rounded-full bg-gradient-to-r from-emerald-500 to-indigo-500",style:te({width:F.value+"%"})},null,4)]),e("span",et,u(F.value)+"%",1)]),b.value===2?(p(),_("button",{key:0,type:"button",class:"inline-flex items-center gap-2 rounded-md bg-indigo-600 px-3 py-2 text-xs md:text-sm font-medium text-white hover:bg-indigo-700",onClick:a[0]||(a[0]=S=>h.value=!0)}," View Clearance ")):q("",!0),e("div",tt,[e("div",st,[e("button",{type:"button",class:L(["px-3 py-1.5 text-xs md:text-sm",r.value==="blank"?"bg-gray-900 text-white":"bg-white hover:bg-gray-50"]),onClick:a[1]||(a[1]=S=>r.value="blank")},"Blank",2),e("button",{type:"button",class:L(["px-3 py-1.5 text-xs md:text-sm border-l",r.value==="filled"?"bg-gray-900 text-white":"bg-white hover:bg-gray-50"]),onClick:a[2]||(a[2]=S=>r.value="filled")},"Filled",2)]),e("button",{class:"rounded-md bg-gray-900 px-3 py-2 text-xs md:text-sm font-medium text-white hover:bg-black",onClick:f},"Print")])])])])]),e("section",nt,[e("div",at,[e("div",lt,[e("div",ot,[e("div",rt,[a[4]||(a[4]=e("span",{class:"label"},"Name",-1)),e("span",dt,[ee(u(((i=v.value)==null?void 0:i.name)||"-")+" ",1),(m=v.value)!=null&&m.employee_id?(p(),_("span",it," ("+u(v.value.employee_id)+")",1)):q("",!0)])]),e("div",ct,[a[5]||(a[5]=e("span",{class:"label"},"Department",-1)),e("span",ut,u(((I=(g=v.value)==null?void 0:g.department)==null?void 0:I.name)||"—"),1)]),e("div",pt,[a[6]||(a[6]=e("span",{class:"label"},"Designation",-1)),e("span",mt,u(((T=(R=v.value)==null?void 0:R.designation)==null?void 0:T.title)||"—"),1)])])]),e("div",_t,[w.value||j(o).loading?(p(),_("div",ht,a[7]||(a[7]=[e("div",{class:"h-4 w-40 rounded bg-gray-100 animate-pulse"},null,-1),e("div",{class:"h-10 w-full rounded bg-gray-100 animate-pulse"},null,-1),e("div",{class:"h-10 w-full rounded bg-gray-100 animate-pulse"},null,-1),e("div",{class:"h-10 w-full rounded bg-gray-100 animate-pulse"},null,-1)]))):j(o).error?(p(),_("div",ft," Failed to load. ")):j(o).checklist?(p(),ie(Pe,{key:2,items:j(o).items},null,8,["items"])):(p(),_("div",vt," No checklist found. "))])])]),se(ue,{open:h.value,"onUpdate:open":a[3]||(a[3]=S=>h.value=S),user:D.value,"hide-trigger":!0},null,8,["open","user"]),j(o).checklist?(p(),_("section",bt,[e("div",yt,[e("div",gt,u(N.name),1),e("div",xt,u(N.address),1),e("div",wt,u(((V=(E=j(o).checklist)==null?void 0:E.template)==null?void 0:V.name)||"Checklist"),1)]),a[13]||(a[13]=e("div",{class:"text-right text-sm mt-1"},"( Office Copy )",-1)),e("div",kt,[e("div",Ct,[a[8]||(a[8]=e("span",{class:"font-medium"},"নাম:",-1)),e("span",$t,"  "+u(((P=v.value)==null?void 0:P.name)||" "),1)]),e("div",Nt,[a[9]||(a[9]=e("span",{class:"font-medium"},"বিভাগ:",-1)),e("span",It,"  "+u(((W=(K=v.value)==null?void 0:K.department)==null?void 0:W.name)||" "),1)]),e("div",Mt,[a[10]||(a[10]=e("span",{class:"font-medium"},"যোগদানের তারিখ:",-1)),e("span",Ut,"  "+u(((H=v.value)==null?void 0:H.joining_date)||" "),1)])]),e("table",Ft,[a[12]||(a[12]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"w-12 border border-gray-900 px-2 py-1 text-center"},"ক্রম."),e("th",{class:"border border-gray-900 px-2 py-1 text-left"},"বিষয়"),e("th",{class:"w-40 border border-gray-900 px-2 py-1 text-center"},"সম্পন্ন হলে টিক চিহ্ন দিন"),e("th",{class:"border border-gray-900 px-2 py-1 text-center"},"Attachment"),e("th",{class:"w-52 border border-gray-900 px-2 py-1 text-left"},"মন্তব্য")])],-1)),e("tbody",null,[(p(!0),_(O,null,G(l.value,(S,X)=>(p(),_("tr",{key:S.id??X,class:"align-top print-row"},[e("td",At,u(X+1),1),e("td",Bt,u(S._label||S.label),1),e("td",Vt,[e("span",St,[S.status=="done"?(p(),_("span",jt,"✓")):q("",!0)])]),e("td",qt,u(S.attachment?"Yes":"No"),1),a[11]||(a[11]=e("td",{class:"border border-gray-900 px-2 py-1"}," ",-1))]))),128))])]),a[14]||(a[14]=e("div",{class:"mt-8 grid grid-cols-2 gap-4 text-[12px]"},[e("div",null,[e("div",null,"কর্মীর স্বাক্ষর: ______________________________"),e("div",{class:"mt-2"},"তারিখ: _____________")]),e("div",{class:"text-right"},[e("div",null,"পরীক্ষণকারী: ______________________________"),e("div",{class:"mt-2"},"পদবি: __________________")])],-1)),h.value?q("",!0):(p(),_("div",Dt,"হেড অব এইচআর"))])):q("",!0)])}}},zt=oe(Rt,[["__scopeId","data-v-3bcfce47"]]);export{zt as default};
