import{f as h,h as y,p as f,c as o,o as a,a as t,d as x,l as k,b,m as d,j as g,F as w,e as R,w as T,t as r}from"./index-C3L4IOIC.js";import{s as v}from"./dom-Bic1TNqD.js";import{u as C}from"./useTaskReportStore-Q2gP24gd.js";const N={class:"mt-4"},S={class:"bg-white"},D={class:"flex mb-2 items-end"},L={key:0,class:"min-w-full bg-white shadow rounded-lg overflow-hidden"},V={key:0},B=["onClick"],A={class:"px-4 py-2"},E={class:"px-4 py-2 font-medium"},F={class:"px-4 py-2 font-medium"},I={class:"px-4 py-2 font-medium"},M={key:1,class:"text-center border py-4 text-gray-500"},z={__name:"SubTasks",setup(O){const n=C(),l=h(),u=l.params.id;return y(async()=>{await n.fetchTaskReports({task_id:u}),l.hash&&v(l.hash)}),(m,s)=>{var i,p;const c=f("RouterLink");return a(),o("div",N,[s[5]||(s[5]=t("hr",{class:"mb-2"},null,-1)),t("div",S,[t("div",D,[s[2]||(s[2]=t("h3",{class:"text-sm uppercase mt-4"},"Task Reports",-1)),x(c,{to:{name:"TaskReportAdd",params:{todoable_id:(i=d(n).task)==null?void 0:i.id},query:{todoable_type:"task"}},onClick:s[0]||(s[0]=e=>e.stopPropagation()),class:"btn-3 ml-auto inline-flex !my-1"},{default:k(()=>s[1]||(s[1]=[b("Add Report")])),_:1,__:[1]},8,["to"])]),d(n).loading?(a(),o("div",M,"Loading...")):(a(),o("table",L,[s[4]||(s[4]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left"},"#"),t("th",{class:"px-4 py-2 text-left"},"Title"),t("th",{class:"px-4 py-2 text-left"},"Date"),t("th",{class:"px-4 py-2 text-left"},"Duration")])],-1)),t("tbody",null,[((p=d(n).task_reports)==null?void 0:p.length)===0?(a(),o("tr",V,s[3]||(s[3]=[t("td",{class:"px-4 py-4 font-medium text-gray-500 text-center",colspan:"10"},"NO REPORTS",-1)]))):g("",!0),(a(!0),o(w,null,R(d(n).task_reports,(e,_)=>(a(),o("tr",{key:e.id,class:"border-t hover:bg-gray-50 cursor-pointer",onClick:T(P=>m.goToShow(e.id),["prevent"]),role:"button"},[t("td",A,r(_+1),1),t("td",E,r(e.title),1),t("td",F,r(e.report_date),1),t("td",I,r(e.duration_hour)+" h "+r(e.duration_minute)+" m ",1)],8,B))),128))])]))])])}}};export{z as default};
