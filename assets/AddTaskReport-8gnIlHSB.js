import{r as l,b as M,u as T,e as V,k as S,c as D,o as U,a as o,w as H,t as x,h as b,n as y,g as r,v as a,l as B,p as C}from"./index-v2nHsjtM.js";import{u as E}from"./useTaskReportStore-nLTUUlus.js";import{u as N}from"./useTaskStore-CGvVBAm8.js";const A={class:"mt-6"},L={class:"bg-white border p-4 rounded"},j={class:"col-span-full text-red-800 font-semibold"},F={class:"col-span-full"},I={class:"font-semibold"},P={class:"col-span-full"},q={class:"col-span-2"},z={class:"flex space-x-4 col-span-2"},G={class:"flex-1"},J={class:"flex-1"},K={class:"flex-1"},O={class:"flex justify-between col-span-full"},Z={__name:"AddTaskReport",setup(Q){const n=l(""),u=l(0),d=l(""),i=l(0),p=l(0),v=E(),g=N(),w=M(),R=T(),m=w.params.id;V(async()=>{});const _=async()=>{const c=u.value*60+i.value,t={title:n.value,report_date:d.value,progress:p.value,duration:c,task_id:m};console.log({payload:t});try{const s=await v.createTaskReport(t);console.log("Submitted:",s.data),n.value="",d.value="",u.value=0,i.value=0,R.push({name:"TaskReports",params:{id:m}})}catch(s){console.error("Error submitting report:",s)}};return(c,t)=>{var f,k;const s=S("RouterLink");return U(),D("div",A,[o("div",L,[o("form",{onSubmit:H(_,["prevent"]),class:"grid gap-4 grid-cols-4"},[o("div",j,x((f=b(v))==null?void 0:f.error),1),o("div",F,[t[5]||(t[5]=y(" Add Report on ")),o("span",I,x((k=b(g).task)==null?void 0:k.title),1)]),o("div",P,[t[6]||(t[6]=o("label",{for:"title",class:"block"},"Title",-1)),r(o("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),type:"text",class:"border rounded p-2 w-full",placeholder:"Enter report title"},null,512),[[a,n.value]])]),o("div",q,[t[7]||(t[7]=o("label",{for:"report_date"},"Report Date",-1)),r(o("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>d.value=e),id:"report_date",type:"date",class:"border rounded p-2 w-full"},null,512),[[a,d.value]])]),o("div",z,[o("div",G,[t[8]||(t[8]=o("label",{for:"durationHour",class:"block"},"Duration (Hours)",-1)),r(o("input",{id:"durationHour","onUpdate:modelValue":t[2]||(t[2]=e=>u.value=e),type:"number",min:"0",class:"border rounded p-2 w-full"},null,512),[[a,u.value,void 0,{number:!0}]])]),o("div",J,[t[9]||(t[9]=o("label",{for:"durationMinute",class:"block"},"Duration (Minutes)",-1)),r(o("input",{id:"durationMinute","onUpdate:modelValue":t[3]||(t[3]=e=>i.value=e),type:"number",min:"0",max:"59",class:"border rounded p-2 w-full"},null,512),[[a,i.value,void 0,{number:!0}]])]),o("div",K,[t[10]||(t[10]=o("label",{for:"durationMinute",class:"block"},"Progress (%)",-1)),r(o("input",{id:"durationMinute","onUpdate:modelValue":t[4]||(t[4]=e=>p.value=e),type:"number",min:"0",max:"100",class:"border rounded p-2 w-full"},null,512),[[a,p.value,void 0,{number:!0}]])])]),t[13]||(t[13]=o("hr",{class:"col-span-full mb-2 mt-3 border-dashed"},null,-1)),o("div",O,[t[12]||(t[12]=o("button",{type:"submit",class:"btn-2"},"Submit",-1)),B(s,{type:"submit",class:"btn-3",to:{name:"TaskReports",params:{id:b(m)}}},{default:C(()=>t[11]||(t[11]=[y("Cancel")])),_:1},8,["to"])])],32)])])}}};export{Z as default};
