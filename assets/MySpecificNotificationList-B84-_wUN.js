import{_ as k}from"./AcceptAndRejectHandler-B9skUjyb.js";import{L as b}from"./LoaderView-DOfmMPns.js";import{N as S,s as w,b as N,A as L,y as A,c as a,a as t,l as d,t as r,h as p,e as i,m as _,F as C,x as T,f as M,o,n as R,p as V}from"./index-BdeUau8Q.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"space-y-6 px-4 py-4"},E={class:"md:text-2xl font-semibold capitalize text-gray-700"},z={key:0,class:"ml-auto text-xs bg-red-500 text-white rounded-full px-2 py-0.5 font-semibold"},D={key:0,class:"text-center text-red-500 py-10 text-xl italic"},F={key:1,class:"space-y-4"},H={class:"flex gap-2 md:gap-3 items-center"},I={class:"shrink-0 grow-0 btn-1 size-8 p-0"},$={class:"shrink grow font-semibold text-sm md:text-base"},j={class:"ml-auto shrink-0 grow-0 flex gap-2 md:gap-3 items-center"},O=["href"],P=["innerHTML"],U={class:"flex flex-wrap gap-y-1 gap-x-3 items-center text-xs md:text-sm lg:text-base"},Z={key:0},q={key:1},G={class:"flex flex-wrap gap-y-1 gap-x-3 items-center text-xs md:text-sm lg:text-base"},J={key:0},K={class:"flex gap-3 items-center"},Q={class:"flex items-center gap-8"},W={class:"flex flex-col md:flex-row gap-x-1 font-light text-xs md:text-sm px-2 pt-0.5 bg-gray-100 text-gray-800 rounded-lg text-center"},X={key:0},Y={class:"font-bold"},ee={key:1,class:"hidden md:inline"},te={key:2},se={class:"font-bold"},ie={__name:"MySpecificNotificationList",setup(ae){const n=M(),l=S(),{icons:u,loading:g,notifications:m,count_notifications:x}=w(l);N(()=>{n.params.type&&(l.fetchCountNotifications(),l.fetchSpecificNotifications(n.params.type))}),L(()=>n.params.type,(c,s)=>{c&&c!==s&&(l.fetchCountNotifications(),l.fetchSpecificNotifications(c))});const y=async()=>{await l.fetchSpecificNotifications(n.params.type)},h={leave_applications:"LeaveApplicationShow",short_leave_applications:"ShortLeaveShow",shift_exchange_applications:"ExchangeShiftShow",offday_exchange_applications:"ExchangeOffdayShow",manual_attendance_applications:"ManualAttendanceShow"},f=A(()=>n.params.type?n.params.type.replace(/[_-]/g," ").replace(/([A-Z])/g," $1").replace(/\s+/g," ").trim().split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" "):"");return(c,s)=>{const v=V("RouterLink");return o(),a("div",B,[t("h2",E,[d(r(f.value||"Notifications")+" ",1),p(x)[p(n).params.type]?(o(),a("span",z,r(p(x)[p(n).params.type]),1)):i("",!0)]),p(g)?(o(),a("div",D,[_(b)])):p(m).length?(o(),a("div",F,[(o(!0),a(C,null,T(p(m),e=>(o(),a("div",{key:e.application_id,class:"bg-white p-3 md:p-4 rounded-xl shadow border grid gap-2"},[t("div",H,[t("div",I,r(p(u)[p(n).params.type]),1),t("div",$,r(e.user_name),1),t("div",j,[e!=null&&e.attachment?(o(),a("a",{key:0,href:e.attachment,target:"_blank",class:"btn-4 px-2"},s[0]||(s[0]=[t("i",{class:"fad fa-link"},null,-1)]),8,O)):i("",!0),_(v,{to:{name:h[p(n).params.type],params:{id:e.application_id}},class:"btn-1 px-3"},{default:R(()=>s[1]||(s[1]=[t("i",{class:"far fa-eye"},null,-1)])),_:2},1032,["to"])])]),t("div",{class:"flex items-center text-red-600 text-xs md:text-sm lg:text-base",innerHTML:e.message},null,8,P),t("div",U,[e.type?(o(),a("div",Z,[s[2]||(s[2]=t("span",{class:"text-gray-400"},"Type:",-1)),d(" "+r(e.type),1)])):i("",!0),e.duration?(o(),a("div",q,[s[3]||(s[3]=t("span",{class:"text-gray-400"},"Duration:",-1)),d(" "+r(e.duration),1)])):i("",!0)]),t("div",G,[e.reason?(o(),a("div",J,[s[4]||(s[4]=t("span",{class:"text-gray-400"},"Reason:",-1)),d(" "+r(e.reason),1)])):i("",!0)]),t("div",K,[t("div",Q,[t("p",W,[e.count_pending?(o(),a("span",X,[s[5]||(s[5]=t("span",{class:"text-gray-600"},"Pending: ",-1)),t("span",Y,r(e.count_pending),1)])):i("",!0),e.count_pending&&e.count_approved?(o(),a("span",ee," / ")):i("",!0),e.count_approved?(o(),a("strong",te,[s[6]||(s[6]=t("span",{class:"text-gray-600"},"Approved: ",-1)),t("span",se,r(e.count_approved),1)])):i("",!0)])]),_(k,{class:"ml-auto",notificationType:p(n).params.type,applicationId:e.application_id,onSuccess:y,variant:2},null,8,["notificationType","applicationId"])])]))),128))])):i("",!0)])}}};export{ie as default};
