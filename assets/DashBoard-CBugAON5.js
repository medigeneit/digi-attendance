import{d as D,s as k,q as S,e as A,k as q,c as n,o as a,a as s,h as l,n as d,t as o,l as p,p as i,F as f,x as h,m as P,y as b}from"./index-fO5p_Xlo.js";import{u as R}from"./user-gdQS8Szi.js";const B={class:"my-container"},U={class:"card-bg p-4 md:p-8"},j={key:0},F={class:"title-md"},N={class:"title-md"},V={key:1},C={key:0,class:"grid gap-4 md:grid-cols-3 mt-4"},M={class:"text-3xl"},z={class:"text-3xl"},E={class:"text-3xl"},H={class:"text-3xl"},W={class:"text-3xl"},$={class:"text-3xl"},I={key:1,class:"w-full mt-4"},Y={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},G={class:"bg-white shadow-md rounded-lg p-4"},J={class:"space-y-2"},K={class:"flex justify-between items-center px-4 py-2 rounded hover:bg-gray-50 transition-colors"},O={class:"font-semibold text-gray-800"},Q={key:0},X={key:1},Z={key:2},ss={class:"space-y-3"},ts={class:"flex items-center space-x-4"},es={class:"absolute top-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition pointer-events-none z-10 whitespace-nowrap"},os={class:"text-sm font-medium text-gray-900"},as={class:"text-xs text-gray-500 mt-0.5"},ls={class:"bg-white shadow-md rounded-lg"},ns={class:"overflow-x-auto shadow-md sm:rounded-lg min-h-max"},ds={class:"min-w-full text-sm text-left text-gray-500"},rs={class:"px-6 py-4 font-medium text-gray-900"},is={class:"px-6 py-4"},us={class:"px-6 py-4"},ps={class:"px-6 py-4"},xs={__name:"DashBoard",setup(cs){const m=D(),y=R(),{dashboardInfo:c,selectedDate:L,userDashboard:x}=k(y),{user:u}=k(m),g=S(()=>{var _;return["admin","super_admin","developer"].includes((_=u==null?void 0:u.value)==null?void 0:_.role)});return A(async()=>{u.value||await m.fetchUser(),await y.fetchUserDashboardData(),g.value&&await y.fetchAdminDashboardData()}),(_,e)=>{var v,w;const r=q("RouterLink");return a(),n("div",B,[s("div",U,[l(u)?(a(),n("div",j,[s("p",null,[e[0]||(e[0]=d(" Hello ")),s("span",F,o(l(u).name)+"!",1)]),e[3]||(e[3]=s("h1",{class:"title-xl"},"Welcome back",-1)),s("p",null,[e[1]||(e[1]=s("i",{class:"fas fa-phone mr-2"},null,-1)),e[2]||(e[2]=d(" Your phone number is ")),s("span",N,o(l(u).phone),1)])])):(a(),n("div",V,e[4]||(e[4]=[s("p",null,"Loading...",-1)])))]),g.value&&l(m).adminMode?(a(),n("div",C,[p(r,{to:{name:"TodayAttendanceReport",query:{search:"all"}},class:"main-button"},{default:i(()=>{var t;return[s("span",M,o((t=l(c))==null?void 0:t.totalUsers),1),e[5]||(e[5]=d(" Total Employees "))]}),_:1,__:[5]}),p(r,{to:{name:"TodayAttendanceReport",query:{search:"Present"}},class:"main-button"},{default:i(()=>{var t;return[s("span",z,o((t=l(c))==null?void 0:t.todayPresents),1),e[6]||(e[6]=d(" Today Present "))]}),_:1,__:[6]}),p(r,{to:{name:"TodayAttendanceReport",query:{search:"Absent"}},class:"main-button"},{default:i(()=>{var t;return[s("span",E,o((t=l(c))==null?void 0:t.todayAbsents),1),e[7]||(e[7]=d(" Today Absent "))]}),_:1,__:[7]}),p(r,{to:{name:"LeaveApplicationList",query:{search:"today"}},class:"main-button"},{default:i(()=>{var t;return[s("span",H,o((t=l(c))==null?void 0:t.todayLeaves),1),e[8]||(e[8]=d(" Today Leave "))]}),_:1,__:[8]}),p(r,{to:{name:"LeaveApplicationList",query:{search:"tomorrow"}},class:"main-button"},{default:i(()=>{var t;return[s("span",W,o((t=l(c))==null?void 0:t.tomorrowLeaves),1),e[9]||(e[9]=d(" Tomorrow Leave "))]}),_:1,__:[9]}),p(r,{to:{name:"ShortLeaveList",query:{search:l(L)}},class:"main-button"},{default:i(()=>{var t;return[s("span",$,o((t=l(c))==null?void 0:t.todayShortLeaves),1),e[10]||(e[10]=d(" Today Short Leaves "))]}),_:1,__:[10]},8,["to"])])):(a(),n("div",I,[s("div",Y,[s("div",G,[s("div",J,[e[14]||(e[14]=s("div",{class:"flex items-center"},[s("i",{class:"fas fa-file mr-2 h-5 w-5"}),s("h2",{class:"text-xl font-semibold"},"Applications")],-1)),(a(!0),n(f,null,h((v=l(x))==null?void 0:v.current_month_leave,t=>(a(),P(r,{to:{name:"MyLeaveApplicationShow",params:{id:t.id}},key:t.id},{default:i(()=>[s("div",K,[s("h3",O," Leave Application #"+o(t.id),1),s("p",{class:b(["text-sm font-medium flex items-center space-x-2",{"bg-gray-500 py-1.5 rounded-full px-4 text-white":t.status===null,"bg-yellow-500 py-1.5 rounded-full px-4 text-white":t.status==="Pending","bg-green-500 py-1.5 rounded-full px-4 text-white":t.status==="approved"}])},[t.status===null?(a(),n("span",Q,e[11]||(e[11]=[s("i",{class:"fas fa-clock mr-2"},null,-1),d(" Wait for Hanover ")]))):t.status==="Pending"?(a(),n("span",X,e[12]||(e[12]=[s("i",{class:"fas fa-hourglass-half mr-2"},null,-1),d(" Pending ")]))):(a(),n("span",Z,e[13]||(e[13]=[s("i",{class:"fas fa-check-circle mr-2"},null,-1),d(" Approved ")])))],2)])]),_:2},1032,["to"]))),128))]),e[16]||(e[16]=s("div",{class:"flex justify-between items-start mb-4"},[s("div",{class:"flex items-center"},[s("i",{class:"fas fa-file mr-2 h-5 w-5"}),s("h2",{class:"text-xl font-semibold"},"Notices")])],-1)),s("div",ss,[(a(!0),n(f,null,h(l(x).notices,(t,T)=>(a(),n("div",{key:T,class:"flex items-center justify-between p-4 border rounded-lg shadow-sm hover:shadow transition-all bg-white"},[s("div",ts,[s("div",{class:b([["rounded-full",t.user_feedback?"bg-green-100":"bg-red-100"],"h-8 w-8 flex items-center justify-center rounded-full"])},[s("span",{class:b(["h-3 w-3",t.user_feedback?"bg-green-600":"bg-red-600","rounded-full inline-block"])},null,2),s("div",es,o(t.user_feedback?"Feedback Submitted":"Feedback Pending"),1)],2),s("div",null,[s("p",os,o(t.title),1),s("p",as,o(t.published_at),1)])]),p(r,{to:t.type===1?`/notice-details/${t.id}`:`/policy-details/${t.id}`,class:"text-blue-600 hover:text-blue-800 font-semibold text-sm"},{default:i(()=>e[15]||(e[15]=[d(" View ")])),_:2,__:[15]},1032,["to"])]))),128))])]),s("div",ls,[e[18]||(e[18]=s("h2",{class:"text-xl font-semibold py-3 px-4"},"Leave Balance",-1)),s("div",ns,[s("table",ds,[e[17]||(e[17]=s("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[s("tr",null,[s("th",{scope:"col",class:"px-6 py-3"},"Type"),s("th",{scope:"col",class:"px-6 py-3"},"Total Days"),s("th",{scope:"col",class:"px-6 py-3"},"Used Days"),s("th",{scope:"col",class:"px-6 py-3"},"Remaining Days")])],-1)),s("tbody",null,[(a(!0),n(f,null,h((w=l(x))==null?void 0:w.leave_balance,t=>(a(),n("tr",{key:t.id,class:"border-b hover:bg-gray-100"},[s("td",rs,o(t.leave_type),1),s("td",is,o(t.total_leave_days),1),s("td",us,o(t.used_days),1),s("td",ps,o(t.remaining_days),1)]))),128))])])])])])]))])}}};export{xs as default};
