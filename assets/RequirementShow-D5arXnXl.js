import{C as L,r as y,e as A,c as i,o,a as e,f as S,g as x,w as $,F,h as I,j as E,p as q,v as T,i as V,B as se,t as g,x as ae,b as de,u as ue,D as j,n as me,k as pe,q as te}from"./index-Db80mu-f.js";import{L as M}from"./LoaderView-Dnk_pPzn.js";import{O as z}from"./OverlyModal-DuvcRM50.js";import{R as le}from"./RequiredIcon-DNgIMqio.js";import{f as B}from"./requirement-Di5wATcV.js";import{o as be}from"./url-CePbr-gY.js";import{u as re}from"./department-CaQEcvvf.js";import{S as oe}from"./SelectDropdown-Bp469BRg.js";import{_ as N}from"./UserChip-DSDyPYx5.js";import{u as ie}from"./user-DCD28khT.js";import{_ as ve}from"./TaskUserChip-9dOx-V6N.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";async function ce(u,w){return L.post(`/requirements/${u}/details`,w)}async function ne(u,w,{params:b={}}={}){return L.get(`/requirements/${u}/details/${w}`,{params:b})}async function xe(u,w,b){return L.put(`/requirements/${u}/details/${w}`,b)}async function fe(u,w,{params:b={}}={}){const m=be(b);return L.delete(`/requirements/${u}/details/${w}${m?"?"+m:""}`)}const ye={class:"sticky top-0 pt-4 bg-white z-10"},ge={class:"mb-4"},we={class:"block text-gray-600 text-sm mb-1 font-medium"},ke={class:"mb-4"},$e={class:"mb-4"},_e={key:0,class:"relative w-full"},qe={key:0,class:"absolute right-1 text-xl top-0 bottom-0 flex items-center"},he={class:"mb-4"},Ce={class:"mb-4"},Re={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},De={key:0,class:"mb-4 text-red-500 font-medium"},Se={key:1,class:"mb-4"},Ie={class:"flex items-center justify-between gap-4"},Ee=["disabled"],Ve={__name:"RequirementDetailAddForm",props:{requirementId:{type:[Number,String],required:!0}},emits:["create","closeClick","error"],setup(u,{emit:w}){const b=u,m=w,a=re(),_=y(),l=y(""),d=y(),n=y({title:"",description:"",priority:"",better_to_complete_on:"",supervisor_id:null}),k=y(null),v=y([]);async function c(){var s,t,h;l.value="submitting";const f={...n.value,supervisor_id:(s=k.value)==null?void 0:s.id};console.log({payload:f});try{const r=await ce(b.requirementId,f);m("create",r),l.value="create"}catch(r){l.value="error",d.value=((h=(t=r.response)==null?void 0:t.data)==null?void 0:h.message)||"Failed to create requirement detail",m("error",d.value)}}return A(async()=>{var s;const f=((s=(await B(b.requirementId)).data)==null?void 0:s.requirement)||{};v.value=await a.fetchDepartmentEmployee([f.from_department_id])}),(f,s)=>(o(),i("div",{class:"max-h-[90vh] overflow-auto w-full mx-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative",ref_key:"formContainerRef",ref:_},[e("div",ye,[s[8]||(s[8]=e("h2",{class:"text-2xl font-semibold text-gray-800"},"Add Requirement",-1)),s[9]||(s[9]=e("hr",{class:"mb-4"},null,-1)),e("div",{class:"text-purple-600/80 mb-4 text-xs border-b border-dashed",onClick:s[0]||(s[0]=$(t=>m("ok"),["prevent"]))}," Fields that must be filled in will be marked with an asterisk. ")]),e("form",{onSubmit:$(c,["prevent"]),class:"z-0"},[l.value!=="loading"?(o(),i(F,{key:0},[e("div",ge,[e("label",we,[s[10]||(s[10]=E("Title ")),q(le)]),I(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>n.value.title=t),required:"",placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[T,n.value.title]])]),e("div",ke,[s[11]||(s[11]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Details",-1)),I(e("textarea",{rows:"10","onUpdate:modelValue":s[2]||(s[2]=t=>n.value.description=t),placeholder:"Enter requirement description",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[T,n.value.description]])]),e("div",$e,[s[12]||(s[12]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Supervisor",-1)),q(oe,{modelValue:k.value,"onUpdate:modelValue":s[4]||(s[4]=t=>k.value=t),options:v.value,placeholder:"--NO SUPERVISOR--",containment:_.value},{option:V(({option:t})=>[q(N,{user:t||{}},null,8,["user"])]),"selected-option":V(({option:t})=>[t?(o(),i("div",_e,[q(N,{user:t||{}},null,8,["user"]),k.value?(o(),i("div",qe,[e("button",{onClick:s[3]||(s[3]=$(h=>k.value=null,["prevent"])),class:"text-gray-6 font-semibold 00 hover:text-red-700"}," Ã— ")])):x("",!0)])):x("",!0)]),_:1},8,["modelValue","options","containment"])]),e("div",he,[s[14]||(s[14]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Priority ",-1)),I(e("select",{class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500","onUpdate:modelValue":s[5]||(s[5]=t=>n.value.priority=t)},s[13]||(s[13]=[e("option",{value:""},"NORMAL",-1),e("option",null,"IMPORTANT",-1),e("option",null,"URGENT",-1)]),512),[[se,n.value.priority]])]),e("div",Ce,[s[15]||(s[15]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Better to Complete ",-1)),I(e("input",{type:"date","onUpdate:modelValue":s[6]||(s[6]=t=>n.value.better_to_complete_on=t),placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[T,n.value.better_to_complete_on]])])],64)):x("",!0),e("div",Re,[d.value?(o(),i("div",De,g(d.value),1)):x("",!0),d.value?(o(),i("hr",Se)):x("",!0),e("div",Ie,[e("button",{type:"button",onClick:s[7]||(s[7]=$(t=>m("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:l.value=="loading"||l.value=="submitting",type:"submit",class:"bg-blue-500 hover:bg-blue-600 text-white font-semibold px-5 py-2 rounded transition"},g(l.value=="submitting"?"Saving...":"Add Requirement"),9,Ee)])])],32),l.value==="loading"||l.value==="submitting"?(o(),S(M,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):x("",!0)],512))}},Fe={class:"max-h-[90vh] overflow-auto w-full mx-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative"},Te={class:"mb-4"},Ue={class:"font-semibold"},Ne={class:"mb-4"},Le={class:"line-clamp-2"},Ae={key:1,class:"min-h-40"},Me={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},Oe={key:0,class:"mb-4 text-red-500 font-medium"},je={key:1,class:"mb-4"},ze={class:"flex items-center justify-between gap-4"},Be=["disabled"],Pe={__name:"RequirementDetailDeleteForm",props:{requirementId:{type:[Number,String],required:!0},detailId:{type:[Number,String],required:!0}},emits:["delete","closeClick","error"],setup(u,{emit:w}){const b=u,m=w,a=ie(),_=y(null),l=y(""),d=y(),n=y([]);async function k(){var v,c;l.value="submitting";try{const f=await fe(b.requirementId,b.detailId);m("delete",f),l.value="create"}catch(f){l.value="error",d.value=((c=(v=f.response)==null?void 0:v.data)==null?void 0:c.message)||"Failed to update requirement detail: "+f,m("error",d.value)}}return A(async()=>{var v,c,f;l.value="loading";try{n.value=await a.fetchDepartmentWiseEmployees(),_.value=(v=(await ne(b.requirementId,b.detailId)).data)==null?void 0:v.detail}catch(s){d.value=((f=(c=s.response)==null?void 0:c.data)==null?void 0:f.message)||"Failed to fetch requirement detail"}finally{l.value=""}}),(v,c)=>{var f,s;return o(),i("div",Fe,[c[4]||(c[4]=e("div",{class:"sticky top-0 -mx-6 px-6 z-10 bg-gray-50"},[e("h2",{class:"text-xl font-semibold text-gray-800 py-2"},"Delete Requirement Details"),e("hr",{class:"mb-4 -mx-6"})],-1)),e("form",{onSubmit:$(k,["prevent"]),class:"z-0"},[l.value!=="loading"?(o(),i(F,{key:0},[e("div",Te,[c[1]||(c[1]=e("div",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Title",-1)),e("div",Ue,g((f=_.value)==null?void 0:f.title),1)]),e("div",Ne,[c[2]||(c[2]=e("div",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Description",-1)),e("div",Le,g((s=_.value)==null?void 0:s.description),1)]),c[3]||(c[3]=e("div",{class:"my-8 text-center text-xl text-red-600"},"Are you sure want to delete?",-1))],64)):(o(),i("div",Ae)),e("div",Me,[d.value?(o(),i("div",Oe,g(d.value),1)):x("",!0),d.value?(o(),i("hr",je)):x("",!0),e("div",ze,[e("button",{type:"button",onClick:c[0]||(c[0]=$(t=>m("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:l.value=="loading"||l.value=="submitting",type:"submit",class:"bg-red-700 hover:bg-red-500 text-white font-semibold px-5 py-2 rounded transition"},g(l.value=="submitting"?"Deleting...":"Delete"),9,Be)])])],32),l.value==="loading"||l.value==="submitting"?(o(),S(M,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):x("",!0)])}}},We={class:"sticky top-0 pt-4 bg-white z-10"},Ge={class:"mb-4"},He={class:"block text-gray-600 text-sm mb-1 font-medium"},Qe={class:"mb-4"},Je={class:"mb-4"},Ke={key:0,class:"relative w-full"},Xe={key:0,class:"absolute right-1 text-xl top-0 bottom-0 flex items-center"},Ye={class:"mb-4"},Ze={class:"mb-4"},et={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},tt={key:0,class:"mb-4 text-red-500 font-medium"},st={key:1,class:"mb-4"},lt={class:"flex items-center justify-between gap-4"},rt=["disabled"],ot={__name:"RequirementDetailEditForm",props:{requirementId:{type:[Number,String],required:!0},detailId:{type:[Number,String],required:!0}},emits:["update","closeClick","error"],setup(u,{emit:w}){const b=u,m=w,a=y(),_=ie(),l=re(),d=y(null),n=y(""),k=y(),v=y({title:"",description:"",priority:"",better_to_complete_on:"",supervisor_id:null}),c=y([]),f=y([]),s=y(null);async function t(){var r,p,D;n.value="submitting";const h={...v.value,supervisor_id:(r=s.value)==null?void 0:r.id};console.log({payload:h});try{const R=await xe(b.requirementId,b.detailId,h);m("update",R),n.value="create"}catch(R){n.value="error",k.value=((D=(p=R.response)==null?void 0:p.data)==null?void 0:D.message)||"Failed to update requirement detail",m("error",k.value)}}return A(async()=>{var h,r,p,D;n.value="loading";try{c.value=await _.fetchDepartmentWiseEmployees();const R=((h=(await B(b.requirementId)).data)==null?void 0:h.requirement)||{};f.value=await l.fetchDepartmentEmployee([R.from_department_id]),d.value=(r=(await ne(b.requirementId,b.detailId)).data)==null?void 0:r.detail,v.value=d.value,s.value=d.value.supervisor;const U=new Date(d.value.better_to_complete_on);v.value.better_to_complete_on=U.toISOString().split("T")[0]}catch(R){k.value=((D=(p=R.response)==null?void 0:p.data)==null?void 0:D.message)||"Failed to fetch requirement detail"}finally{n.value=""}}),(h,r)=>(o(),i("div",{ref_key:"formContainerRef",ref:a,class:"max-h-[90vh] w-full mx-auto overflow-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative"},[e("div",We,[r[8]||(r[8]=e("h2",{class:"text-2xl font-semibold text-gray-800"},"Add Requirement Details",-1)),r[9]||(r[9]=e("hr",{class:"mb-4"},null,-1)),e("div",{class:"text-purple-600/80 mb-4 text-xs border-b border-dashed",onClick:r[0]||(r[0]=$(p=>m("ok"),["prevent"]))}," Fields that must be filled in will be marked with an asterisk. ")]),e("form",{onSubmit:$(t,["prevent"]),class:"z-0"},[n.value!=="loading"?(o(),i(F,{key:0},[e("div",Ge,[e("label",He,[r[10]||(r[10]=E("Title ")),q(le)]),I(e("input",{"onUpdate:modelValue":r[1]||(r[1]=p=>v.value.title=p),required:"",placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[T,v.value.title]])]),e("div",Qe,[r[11]||(r[11]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Description",-1)),I(e("textarea",{rows:"10","onUpdate:modelValue":r[2]||(r[2]=p=>v.value.description=p),placeholder:"Enter requirement description",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[T,v.value.description]])]),e("div",Je,[r[12]||(r[12]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Supervisor",-1)),q(oe,{modelValue:s.value,"onUpdate:modelValue":r[4]||(r[4]=p=>s.value=p),options:f.value,placeholder:"--NO SUPERVISOR--",containment:a.value},{option:V(({option:p})=>[q(N,{user:p||{}},null,8,["user"])]),"selected-option":V(({option:p})=>[p?(o(),i("div",Ke,[q(N,{user:p||{}},null,8,["user"]),s.value?(o(),i("div",Xe,[e("button",{onClick:r[3]||(r[3]=$(D=>s.value=null,["prevent"])),class:"text-gray-6 font-semibold 00 hover:text-red-700"}," Ã— ")])):x("",!0)])):x("",!0)]),_:1},8,["modelValue","options","containment"])]),e("div",Ye,[r[14]||(r[14]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Priority ",-1)),I(e("select",{class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500","onUpdate:modelValue":r[5]||(r[5]=p=>v.value.priority=p)},r[13]||(r[13]=[e("option",{value:""},"NORMAL",-1),e("option",null,"IMPORTANT",-1),e("option",null,"URGENT",-1)]),512),[[se,v.value.priority]])]),e("div",Ze,[r[15]||(r[15]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Better to Complete ",-1)),I(e("input",{type:"date","onUpdate:modelValue":r[6]||(r[6]=p=>v.value.better_to_complete_on=p),placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[T,v.value.better_to_complete_on]])])],64)):x("",!0),e("div",et,[k.value?(o(),i("div",tt,g(k.value),1)):x("",!0),k.value?(o(),i("hr",st)):x("",!0),e("div",lt,[e("button",{type:"button",onClick:r[7]||(r[7]=$(p=>m("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:n.value=="loading"||n.value=="submitting",type:"submit",class:"bg-blue-500 hover:bg-blue-600 text-white font-semibold px-5 py-2 rounded transition"},g(n.value=="submitting"?"Saving...":"Edit Detail"),9,rt)])])],32),n.value==="loading"||n.value==="submitting"?(o(),S(M,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):x("",!0)],512))}},it={class:"group/item border text-gray-800 py-4 shadow-sm mb-4 px-4 rounded-md hover:bg-blue-50"},nt={class:"border-2 border-gray-700 p-3 align-top"},at={class:"text-2xl font-medium"},dt={class:"border-2 border-gray-700 p-3"},ut={class:"text-lg font-semibold mb-2"},mt={class:"mb-5"},pt={class:"text-justify"},bt=["innerHTML"],vt={class:"flex items-end"},ct={class:"flex items-center gap-1 mb-3"},xt={class:"text-blue-400 font-semibold"},ft={class:"ml-auto flex gap-6 items-center"},yt={class:"border-2 border-gray-700 p-3 whitespace-nowrap print:whitespace-break-spaces print:px-0 text-center"},gt={key:1,colspan:"2",class:"border-2 border-gray-700 p-3 text-center"},wt={__name:"RequirementDetailTableRow",props:{detail:{type:Object},serial:{type:Number}},emits:["editClick","deleteClick"],setup(u,{emit:w}){const b=w,m=y("line-clamp-2");function a(){m.value=m.value?"":"line-clamp-2"}return(_,l)=>(o(),i("tr",it,[e("td",nt,[e("span",at,g(u.serial),1)]),e("td",dt,[e("div",null,[e("div",ut,[e("span",null,g(u.detail.title),1)]),l[3]||(l[3]=e("hr",{class:"mb-4 -mx-4"},null,-1)),e("div",mt,[l[2]||(l[2]=e("div",{class:"text-gray-400 mr-2 text-xs uppercase font-semibold"},"Description",-1)),e("div",pt,[e("p",{class:ae(["print:line-clamp-none",m.value]),innerHTML:u.detail.description},null,10,bt),e("button",{class:"text-blue-500 group-hover/item:underline hover:text-sky-400 ml-auto text-sm print:hidden",onClick:$(a,["prevent"])},g(m.value?"Show More":"Show Less"),1)])])]),e("div",vt,[e("div",null,[e("div",ct,[l[4]||(l[4]=e("span",{class:"text-gray-400 mr-2 text-xs uppercase font-semibold"},"Supervisor:",-1)),u.detail.supervisor?(o(),S(ve,{key:0,user:u.detail.supervisor},null,8,["user"])):x("",!0)]),e("div",null,[l[5]||(l[5]=e("span",{class:"text-gray-500 mr-2 text-xs uppercase font-semibold"},"Priority:",-1)),e("span",xt,g(u.detail.priority),1)])]),e("div",ft,[e("button",{class:"btn-2",onClick:l[0]||(l[0]=$(d=>b("editClick",u.detail),["prevent"]))},l[6]||(l[6]=[e("i",{class:"fas fa-edit"},null,-1),E("Edit ")])),e("button",{class:"btn-2-red",onClick:l[1]||(l[1]=$(d=>b("deleteClick",u.detail),["prevent"]))},l[7]||(l[7]=[e("i",{class:"fas fa-trash-alt"},null,-1),E("Delete ")]))])])]),e("td",yt,[e("div",null,g(new Date(u.detail.better_to_complete_on).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",weekday:"short"})),1)]),u.detail.task_id?(o(),i(F,{key:0},[l[8]||(l[8]=e("td",{class:"border-2 border-gray-700 p-3"},null,-1)),l[9]||(l[9]=e("td",{class:"border-2 border-gray-700 p-3"},null,-1))],64)):(o(),i("td",gt,l[10]||(l[10]=[e("button",{class:"print:hidden hover:border-2 group-hover/item:bg-blue-200 hover:border-blue-700 text-blue-500 hover:text-white hover:!bg-blue-500 rounded-md px-4 py-1"}," Create Task ",-1)])))]))}},kt={class:"container mx-auto p-6 print:p-0 w-full print:max-w-full"},$t={class:"bg-white rounded shadow print:shadow-none p-4 print:p-0 relative"},_t={class:"flex items-start"},qt={class:"mb-4 text-lg print:black print:font-bold"},ht={class:"ml-auto print:hidden flex gap-2 items-center"},Ct={class:"mb-4 flex items-center gap-1 print:mb-1"},Rt={class:"font-bold print:text-gray-900"},Dt={class:"mb-4 print:flex print:items-center print:gap-3 print:mb-1"},St={class:"print:text-gray-900"},It={class:"mb-4 print:flex print:items-center print:gap-3 print:mb-1"},Et={class:"flex items-center gap-2 print:text-gray-900"},Vt={class:"mb-4 print:flex print:items-center print:gap-3 print:mb-1"},Ft={class:"print:text-gray-900"},Tt={class:"flex items-end mb-3"},Ut={class:"ml-auto print:hidden flex gap-2 text-sm"},Nt={key:0,class:"overflow-x-auto print:overflow-visible"},Lt={class:"w-full table-auto print:table-fixed"},At={colspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base font-semibold whitespace-nowrap px-3 py-1 print:whitespace-normal w-[25%]"},Mt={class:"whitespace-nowrap print:whitespace-break-spaces print:px-0 p-3 text-center border-2 border-gray-800"},Ot={class:"text-gray-900 text-base"},jt={key:1,class:"border min-h-64 rounded-md flex items-center justify-center group"},es={__name:"RequirementShow",setup(u){const w=de(),b=ue(),m=y(""),a=y(null),_=j({open:!1}),l=j({detail:null,open:!1}),d=j({detail:null,open:!1});A(async()=>{await n()});async function n(){var s;m.value="loading",a.value=(s=(await B(w.params.id)).data)==null?void 0:s.requirement,m.value=""}function k(){_.open=!0}function v(s){l.open=!0,l.detail=s}function c(s){d.open=!0,d.detail=s}function f(){window.print()}return(s,t)=>{var r,p,D,R,U,P,W,G,H,Q,J,K,X,Y;const h=me("RouterLink");return o(),i("div",kt,[_.open?(o(),S(z,{key:0,class:"*:max-w-4xl"},{default:V(()=>[q(Ve,{requirementId:a.value.id,onCloseClick:t[0]||(t[0]=C=>_.open=!1),onCreate:t[1]||(t[1]=async()=>{_.open=!1,await n()})},null,8,["requirementId"])]),_:1})):x("",!0),l.open?(o(),S(z,{key:1},{default:V(()=>{var C;return[q(ot,{requirementId:a.value.id,detailId:(C=l.detail)==null?void 0:C.id,onCloseClick:t[2]||(t[2]=O=>l.open=!1),onUpdate:t[3]||(t[3]=async()=>{l.open=!1,await n()})},null,8,["requirementId","detailId"])]}),_:1})):x("",!0),d.open?(o(),S(z,{key:2},{default:V(()=>{var C;return[q(Pe,{requirementId:a.value.id,detailId:(C=d.detail)==null?void 0:C.id,onCloseClick:t[4]||(t[4]=O=>d.open=!1),onDelete:t[5]||(t[5]=async()=>{d.open=!1,await n()})},null,8,["requirementId","detailId"])]}),_:1})):x("",!0),e("div",$t,[e("div",_t,[e("div",qt,[t[7]||(t[7]=e("div",{class:"text-gray-800 leading-none"},"To",-1)),e("div",null,g((p=(r=a.value)==null?void 0:r.to_department)==null?void 0:p.name),1)]),e("div",ht,[(((D=a.value)==null?void 0:D.details)||[]).length>0?(o(),i("button",{key:0,class:"btn-3 font-semibold !pl-2 !pr-4",onClick:$(f,["prevent"])},t[8]||(t[8]=[e("i",{class:"fad fa-print text-xl"},null,-1),E("Print ")]))):x("",!0),e("button",{class:"btn-3",onClick:t[6]||(t[6]=$(()=>pe(b).back(),["prevent"]))},"Back"),q(h,{class:"btn-2",to:`/requirements/edit/${(R=a.value)==null?void 0:R.id}`},{default:V(()=>t[9]||(t[9]=[E("Edit")])),_:1,__:[9]},8,["to"])])]),t[23]||(t[23]=e("div",{class:"text-center text-xl font-bold mb-2 underline"},"Requirement Form",-1)),e("div",Ct,[t[10]||(t[10]=e("div",{class:"text-gray-800 text-sm"},"Requirement ID:",-1)),e("div",Rt,g((U=a.value)==null?void 0:U.id),1)]),e("div",Dt,[t[11]||(t[11]=e("div",{class:"text-gray-800 text-sm"},"From",-1)),e("div",St,g((W=(P=a.value)==null?void 0:P.from_department)==null?void 0:W.name),1)]),e("div",It,[t[12]||(t[12]=e("div",{class:"text-gray-500 text-sm"},"Website",-1)),e("div",Et,[(o(!0),i(F,null,te(((G=a.value)==null?void 0:G.website_tags)||[],C=>(o(),i("div",{key:C.id,class:"border px-2 rounded-md bg-gray-50 shadow-sm"},g(C.name),1))),128))])]),e("div",Vt,[t[13]||(t[13]=e("div",{class:"text-gray-500 text-sm"},"Submission Date",-1)),e("div",Ft,g(new Date((H=a.value)==null?void 0:H.submission_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})),1)]),t[24]||(t[24]=e("hr",{class:"mb-4"},null,-1)),e("div",null,[e("div",Tt,[t[15]||(t[15]=e("h2",{class:"text-xl font-semibold"},"Requirement Task List",-1)),e("div",Ut,[(((Q=a.value)==null?void 0:Q.details)||[]).length>0?(o(),i("button",{key:0,class:"btn-4 font-semibold !pl-2 !pr-4 border-2 border-blue-800 hover:bg-blue-800 hover:text-white",onClick:$(k,["prevent"])},t[14]||(t[14]=[e("i",{class:"fad fa-plus-circle text-xl"},null,-1),E("Add Requirement ")]))):x("",!0)])]),(((J=a.value)==null?void 0:J.details)||[]).length>0?(o(),i("div",Nt,[e("table",Lt,[e("thead",null,[e("tr",null,[t[16]||(t[16]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-left px-4 text-gray-800 print:text-black text-xl font-semibold whitespace-nowrap w-[15%]"}," SL ",-1)),t[17]||(t[17]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base font-semibold whitespace-nowrap w-[65%]"}," Requirement Details ",-1)),t[18]||(t[18]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base px-3 font-semibold whitespace-nowrap print:whitespace-normal print:p-0 w-[15%]"}," Better To Complete ",-1)),e("th",At," For '"+g(((K=a.value.to_department)==null?void 0:K.short_name)||((X=a.value.to_department)==null?void 0:X.name))+"' Use ",1)]),t[19]||(t[19]=e("tr",null,[e("td",{class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-sm font-semibold whitespace-nowrap p-3 print:whitespace-normal"}," Issue No "),e("td",{class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-sm font-semibold whitespace-nowrap p-3 print:whitespace-normal print:p-0"}," Expected Date ")],-1))]),e("tbody",null,[(o(!0),i(F,null,te(((Y=a.value)==null?void 0:Y.details)||[],(C,O)=>{var Z,ee;return o(),i(F,{key:C.id},[q(wt,{detail:C,serial:O+1,onEditClick:v,onDeleteClick:c},null,8,["detail","serial"]),e("tr",null,[e("td",Mt,[e("div",Ot," For '"+g(((Z=a.value.to_department)==null?void 0:Z.short_name)||((ee=a.value.to_department)==null?void 0:ee.name))+"' Use ",1),t[20]||(t[20]=e("div",{class:"text-gray-800 text-xs"},"(Feedback)",-1))]),t[21]||(t[21]=e("td",{class:"whitespace-nowrap p-3 text-center border-2 border-gray-800",colspan:"4"},null,-1))])],64)}),128))])])])):(o(),i("div",jt,[e("button",{class:"btn-4 font-semibold pl-2 group-hover:border border-blue-300",onClick:$(k,["prevent"])},t[22]||(t[22]=[e("i",{class:"fad fa-plus-circle text-2xl"},null,-1),E("Add Requirement ")]))]))]),m.value==="loading"?(o(),S(M,{key:0,class:"absolute inset-0 bg-opacity-90"})):x("",!0)])])}}};export{es as default};
