import{g as h}from"./requirement-DtVD0uOw.js";import{G as $,r as o,p as i,H as c}from"./index-BNoBm0BV.js";const E=$("requirement",()=>{const u=o([]),m=o(null),n=o(!1),s=o(null),d=async(r={})=>{var t,a;n.value=!0,s.value=null;try{const e=await h({params:r});u.value=e.data}catch(e){s.value=((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.message)||"রিকোয়ারমেন্ট লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching requirements:",e)}finally{n.value=!1}},f=async r=>{var t,a;n.value=!0,s.value=null;try{const e=await c.get(`/requirements/${r}`);m.value=e.data}catch(e){s.value=((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.message)||`রিকোয়ারমেন্ট (ID: ${r}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching requirement with id ${r}:`,e)}finally{n.value=!1}},q=async r=>{var t,a;n.value=!0,s.value=null;try{const e=await c.post("/requirements",r);return u.value.push(e.data.data),e.data.data}catch(e){s.value=((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.message)||"রিকোয়ারমেন্ট তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating requirement:",e)}finally{n.value=!1}},p=async(r,t)=>{var a,e;n.value=!0,s.value=null;try{const l=await c.put(`/requirements/${r}`,t),v=u.value.findIndex(y=>y.id===r);return v!==-1&&(u.value[v]=l.data.data),l.data.data}catch(l){s.value=((e=(a=l.response)==null?void 0:a.data)==null?void 0:e.message)||`রিকোয়ারমেন্ট (ID: ${r}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating requirement with id ${r}:`,l)}finally{n.value=!1}},g=async r=>{var t,a;n.value=!0,s.value=null;try{await c.delete(`/requirements/${r}`),u.value=u.value.filter(e=>e.id!==r)}catch(e){s.value=((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.message)||`রিকোয়ারমেন্ট (ID: ${r}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting requirement with id ${r}:`,e)}finally{n.value=!1}};return{requirements:i(()=>u.value),requirement:i(()=>m.value),loading:i(()=>n.value),error:i(()=>s.value),fetchRequirements:d,fetchRequirement:f,createRequirement:q,updateRequirement:p,deleteRequirement:g}});export{E as u};
