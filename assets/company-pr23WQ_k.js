import{J as C,r as u,q as p,K as l}from"./index-CjYkxO9X.js";const D=C("company",()=>{const o=u([]),i=u([]),m=u(null),s=u(!1),t=u(null),y=async()=>{var e,r;s.value=!0,t.value=null;try{const n=await l.get("/companies");o.value=n.data}catch(n){t.value=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"কোম্পানি লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching companies:",n)}finally{s.value=!1}},f=async e=>{var r,n;s.value=!0,t.value=null;try{const a=await l.get(`/companies/${e}`);m.value=a.data}catch(a){t.value=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||`কোম্পানি (ID: ${e}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching company with id ${e}:`,a)}finally{s.value=!1}},d=async e=>{var r,n;s.value=!0,t.value=null;try{const a=await l.post("/companies",e);return o.value.push(a.data),a.data}catch(a){t.value=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"কোম্পানি তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating company:",a)}finally{s.value=!1}},g=async(e,r)=>{var n,a;s.value=!0,t.value=null;try{const c=await l.put(`/companies/${e}`,r),v=o.value.findIndex(E=>E.id===e);return v!==-1&&(o.value[v]=c.data),c.data}catch(c){t.value=((a=(n=c.response)==null?void 0:n.data)==null?void 0:a.message)||`কোম্পানি (ID: ${e}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating company with id ${e}:`,c)}finally{s.value=!1}},h=async e=>{var r,n;s.value=!0,t.value=null;try{const a=await l.get(`/companies/${e}/employees`);i.value=a.data}catch(a){t.value=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||`কোম্পানি (ID: ${e}) এর এমপ্লয়ী লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching department with id ${e}:`,a)}finally{s.value=!1}},$=async e=>{var r,n;s.value=!0,t.value=null;try{await l.delete(`/companies/${e}`),o.value=o.value.filter(a=>a.id!==e)}catch(a){t.value=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||`কোম্পানি (ID: ${e}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting company with id ${e}:`,a)}finally{s.value=!1}},w=async e=>await l.get(`/companies/${e}/employees`);return{companies:p(()=>o.value),company:p(()=>m.value),loading:p(()=>s.value),error:p(()=>t.value),employees:i,fetchEmployee:h,fetchCompanies:y,fetchCompany:f,createCompany:d,updateCompany:g,deleteCompany:$,fetchEmployees:w}});export{D as u};
