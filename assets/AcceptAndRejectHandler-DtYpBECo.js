import{$ as C,a2 as h,r as m,m as p,c as i,o,a as e,g as l,x as b,w as N,h as S,t as x,v as w,j as A}from"./index-CYqOgtTR.js";const R={key:0,class:"font-bold text-lg text-green-600"},T={key:1,class:"btn-2"},q={key:0,class:"text-base"},M={key:1,class:"btn-1"},V={class:"modal-card"},z={class:"title-lg"},B=["placeholder","required"],_={class:"flex justify-between gap-2 mt-4"},$={class:"capitalize hidden md:inline"},I={__name:"AcceptAndRejectHandler",props:{notificationType:{type:String,required:!0},applicationId:{type:[String,Number],required:!0},onSuccess:{type:Function,default:null},variant:{type:Number,default:1}},setup(a){const c=a,y=C(),v=h(),n=m(null),s=m(""),g=p(()=>n.value!==null),j=p(()=>n.value==="accept"?"Accept Application":"Reject Application");p(()=>n.value==="accept"?"btn-2":"btn-2 bg-red-500 text-white");function f(r){(r==="accept"||r==="reject")&&(n.value=r,s.value="")}function u(){n.value=null,s.value=""}async function k(){if(n.value==="reject"&&!s.value)return y.error("Rejection Reason is required!");await v.updateSpecificNotification(c.notificationType,c.applicationId,n.value,s.value),c.onSuccess?c.onSuccess():v.fetchCountNotifications(),u()}return(r,t)=>(o(),i("div",null,[e("div",{class:b(["flex justify-center items-center",a.variant===1?"gap-5":"gap-2"])},[e("button",{onClick:t[0]||(t[0]=d=>f("accept"))},[a.variant===1?(o(),i("span",R,"✔")):l("",!0),a.variant===2?(o(),i("span",T,t[3]||(t[3]=[e("span",{class:"text-base scale-110"},"✔",-1),e("span",{class:"hidden md:inline"},"Approve",-1)]))):l("",!0)]),e("button",{onClick:t[1]||(t[1]=d=>f("reject"))},[a.variant===1?(o(),i("span",q,"❌")):l("",!0),a.variant===2?(o(),i("span",M,t[4]||(t[4]=[e("span",{class:"text-base"},"❌",-1),e("span",{class:"hidden md:inline"},"Reject",-1)]))):l("",!0)])],2),g.value?(o(),i("div",{key:0,class:"fixed inset-0 z-50 flex justify-center items-center bg-black/50",onClick:N(u,["self"])},[e("div",V,[e("h3",z,x(j.value),1),S(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=d=>s.value=d),rows:"7",placeholder:n.value==="accept"?"Accept Note...":"Rejection Reason...",class:"w-full border rounded-lg p-2 text-gray-700",required:n.value==="reject"},null,8,B),[[w,s.value]]),e("div",_,[e("button",{class:"btn-3",onClick:u},"Cancel"),e("button",{class:b(n.value==="reject"?"btn-2-red":"btn-2-green"),onClick:k},[t[5]||(t[5]=A(" Confirm ")),e("span",$,x(n.value),1)],2)])])])):l("",!0)]))}};export{I as _};
