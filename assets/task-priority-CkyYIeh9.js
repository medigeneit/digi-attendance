import{o as y}from"./url-CePbr-gY.js";import{C as o,r as T,m as c}from"./index-BsTyDmMu.js";import{u as g}from"./useTaskStore-CwkmDKZT.js";async function I({params:e={}}={}){return o.get("/tasks/employees",{params:e})}async function $(e,r){return o.put(`/my-tasks/${e}/update-status`,r)}async function C(e,{params:r={}}={}){const t=y(r);return o.delete(`/tasks/${e}${t?"?"+t:""}`)}async function R(e){return o.post(`/tasks/${e}/restore`)}function S(e,r=0){const t=T([]),{updateTaskPriorities:l}=g(),d=c(()=>(console.log({getOldTaskList:e}),e()));function f(a){const n=d.value.map(u=>u.id),s=a.map(u=>u.id);i(n,s)?t.value=s:t.value=[],console.log({reordered:i(n,s)})}function i(a,n){if(a.length!==n.length)return!1;for(let s=0;s<a.length;s++)if(a[s]!==n[s])return!0;return!1}function p(){t.value=[]}async function k(){const a=await l(r,t.value);return t.value=[],a}const m=c(()=>t.value.length>0);return{handleItemsPriorityUpdate:f,saveTaskPriority:k,listHasRearranged:m,discardTaskPriority:p}}export{$ as a,C as d,I as g,R as r,S as u};
