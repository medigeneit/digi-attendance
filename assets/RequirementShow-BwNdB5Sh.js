import{D as T,r as y,e as L,c as u,o,a as e,f as D,g as f,w as k,F as V,h as S,j as F,q,v as U,i as I,y as te,t as g,p as ne,b as ae,u as de,s as O,A as ue,k as me,n as ee}from"./index-CjQ6e_c5.js";import{L as M}from"./LoaderView-DD57Z4dL.js";import{O as j}from"./OverlyModal-CUv2EtFy.js";import{R as se}from"./RequiredIcon-BK9hTXfO.js";import{f as z}from"./requirement-7tDvHgTL.js";import{o as pe}from"./url-CePbr-gY.js";import{u as re}from"./department-uc5j-Ois.js";import{S as le}from"./SelectDropdown-D6dCUK7-.js";import{_ as N}from"./UserChip-IFoHA--t.js";import{u as oe}from"./user-CSFtqaKI.js";import{_ as be}from"./TaskUserChip-BNdUg6dz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";async function ve(p,w){return T.post(`/requirements/${p}/details`,w)}async function ie(p,w,{params:v={}}={}){return T.get(`/requirements/${p}/details/${w}`,{params:v})}async function ce(p,w,v){return T.put(`/requirements/${p}/details/${w}`,v)}async function xe(p,w,{params:v={}}={}){const b=pe(v);return T.delete(`/requirements/${p}/details/${w}${b?"?"+b:""}`)}const fe={class:"sticky top-0 pt-4 bg-white z-10"},ye={class:"mb-4"},ge={class:"block text-gray-600 text-sm mb-1 font-medium"},we={class:"mb-4"},ke={class:"mb-4"},_e={key:0,class:"relative w-full"},$e={key:0,class:"absolute right-1 text-xl top-0 bottom-0 flex items-center"},qe={class:"mb-4"},he={class:"mb-4"},Ce={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},Re={key:0,class:"mb-4 text-red-500 font-medium"},De={key:1,class:"mb-4"},Se={class:"flex items-center justify-between gap-4"},Ie=["disabled"],Ee={__name:"RequirementDetailAddForm",props:{requirementId:{type:[Number,String],required:!0}},emits:["create","closeClick","error"],setup(p,{emit:w}){const v=p,b=w,m=re(),_=y(),s=y(""),a=y(),i=y({title:"",description:"",priority:"",better_to_complete_on:"",supervisor_id:null}),$=y(null),d=y([]);async function c(){var r,t;s.value="submitting";const x={...i.value};console.log({payload:x});try{const l=await ve(v.requirementId,x);b("create",l),s.value="create"}catch(l){s.value="error",a.value=((t=(r=l.response)==null?void 0:r.data)==null?void 0:t.message)||"Failed to create requirement detail",b("error",a.value)}}return L(async()=>{var r;const x=((r=(await z(v.requirementId)).data)==null?void 0:r.requirement)||{};d.value=await m.fetchDepartmentEmployee([x.from_department_id])}),(x,r)=>(o(),u("div",{class:"max-h-[90vh] overflow-auto w-full mx-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative",ref_key:"formContainerRef",ref:_},[e("div",fe,[r[8]||(r[8]=e("h2",{class:"text-2xl font-semibold text-gray-800"},"Add Requirement",-1)),r[9]||(r[9]=e("hr",{class:"mb-4"},null,-1)),e("div",{class:"text-purple-600/80 mb-4 text-xs border-b border-dashed",onClick:r[0]||(r[0]=k(t=>b("ok"),["prevent"]))}," Fields that must be filled in will be marked with an asterisk. ")]),e("form",{onSubmit:k(c,["prevent"]),class:"z-0"},[s.value!=="loading"?(o(),u(V,{key:0},[e("div",ye,[e("label",ge,[r[10]||(r[10]=F("Title ")),q(se)]),S(e("input",{"onUpdate:modelValue":r[1]||(r[1]=t=>i.value.title=t),required:"",placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,i.value.title]])]),e("div",we,[r[11]||(r[11]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Details",-1)),S(e("textarea",{rows:"10","onUpdate:modelValue":r[2]||(r[2]=t=>i.value.description=t),placeholder:"Enter requirement description",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,i.value.description]])]),e("div",ke,[r[12]||(r[12]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Supervisor",-1)),q(le,{modelValue:i.value.supervisor_id,"onUpdate:modelValue":r[4]||(r[4]=t=>i.value.supervisor_id=t),options:d.value,placeholder:"--NO SUPERVISOR--",containment:_.value},{option:I(({option:t})=>[q(N,{user:t||{}},null,8,["user"])]),"selected-option":I(({option:t})=>[t?(o(),u("div",_e,[q(N,{user:t||{}},null,8,["user"]),$.value?(o(),u("div",$e,[e("button",{onClick:r[3]||(r[3]=k(l=>$.value=null,["prevent"])),class:"text-gray-6 font-semibold 00 hover:text-red-700"}," × ")])):f("",!0)])):f("",!0)]),_:1},8,["modelValue","options","containment"])]),e("div",qe,[r[14]||(r[14]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Priority ",-1)),S(e("select",{class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500","onUpdate:modelValue":r[5]||(r[5]=t=>i.value.priority=t)},r[13]||(r[13]=[e("option",{value:""},"NORMAL",-1),e("option",null,"IMPORTANT",-1),e("option",null,"URGENT",-1)]),512),[[te,i.value.priority]])]),e("div",he,[r[15]||(r[15]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Better to Complete ",-1)),S(e("input",{type:"date","onUpdate:modelValue":r[6]||(r[6]=t=>i.value.better_to_complete_on=t),placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,i.value.better_to_complete_on]])])],64)):f("",!0),e("div",Ce,[a.value?(o(),u("div",Re,g(a.value),1)):f("",!0),a.value?(o(),u("hr",De)):f("",!0),e("div",Se,[e("button",{type:"button",onClick:r[7]||(r[7]=k(t=>b("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:s.value=="loading"||s.value=="submitting",type:"submit",class:"bg-blue-500 hover:bg-blue-600 text-white font-semibold px-5 py-2 rounded transition"},g(s.value=="submitting"?"Saving...":"Add Requirement"),9,Ie)])])],32),s.value==="loading"||s.value==="submitting"?(o(),D(M,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):f("",!0)],512))}},Ve={class:"max-h-[90vh] overflow-auto w-full mx-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative"},Fe={class:"mb-4"},Ue={class:"font-semibold"},Ne={class:"mb-4"},Te={class:"line-clamp-2"},Le={key:1,class:"min-h-40"},Me={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},Ae={key:0,class:"mb-4 text-red-500 font-medium"},Oe={key:1,class:"mb-4"},je={class:"flex items-center justify-between gap-4"},ze=["disabled"],Pe={__name:"RequirementDetailDeleteForm",props:{requirementId:{type:[Number,String],required:!0},detailId:{type:[Number,String],required:!0}},emits:["delete","closeClick","error"],setup(p,{emit:w}){const v=p,b=w,m=oe(),_=y(null),s=y(""),a=y(),i=y([]);async function $(){var d,c;s.value="submitting";try{const x=await xe(v.requirementId,v.detailId);b("delete",x),s.value="create"}catch(x){s.value="error",a.value=((c=(d=x.response)==null?void 0:d.data)==null?void 0:c.message)||"Failed to update requirement detail: "+x,b("error",a.value)}}return L(async()=>{var d,c,x;s.value="loading";try{i.value=await m.fetchDepartmentWiseEmployees(),_.value=(d=(await ie(v.requirementId,v.detailId)).data)==null?void 0:d.detail}catch(r){a.value=((x=(c=r.response)==null?void 0:c.data)==null?void 0:x.message)||"Failed to fetch requirement detail"}finally{s.value=""}}),(d,c)=>{var x,r;return o(),u("div",Ve,[c[4]||(c[4]=e("div",{class:"sticky top-0 -mx-6 px-6 z-10 bg-gray-50"},[e("h2",{class:"text-xl font-semibold text-gray-800 py-2"},"Delete Requirement Details"),e("hr",{class:"mb-4 -mx-6"})],-1)),e("form",{onSubmit:k($,["prevent"]),class:"z-0"},[s.value!=="loading"?(o(),u(V,{key:0},[e("div",Fe,[c[1]||(c[1]=e("div",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Title",-1)),e("div",Ue,g((x=_.value)==null?void 0:x.title),1)]),e("div",Ne,[c[2]||(c[2]=e("div",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Description",-1)),e("div",Te,g((r=_.value)==null?void 0:r.description),1)]),c[3]||(c[3]=e("div",{class:"my-8 text-center text-xl text-red-600"},"Are you sure want to delete?",-1))],64)):(o(),u("div",Le)),e("div",Me,[a.value?(o(),u("div",Ae,g(a.value),1)):f("",!0),a.value?(o(),u("hr",Oe)):f("",!0),e("div",je,[e("button",{type:"button",onClick:c[0]||(c[0]=k(t=>b("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:s.value=="loading"||s.value=="submitting",type:"submit",class:"bg-red-700 hover:bg-red-500 text-white font-semibold px-5 py-2 rounded transition"},g(s.value=="submitting"?"Deleting...":"Delete"),9,ze)])])],32),s.value==="loading"||s.value==="submitting"?(o(),D(M,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):f("",!0)])}}},Be={class:"sticky top-0 pt-4 bg-white z-10"},We={class:"mb-4"},Ge={class:"block text-gray-600 text-sm mb-1 font-medium"},He={class:"mb-4"},Qe={class:"mb-4"},Je={key:0,class:"relative w-full"},Ke={key:0,class:"absolute right-1 text-xl top-0 bottom-0 flex items-center"},Xe={class:"mb-4"},Ye={class:"mb-4"},Ze={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},et={key:0,class:"mb-4 text-red-500 font-medium"},tt={key:1,class:"mb-4"},st={class:"flex items-center justify-between gap-4"},rt=["disabled"],lt={__name:"RequirementDetailEditForm",props:{requirementId:{type:[Number,String],required:!0},detailId:{type:[Number,String],required:!0}},emits:["update","closeClick","error"],setup(p,{emit:w}){const v=p,b=w,m=y(),_=oe(),s=re(),a=y(null),i=y(""),$=y(),d=y({title:"",description:"",priority:"",better_to_complete_on:"",supervisor_id:null}),c=y([]),x=y([]);async function r(){var l,C;i.value="submitting";const t={...d.value};try{const n=await ce(v.requirementId,v.detailId,t);b("update",n),i.value="create"}catch(n){i.value="error",$.value=((C=(l=n.response)==null?void 0:l.data)==null?void 0:C.message)||"Failed to update requirement detail",b("error",$.value)}}return L(async()=>{var t,l,C,n;i.value="loading";try{c.value=await _.fetchDepartmentWiseEmployees();const R=((t=(await z(v.requirementId)).data)==null?void 0:t.requirement)||{};x.value=await s.fetchDepartmentEmployee([R.from_department_id]),a.value=(l=(await ie(v.requirementId,v.detailId)).data)==null?void 0:l.detail,d.value=a.value;const E=new Date(a.value.better_to_complete_on);d.value.better_to_complete_on=E.toISOString().split("T")[0]}catch(R){$.value=((n=(C=R.response)==null?void 0:C.data)==null?void 0:n.message)||"Failed to fetch requirement detail"}finally{i.value=""}}),(t,l)=>{var C;return o(),u("div",{ref_key:"formContainerRef",ref:m,class:"max-h-[90vh] w-full mx-auto overflow-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative"},[e("div",Be,[l[8]||(l[8]=e("h2",{class:"text-2xl font-semibold text-gray-800"},"Edit Requirement",-1)),l[9]||(l[9]=e("hr",{class:"mb-4"},null,-1)),e("div",{class:"text-purple-600/80 mb-4 text-xs border-b border-dashed",onClick:l[0]||(l[0]=k(n=>b("ok"),["prevent"]))}," Fields that must be filled in will be marked with an asterisk. ")]),e("form",{onSubmit:k(r,["prevent"]),class:"z-0"},[i.value!=="loading"?(o(),u(V,{key:0},[e("div",We,[e("label",Ge,[l[10]||(l[10]=F("Title ")),q(se)]),S(e("input",{"onUpdate:modelValue":l[1]||(l[1]=n=>d.value.title=n),required:"",placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,d.value.title]])]),e("div",He,[l[11]||(l[11]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Description",-1)),S(e("textarea",{rows:"10","onUpdate:modelValue":l[2]||(l[2]=n=>d.value.description=n),placeholder:"Enter requirement description",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,d.value.description]])]),e("div",Qe,[l[12]||(l[12]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Supervisor",-1)),q(le,{modelValue:d.value.supervisor_id,"onUpdate:modelValue":l[4]||(l[4]=n=>d.value.supervisor_id=n),options:[...x.value,...x.value.find(n=>{var R,E;return n.id==((E=(R=a.value)==null?void 0:R.supervisor)==null?void 0:E.id)})?[]:[(C=a.value)==null?void 0:C.supervisor]],containment:m.value,placeholder:"--NO SUPERVISOR--"},{option:I(({option:n})=>[q(N,{user:n||{}},null,8,["user"])]),"selected-option":I(({option:n})=>[n?(o(),u("div",Je,[q(N,{user:n||{}},null,8,["user"]),d.value.supervisor_id?(o(),u("div",Ke,[e("button",{onClick:l[3]||(l[3]=k(R=>d.value.supervisor_id=null,["prevent"])),class:"text-gray-6 font-semibold 00 hover:text-red-700"}," × ")])):f("",!0)])):f("",!0)]),_:1},8,["modelValue","options","containment"])]),e("div",Xe,[l[14]||(l[14]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Priority ",-1)),S(e("select",{class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500","onUpdate:modelValue":l[5]||(l[5]=n=>d.value.priority=n)},l[13]||(l[13]=[e("option",{value:""},"NORMAL",-1),e("option",null,"IMPORTANT",-1),e("option",null,"URGENT",-1)]),512),[[te,d.value.priority]])]),e("div",Ye,[l[15]||(l[15]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Better to Complete ",-1)),S(e("input",{type:"date","onUpdate:modelValue":l[6]||(l[6]=n=>d.value.better_to_complete_on=n),placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,d.value.better_to_complete_on]])])],64)):f("",!0),e("div",Ze,[$.value?(o(),u("div",et,g($.value),1)):f("",!0),$.value?(o(),u("hr",tt)):f("",!0),e("div",st,[e("button",{type:"button",onClick:l[7]||(l[7]=k(n=>b("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:i.value=="loading"||i.value=="submitting",type:"submit",class:"bg-blue-500 hover:bg-blue-600 text-white font-semibold px-5 py-2 rounded transition"},g(i.value=="submitting"?"Saving...":"Edit Detail"),9,rt)])])],32),i.value==="loading"||i.value==="submitting"?(o(),D(M,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):f("",!0)],512)}}},ot={class:"group/item border text-gray-800 py-4 shadow-sm mb-4 px-4 rounded-md hover:bg-blue-50"},it={class:"border-2 border-gray-700 p-3 align-top"},nt={class:"text-2xl font-medium"},at={class:"border-2 border-gray-700 p-3"},dt={class:"text-lg font-semibold mb-2"},ut={class:"mb-5"},mt={class:"text-justify"},pt=["innerHTML"],bt={class:"flex items-end"},vt={class:"flex items-center gap-1 mb-3"},ct={class:"text-blue-400 font-semibold"},xt={class:"ml-auto flex gap-6 items-center"},ft={class:"border-2 border-gray-700 p-3 whitespace-nowrap print:whitespace-break-spaces print:px-0 text-center"},yt={key:1,colspan:"2",class:"border-2 border-gray-700 p-3 text-center"},gt={__name:"RequirementDetailTableRow",props:{detail:{type:Object},serial:{type:Number}},emits:["editClick","deleteClick"],setup(p,{emit:w}){const v=w,b=y("line-clamp-2");function m(){b.value=b.value?"":"line-clamp-2"}return(_,s)=>(o(),u("tr",ot,[e("td",it,[e("span",nt,g(p.serial),1)]),e("td",at,[e("div",null,[e("div",dt,[e("span",null,g(p.detail.title),1)]),s[3]||(s[3]=e("hr",{class:"mb-4 -mx-4"},null,-1)),e("div",ut,[s[2]||(s[2]=e("div",{class:"text-gray-400 mr-2 text-xs uppercase font-semibold"},"Description",-1)),e("div",mt,[e("p",{class:ne(["print:line-clamp-none",b.value]),innerHTML:p.detail.description},null,10,pt),e("button",{class:"text-blue-500 group-hover/item:underline hover:text-sky-400 ml-auto text-sm print:hidden",onClick:k(m,["prevent"])},g(b.value?"Show More":"Show Less"),1)])])]),e("div",bt,[e("div",null,[e("div",vt,[s[4]||(s[4]=e("span",{class:"text-gray-400 mr-2 text-xs uppercase font-semibold"},"Supervisor:",-1)),p.detail.supervisor?(o(),D(be,{key:0,user:p.detail.supervisor},null,8,["user"])):f("",!0)]),e("div",null,[s[5]||(s[5]=e("span",{class:"text-gray-500 mr-2 text-xs uppercase font-semibold"},"Priority:",-1)),e("span",ct,g(p.detail.priority),1)])]),e("div",xt,[e("button",{class:"btn-2",onClick:s[0]||(s[0]=k(a=>v("editClick",p.detail),["prevent"]))},s[6]||(s[6]=[e("i",{class:"fas fa-edit"},null,-1),F("Edit ")])),e("button",{class:"btn-2-red",onClick:s[1]||(s[1]=k(a=>v("deleteClick",p.detail),["prevent"]))},s[7]||(s[7]=[e("i",{class:"fas fa-trash-alt"},null,-1),F("Delete ")]))])])]),e("td",ft,[e("div",null,g(new Date(p.detail.better_to_complete_on).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",weekday:"short"})),1)]),p.detail.task_id?(o(),u(V,{key:0},[s[8]||(s[8]=e("td",{class:"border-2 border-gray-700 p-3"},null,-1)),s[9]||(s[9]=e("td",{class:"border-2 border-gray-700 p-3"},null,-1))],64)):(o(),u("td",yt,s[10]||(s[10]=[e("button",{class:"print:hidden hover:border-2 group-hover/item:bg-blue-200 hover:border-blue-700 text-blue-500 hover:text-white hover:!bg-blue-500 rounded-md px-4 py-1"}," Create Task ",-1)])))]))}},wt={class:"container mx-auto p-6 print:p-0 w-full print:max-w-full"},kt={class:"bg-white rounded shadow print:shadow-none p-4 print:p-0 relative"},_t={class:"flex items-start"},$t={class:"mb-4 text-lg print:black print:font-bold"},qt={class:"ml-auto print:hidden flex gap-2 items-center"},ht={class:"mb-4 flex items-center gap-1 print:mb-1"},Ct={class:"font-bold print:text-gray-900"},Rt={class:"mb-4 print:flex print:items-center print:gap-3 print:mb-1"},Dt={class:"print:text-gray-900"},St={class:"mb-4 print:flex print:items-center print:gap-3 print:mb-1"},It={class:"flex items-center gap-2 print:text-gray-900"},Et={class:"mb-4 print:flex print:items-center print:gap-3 print:mb-1"},Vt={class:"print:text-gray-900"},Ft={key:0,class:"overflow-x-auto print:overflow-visible"},Ut={class:"w-full table-auto print:table-fixed"},Nt={colspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base font-semibold whitespace-nowrap px-3 py-1 print:whitespace-normal w-[25%]"},Tt={class:"whitespace-nowrap print:whitespace-break-spaces print:px-0 p-3 text-center border-2 border-gray-800"},Lt={class:"text-gray-900 text-base"},Mt={class:"mb-8 border rounded-md p-8 flex items-center justify-center bg-gray-50"},Xt={__name:"RequirementShow",setup(p){const w=ae(),v=de(),b=y(""),m=y(null),_=O({open:!1}),s=O({detail:null,open:!1}),a=O({detail:null,open:!1});L(async()=>{await i()});async function i(){var r;b.value="loading",m.value=(r=(await z(w.params.id)).data)==null?void 0:r.requirement,b.value=""}function $(){_.open=!0}function d(r){s.open=!0,s.detail=r}function c(r){a.open=!0,a.detail=r}function x(){window.print()}return(r,t)=>{var C,n,R,E,P,B,W,G,H,Q,J,K,X;const l=ue("RouterLink");return o(),u("div",wt,[_.open?(o(),D(j,{key:0,class:"*:max-w-4xl"},{default:I(()=>[q(Ee,{requirementId:m.value.id,onCloseClick:t[0]||(t[0]=h=>_.open=!1),onCreate:t[1]||(t[1]=async()=>{_.open=!1,await i()})},null,8,["requirementId"])]),_:1})):f("",!0),s.open?(o(),D(j,{key:1},{default:I(()=>{var h;return[q(lt,{requirementId:m.value.id,detailId:(h=s.detail)==null?void 0:h.id,onCloseClick:t[2]||(t[2]=A=>s.open=!1),onUpdate:t[3]||(t[3]=async()=>{s.open=!1,await i()})},null,8,["requirementId","detailId"])]}),_:1})):f("",!0),a.open?(o(),D(j,{key:2},{default:I(()=>{var h;return[q(Pe,{requirementId:m.value.id,detailId:(h=a.detail)==null?void 0:h.id,onCloseClick:t[4]||(t[4]=A=>a.open=!1),onDelete:t[5]||(t[5]=async()=>{a.open=!1,await i()})},null,8,["requirementId","detailId"])]}),_:1})):f("",!0),e("div",kt,[e("div",_t,[e("div",$t,[t[7]||(t[7]=e("div",{class:"text-gray-800 leading-none"},"To",-1)),e("div",null,g((n=(C=m.value)==null?void 0:C.to_department)==null?void 0:n.name),1)]),e("div",qt,[(((R=m.value)==null?void 0:R.details)||[]).length>0?(o(),u("button",{key:0,class:"btn-3 font-semibold !pl-2 !pr-4",onClick:k(x,["prevent"])},t[8]||(t[8]=[e("i",{class:"fad fa-print text-xl"},null,-1),F("Print ")]))):f("",!0),e("button",{class:"btn-3",onClick:t[6]||(t[6]=k(()=>me(v).back(),["prevent"]))},"Back"),q(l,{class:"btn-2",to:`/requirements/edit/${(E=m.value)==null?void 0:E.id}`},{default:I(()=>t[9]||(t[9]=[F("Edit")])),_:1,__:[9]},8,["to"])])]),t[22]||(t[22]=e("div",{class:"text-center text-xl font-bold mb-2 underline"},"Requirement Form",-1)),e("div",ht,[t[10]||(t[10]=e("div",{class:"text-gray-800 text-sm"},"Requirement ID:",-1)),e("div",Ct,g((P=m.value)==null?void 0:P.id),1)]),e("div",Rt,[t[11]||(t[11]=e("div",{class:"text-gray-800 text-sm"},"From",-1)),e("div",Dt,g((W=(B=m.value)==null?void 0:B.from_department)==null?void 0:W.name),1)]),e("div",St,[t[12]||(t[12]=e("div",{class:"text-gray-500 text-sm"},"Website",-1)),e("div",It,[(o(!0),u(V,null,ee(((G=m.value)==null?void 0:G.website_tags)||[],h=>(o(),u("div",{key:h.id,class:"border px-2 rounded-md bg-gray-50 shadow-sm"},g(h.name),1))),128))])]),e("div",Et,[t[13]||(t[13]=e("div",{class:"text-gray-500 text-sm"},"Submission Date",-1)),e("div",Vt,g(new Date((H=m.value)==null?void 0:H.submission_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})),1)]),t[23]||(t[23]=e("hr",{class:"mb-4"},null,-1)),e("div",null,[t[21]||(t[21]=e("div",{class:"flex items-end mb-3"},[e("h2",{class:"text-xl font-semibold"},"Requirements"),e("div",{class:"ml-auto print:hidden flex gap-2 text-sm"})],-1)),(((Q=m.value)==null?void 0:Q.details)||[]).length>0?(o(),u("div",Ft,[e("table",Ut,[e("thead",null,[e("tr",null,[t[14]||(t[14]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-left px-4 text-gray-800 print:text-black text-xl font-semibold whitespace-nowrap w-[15%]"}," SL ",-1)),t[15]||(t[15]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base font-semibold whitespace-nowrap w-[65%]"}," Requirement Details ",-1)),t[16]||(t[16]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base px-3 font-semibold whitespace-nowrap print:whitespace-normal print:p-0 w-[15%]"}," Better To Complete ",-1)),e("th",Nt," For '"+g(((J=m.value.to_department)==null?void 0:J.short_name)||((K=m.value.to_department)==null?void 0:K.name))+"' Use ",1)]),t[17]||(t[17]=e("tr",null,[e("td",{class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-sm font-semibold whitespace-nowrap p-3 print:whitespace-normal"}," Issue No "),e("td",{class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-sm font-semibold whitespace-nowrap p-3 print:whitespace-normal print:p-0"}," Expected Date ")],-1))]),e("tbody",null,[(o(!0),u(V,null,ee(((X=m.value)==null?void 0:X.details)||[],(h,A)=>{var Y,Z;return o(),u(V,{key:h.id},[q(gt,{detail:h,serial:A+1,onEditClick:d,onDeleteClick:c},null,8,["detail","serial"]),e("tr",null,[e("td",Tt,[e("div",Lt," For '"+g(((Y=m.value.to_department)==null?void 0:Y.short_name)||((Z=m.value.to_department)==null?void 0:Z.name))+"' Use ",1),t[18]||(t[18]=e("div",{class:"text-gray-800 text-xs"},"(Feedback)",-1))]),t[19]||(t[19]=e("td",{class:"whitespace-nowrap p-3 text-center border-2 border-gray-800",colspan:"4"},null,-1))])],64)}),128))])])])):f("",!0),e("div",Mt,[e("button",{class:"btn-2 pl-2 text-base",onClick:k($,["prevent"])},t[20]||(t[20]=[e("i",{class:"fad fa-plus-circle text-2xl mr-2"},null,-1),F("Add Requirement ")]))])]),b.value==="loading"?(o(),D(M,{key:0,class:"absolute inset-0 bg-opacity-90"})):f("",!0)])])}}};export{Xt as default};
