import{E as D,r as d,p as v,G as c}from"./index-BqOPO9nR.js";const E=D("designation",()=>{const l=d([]),p=d(null),r=d(!1),o=d(null),f=async(a=null)=>{var s,n;r.value=!0,o.value=null;try{const i=(await c.get("/designations",{params:{company_id:a}})).data.map(t=>{var u;return{...t,companyName:((u=t==null?void 0:t.company)==null?void 0:u.name)||"Unknown Company"}}).reduce((t,u)=>{const{companyName:g}=u;return t[g]||(t[g]=[]),t[g].push(u),t},{});l.value=i}catch(e){o.value=((n=(s=e.response)==null?void 0:s.data)==null?void 0:n.message)||"ডিজাইনেশন লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching designations:",e)}finally{r.value=!1}},y=async a=>{var s,n;r.value=!0,o.value=null;try{const e=await c.get(`/designations/${a}`);p.value=e.data}catch(e){o.value=((n=(s=e.response)==null?void 0:s.data)==null?void 0:n.message)||`ডিজাইনেশন (ID: ${a}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching designation with id ${a}:`,e)}finally{r.value=!1}},m=async a=>{var s,n;r.value=!0,o.value=null;try{const e=await c.post("/designations",a);return l.value.push(e.data),e.data}catch(e){o.value=((n=(s=e.response)==null?void 0:s.data)==null?void 0:n.message)||"ডিজাইনেশন তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating designation:",e)}finally{r.value=!1}},h=async(a,s)=>{var n,e;r.value=!0,o.value=null;try{const i=await c.put(`/designations/${a}`,s),t=l.value.findIndex(u=>u.id===a);return t!==-1&&(l.value[t]=i.data),i.data}catch(i){o.value=((e=(n=i.response)==null?void 0:n.data)==null?void 0:e.message)||`ডিজাইনেশন (ID: ${a}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating designation with id ${a}:`,i)}finally{r.value=!1}},w=async a=>{var s,n;r.value=!0,o.value=null;try{await c.delete(`/designations/${a}`),l.value=l.value.filter(e=>e.id!==a)}catch(e){o.value=((n=(s=e.response)==null?void 0:s.data)==null?void 0:n.message)||`ডিজাইনেশন (ID: ${a}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting designation with id ${a}:`,e)}finally{r.value=!1}};return{designations:v(()=>l.value),designation:v(()=>p.value),loading:v(()=>r.value),error:v(()=>o.value),fetchDesignations:f,fetchDesignation:y,createDesignation:m,updateDesignation:h,deleteDesignation:w}});export{E as u};
