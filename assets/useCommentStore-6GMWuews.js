import{B as $,r as v,x as m,C as c}from"./index-Bkkl4RUI.js";const I=$("comment",()=>{const r=v([]),i=v(null),l=v(!1),u=v(""),s=v(null),f=async a=>{var n,t;l.value=!0,s.value=null;try{const e=await c.get("/comments",{params:a});r.value=e.data}catch(e){s.value=((t=(n=e.response)==null?void 0:n.data)==null?void 0:t.message)||"কমেন্ট লোড করতে ব্যর্থ হয়েছে।"}finally{l.value=!1}},p=async a=>{var n,t;u.value="fetching",l.value=!0,s.value=null;try{const e=await c.get(`/comments/${a}`);i.value=e.data}catch(e){s.value=((t=(n=e.response)==null?void 0:n.data)==null?void 0:t.message)||`কমেন্ট (ID: ${a}) লোড করতে ব্যর্থ হয়েছে।`}finally{u.value="",l.value=!1}},g=async a=>{var n,t;u.value="creating",l.value=!0,s.value=null;try{const o=(await c.post("/comments",a)).data.data;return r.value.push(o),o}catch(e){throw s.value=((t=(n=e.response)==null?void 0:n.data)==null?void 0:t.message)||"কমেন্ট তৈরি করতে ব্যর্থ হয়েছে।",e}finally{l.value=!1,u.value=""}},y=async(a,n)=>{var t,e;u.value="updating",l.value=!0,s.value=null;try{const o=await c.put(`/comments/${a}`,n),d=r.value.findIndex(C=>C.id===a);return d!==-1&&(r.value[d]=o.data.data),o.data.data}catch(o){throw s.value=((e=(t=o.response)==null?void 0:t.data)==null?void 0:e.message)||`কমেন্ট (ID: ${a}) আপডেট করতে ব্যর্থ হয়েছে।`,o}finally{l.value=!1,u.value=""}},h=async a=>{var n,t;u.value="deleting",l.value=!0,s.value=null;try{await c.delete(`/comments/${a}`),r.value=r.value.filter(e=>e.id!==a)}catch(e){throw s.value=((t=(n=e.response)==null?void 0:n.data)==null?void 0:t.message)||`কমেন্ট (ID: ${a}) মুছতে ব্যর্থ হয়েছে।`,e}finally{l.value=!1,u.value=""}},w=async a=>{var n,t;u.value="acknowledging",l.value=!0,s.value=null;try{const e=await c.post(`/comments/${a}/acknowledge`),o=r.value.findIndex(d=>d.id===a);return o!==-1&&(r.value[o]=e.data.data),e.data.data}catch(e){throw s.value=((t=(n=e.response)==null?void 0:n.data)==null?void 0:t.message)||`কমেন্ট (ID: ${a}) একনলেজ করতে ব্যর্থ হয়েছে।`,e}finally{l.value=!1,u.value=""}};return{comments:m(()=>r.value),comment:m(()=>i.value),loading:m(()=>l.value),error:m(()=>s.value),action:m(()=>u.value),fetchComments:f,fetchComment:p,createComment:g,updateComment:y,deleteComment:h,acknowledgeComment:w}});export{I as u};
