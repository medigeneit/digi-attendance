import{_ as L}from"./AcceptAndRejectHandler-CtBD3-S5.js";import{L as T}from"./LoaderView-BSv7ggft.js";import{b as M,N as C,s as A,e as R,A as V,y as H,k as B,c as s,o as a,a as t,f as r,n as d,t as l,h as i,l as m,F as x,x as y,p as E}from"./index-DkDuW8so.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"space-y-6 px-4 py-4"},D={class:"md:text-2xl font-semibold capitalize text-gray-700"},F={key:0,class:"ml-auto text-xs bg-red-500 text-white rounded-full px-2 py-0.5 font-semibold"},I={key:0,class:"text-center text-red-500 py-10 text-xl italic"},$={key:1,class:"space-y-4"},j={class:"flex gap-2 md:gap-3 items-center"},O={class:"shrink-0 grow-0 btn-1 size-8 p-0"},U={class:"shrink grow font-semibold text-sm md:text-base"},Z={class:"ml-auto shrink-0 grow-0 flex gap-2 md:gap-3 items-center"},q=["href"],G=["innerHTML"],J={class:"flex flex-wrap gap-y-1 gap-x-3 items-center text-xs md:text-sm lg:text-base"},K={key:0},P={key:1},Q={class:"flex flex-wrap gap-y-1 gap-x-3 items-center text-xs md:text-sm lg:text-base"},W={key:0},X={class:"flex gap-3 items-center"},Y={class:"flex items-center gap-8"},ee={key:0,class:"flex flex-wrap flex-col md:flex-row gap-x-1 text-xs md:text-sm text-left"},te={key:0,class:"hidden md:inline font-bold"},se=["innerHTML"],pe={__name:"MySpecificNotificationList",setup(ae){const n=M(),c=C(),{icons:g,loading:v,notifications:_,count_notifications:u}=A(c);R(()=>{n.params.type&&(c.fetchCountNotifications(),c.fetchSpecificNotifications(n.params.type))}),V(()=>n.params.type,(p,o)=>{p&&p!==o&&(c.fetchCountNotifications(),c.fetchSpecificNotifications(p))});const k=async()=>{await c.fetchSpecificNotifications(n.params.type)},b={leave_applications:"LeaveApplicationShow",short_leave_applications:"ShortLeaveShow",shift_exchange_applications:"ExchangeShiftShow",offday_exchange_applications:"ExchangeOffdayShow",manual_attendance_applications:"ManualAttendanceShow"},w=H(()=>n.params.type?n.params.type.replace(/[_-]/g," ").replace(/([A-Z])/g," $1").replace(/\s+/g," ").trim().split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" "):"");return(p,o)=>{const S=B("RouterLink");return a(),s("div",z,[t("h2",D,[d(l(w.value||"Notifications")+" ",1),i(u)[i(n).params.type]?(a(),s("span",F,l(i(u)[i(n).params.type]),1)):r("",!0)]),i(v)?(a(),s("div",I,[m(T)])):i(_).length?(a(),s("div",$,[(a(!0),s(x,null,y(i(_),e=>{var f;return a(),s("div",{key:e.application_id,class:"bg-white p-3 md:p-4 rounded-xl shadow border grid gap-2"},[t("div",j,[t("div",O,l(i(g)[i(n).params.type]),1),t("div",U,l(e.user_name),1),t("div",Z,[e!=null&&e.attachment?(a(),s("a",{key:0,href:e.attachment,target:"_blank",class:"btn-4 px-2"},o[0]||(o[0]=[t("i",{class:"fad fa-link"},null,-1)]),8,q)):r("",!0),m(S,{to:{name:b[i(n).params.type],params:{id:e.application_id}},class:"btn-1 px-3"},{default:E(()=>o[1]||(o[1]=[t("i",{class:"far fa-eye"},null,-1)])),_:2},1032,["to"])])]),t("div",{class:"flex items-center text-red-600 text-xs md:text-sm lg:text-base",innerHTML:e.message},null,8,G),t("div",J,[e.type?(a(),s("div",K,[o[2]||(o[2]=t("span",{class:"text-gray-400"},"Type:",-1)),d(" "+l(e.type),1)])):r("",!0),e.duration?(a(),s("div",P,[o[3]||(o[3]=t("span",{class:"text-gray-400"},"Duration:",-1)),d(" "+l(e.duration),1)])):r("",!0)]),t("div",Q,[e.reason?(a(),s("div",W,[o[4]||(o[4]=t("span",{class:"text-gray-400"},"Reason:",-1)),d(" "+l(e.reason),1)])):r("",!0)]),t("div",X,[t("div",Y,[(f=e.messages)!=null&&f.length?(a(),s("p",ee,[(a(!0),s(x,null,y(e.messages,(N,h)=>(a(),s(x,{key:h},[h?(a(),s("span",te,"|")):r("",!0),t("span",{innerHTML:N,class:"text-black font-semibold"},null,8,se)],64))),128))])):r("",!0)]),m(L,{class:"ml-auto",notificationType:i(n).params.type,applicationId:e.application_id,onSuccess:k,variant:2},null,8,["notificationType","applicationId"])])])}),128))])):r("",!0)])}}};export{pe as default};
