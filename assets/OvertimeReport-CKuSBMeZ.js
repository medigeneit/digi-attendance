import{u as D,b as q,s as O,r as y,e as R,c as o,o as r,a as e,g as V,p as v,k as p,h as N,v as E,F as B,q as F,t as n}from"./index-CbJB_2xf.js";import{_ as M}from"./EmployeeFilter-IOZFGb0K.js";import{L as x}from"./LoaderView-BoVIpl_5.js";import{u as A}from"./overtime-CBDxMgLB.js";import"./sweetalert2.esm.all-BQIkj5Wb.js";import"./MultiselectDropdown-BepXLz_R.js";import"./company-CoCVAbAK.js";import"./department-D-FOQ8bo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"space-y-2 px-4"},L={class:"flex flex-wrap items-center gap-2"},P={key:0,class:"text-center py-4"},S={key:1,class:"text-center py-4"},H={key:2,class:"space-y-4"},U={key:0,class:"overflow-x-auto"},j={class:"table-auto w-full border text-sm bg-white"},$={class:"border p-2"},z={class:"border p-2"},G={class:"border p-2"},I={class:"border p-2"},J={class:"border p-2"},K={class:"border p-2"},Q={class:"border p-2"},W={key:1,class:"text-center text-red-500 text-xl italic mt-10"},ne={__name:"OvertimeReport",setup(X){const m=D(),u=q(),i=A(),{reports:_,loading:f,selectedMonth:h}=O(i),l=y(u.query.date||h.value),a=y({company_id:"",department_id:"all",type:"all",employee_id:""}),b=async()=>{var c,t,s,d;m.replace({query:{...u.query,company_id:(c=a.value)==null?void 0:c.company_id,department_id:(t=a.value)==null?void 0:t.department_id,type:(s=a.value)==null?void 0:s.type,employee_id:(d=a.value)==null?void 0:d.employee_id}}),a.value.company_id&&l.value&&i.getCompanyDepartmentOvertimeReport(l.value,a.value)},g=()=>{m.replace({query:{...u.query,date:l.value}}),a.value.company_id&&l.value&&i.getCompanyDepartmentOvertimeReport(l.value,a.value)},k=()=>m.go(-1),C=()=>{l.value&&i.exportCompanyDepartmentOvertimeExcel(l.value,a.value)},w=()=>{l.value&&i.exportCompanyDepartmentOvertimePdf(l.value,a.value)};return R(()=>{a.value.company_id&&l.value&&i.getCompanyDepartmentOvertimeReport(l.value,a.value)}),(c,t)=>(r(),o("div",T,[e("div",{class:"flex items-center justify-between gap-2"},[e("button",{class:"btn-3",onClick:k},t[2]||(t[2]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),t[5]||(t[5]=e("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Monthly Overtime Report",-1)),e("div",{class:"flex gap-2"},[e("button",{onClick:C,class:"btn-3",title:"Download Excel"},t[3]||(t[3]=[e("i",{class:"far fa-file-excel text-2xl text-green-500"},null,-1)])),e("button",{onClick:w,class:"btn-3",title:"Download PDF"},t[4]||(t[4]=[e("i",{class:"far fa-file-pdf text-2xl text-red-500"},null,-1)]))])]),e("div",L,[v(M,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=s=>a.value=s),"initial-value":p(u).query,onFilterChange:b},null,8,["modelValue","initial-value"]),e("div",null,[N(e("input",{id:"user-filter","onUpdate:modelValue":t[1]||(t[1]=s=>l.value=s),onChange:g,type:"month",class:"input-1"},null,544),[[E,l.value]])])]),p(f)?(r(),o("div",P,[v(x)])):V("",!0),p(f)?(r(),o("div",S,[v(x)])):(r(),o("div",H,[p(_).length?(r(),o("div",U,[e("table",j,[t[6]||(t[6]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"border p-2 text-left"},"#"),e("th",{class:"border p-2 text-left"},"Employee"),e("th",{class:"border p-2 text-left"},"Company"),e("th",{class:"border p-2 text-left"},"Department"),e("th",{class:"border p-2 text-left"},"Overtime Entries"),e("th",{class:"border p-2 text-left"},"Total Request Hours"),e("th",{class:"border p-2 text-left"},"Total Approval Hours")])],-1)),e("tbody",null,[(r(!0),o(B,null,F(p(_),(s,d)=>(r(),o("tr",{key:d,class:"hover:bg-blue-50"},[e("td",$,n(d+1),1),e("td",z,n(s.user_name||"N/A"),1),e("td",G,n(s.company_name||"N/A"),1),e("td",I,n(s.department_name||"N/A"),1),e("td",J,n(s.total_overtime_entries),1),e("td",K,n(s.total_request_overtime_hours),1),e("td",Q,n(s.total_approval_overtime_hours),1)]))),128))])])])):(r(),o("div",W," No data available for this month. "))]))]))}};export{ne as default};
