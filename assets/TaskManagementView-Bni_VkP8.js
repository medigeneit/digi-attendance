import{o as l,c as i,a as t,t as n,p as h,s as w,b,F as y,q as f,k as T,h as g,x as B,e as C,y as q,g as N,f as E,r as M,z as V,j as O,A as z,l as x,m as v,n as F}from"./index-BvbUXIE8.js";import{u as I}from"./useBugStore-B1zIRpjx.js";import{u as A}from"./useMeetingStore-DkGE9nEe.js";import{u as R}from"./useProjectStore-BjuPr_YQ.js";import{u as H}from"./useTodoStore-BzK_37to.js";import{u as U}from"./useRequirementStore-KE5MmJxJ.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"bg-white rounded-lg p-4 shadow hover:shadow-md transition-shadow"},K={class:"flex items-center justify-between pb-2"},Q={class:"text-sm font-medium text-gray-700"},W={class:"text-2xl font-bold text-gray-900"},X={class:"text-xs text-gray-500 mt-1"},$={__name:"DashboardCard",props:{title:String,value:[String,Number],subtext:String,icon:String,color:String},setup(m){const _=`fa-${m.icon}`;return(d,r)=>(l(),i("div",J,[t("div",K,[t("h3",Q,n(m.title),1),t("i",{class:h(["fas",_,m.color,"text-sm"])},null,2)]),t("div",W,n(m.value),1),t("p",X,n(m.subtext),1)]))}},Y={class:"space-y-4"},Z={class:"space-y-4"},tt={class:"flex items-start justify-between"},et={class:"space-y-1"},st={class:"flex items-center gap-2"},ot={class:"text-xs font-medium text-gray-500"},at={class:"font-medium text-gray-800"},nt={class:"text-sm text-gray-500"},rt={class:"text-xs text-gray-500"},lt={key:0},it={key:1},ct={__name:"BugsTab",setup(m){const a=I(),{bugs:_}=w(a);b(()=>{a.fetchBugs()});const d=r=>{switch(r){case"Open":return"border-blue-500 text-blue-500";case"In Progress":return"border-yellow-500 text-yellow-500";case"Resolved":return"border-green-500 text-green-500";default:return"border-gray-300 text-gray-400"}};return(r,s)=>(l(),i("div",Y,[s[1]||(s[1]=t("h2",{class:"text-xl font-semibold"},"Bug Tracking",-1)),t("div",Z,[(l(!0),i(y,null,f(g(_),e=>{var o;return l(),i("div",{key:e.id,class:"rounded-lg border bg-white p-4 shadow hover:bg-gray-50 transition-colors"},[t("div",tt,[t("div",et,[t("div",st,[t("span",ot,n(e.id),1),t("span",{class:h(["text-xs font-medium px-2 py-1 rounded border",d(e.status)])},n(e.status),3)]),t("h3",at,n(e.title),1),t("p",nt,"Project: "+n((o=e.project)==null?void 0:o.name),1),t("p",rt,[e.users.length?(l(),i("span",lt,[s[0]||(s[0]=T(" Assigned to: ")),t("strong",null,n(e.users.map(c=>c.name).join(", ")),1)])):(l(),i("span",it,"Not assign"))])])])])}),128))])]))}},dt={class:"space-y-4"},ut={class:"space-y-2"},_t={class:"space-y-3"},mt={class:"flex items-start justify-between"},xt={class:"font-medium text-gray-800"},pt={class:"text-sm text-gray-500"},gt={class:"flex items-center gap-1 mt-2"},ht={class:"flex -space-x-2"},yt={key:0,class:"text-xs text-gray-500 ml-2"},ft={class:"flex flex-col gap-2 text-sm"},bt={__name:"MeetingsTab",setup(m){const a=A(),{meetings:_}=w(a);b(()=>{a.fetchMeetings()});const d=s=>s.split(" ").map(e=>e[0]).join("").toUpperCase(),r=B(()=>_.value.map(s=>{const e=new Date(s.start_time),o=new Date(s.end_time),c=p=>p.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}),u=p=>{const S=new Date,k=new Date(p),L=k.toDateString()===S.toDateString(),j=new Date;j.setDate(S.getDate()+1);const P=k.toDateString()===j.toDateString();return L?"Today":P?"Tomorrow":k.toLocaleDateString()};return{title:s.title,start_time:c(e),end_time:c(o),users:s.users.map(p=>p.name),day:u(s.start_time)}}));return(s,e)=>(l(),i("div",dt,[e[1]||(e[1]=t("h2",{class:"text-xl font-semibold"},"Scheduled Meetings",-1)),t("div",ut,[t("div",_t,[(l(!0),i(y,null,f(r.value,(o,c)=>(l(),i("div",{key:c,class:"rounded-lg border bg-white p-4 shadow hover:bg-gray-50 transition-colors"},[t("div",mt,[t("div",null,[t("h4",xt,n(o==null?void 0:o.title),1),t("p",pt,n(o.start_time)+" - "+n(o.end_time),1),t("div",gt,[t("div",ht,[(l(!0),i(y,null,f(o.users.slice(0,2),(u,p)=>(l(),i("div",{key:p,class:"w-6 h-6 rounded-full bg-gray-200 text-[10px] font-bold flex items-center justify-center text-gray-700 border"},n(d(u)),1))),128))]),o.users.length>2?(l(),i("span",yt," +"+n(o.users.length-2)+" more ",1)):C("",!0)])]),t("div",ft,[T(n(o==null?void 0:o.day)+" ",1),e[0]||(e[0]=t("button",{class:"text-blue-600 hover:underline"},"Details",-1))])])]))),128))])])]))}},vt={class:"space-y-4"},$t={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},wt={class:"flex justify-between items-center mb-2"},kt={class:"font-medium text-gray-800"},Tt={class:"text-sm text-gray-500 mb-1"},St={class:"text-sm text-gray-500 mb-1"},jt={__name:"ProjectsTab",setup(m){const a=R(),{projects:_}=w(a);return b(()=>{a.fetchProjects()}),(d,r)=>(l(),i("div",vt,[r[0]||(r[0]=t("h2",{class:"text-xl font-semibold"},"Project Overview",-1)),t("div",$t,[(l(!0),i(y,null,f(g(_),s=>{var e;return l(),i("div",{key:s.name,class:"rounded-lg border bg-white p-4 shadow hover:shadow-md transition-shadow"},[t("div",wt,[t("h3",kt,n(s.name),1),t("span",{class:h(["text-xs px-2 py-1 rounded text-white",s.priorityClass])},n(s.priority),3)]),t("p",Tt,"Company: "+n((e=s==null?void 0:s.company)==null?void 0:e.name),1),t("p",St," Total Requirements: "+n(s==null?void 0:s.requirements_count),1)])}),128))])]))}},Dt={class:"container mx-auto px-4 py-6"},Ct={key:0,class:"text-center text-gray-500 py-6"},Mt={key:1,class:"text-center text-red-500 py-6"},Rt={key:2},Lt={class:"grid gap-4"},Pt={key:0,class:"inline-flex items-center text-green-600 text-xs font-semibold bg-green-100 px-2 py-0.5 rounded-full"},Bt={class:"text-sm text-gray-500 mt-1"},qt={class:"inline-block bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-0.5 rounded"},Nt={class:"ml-2"},Et={class:"text-sm text-gray-500 mt-2"},Vt={class:"bg-gray-100 text-gray-700 px-2 py-0.5 ml-2 rounded-full text-xs"},D={__name:"ReportTab",setup(m){const a=H();return b(()=>{a.fetchTodos()}),(_,d)=>(l(),i("div",Dt,[d[1]||(d[1]=t("h2",{class:"text-2xl font-bold text-gray-800 mb-6"},"ğŸ“‹ Todo List",-1)),g(a).loading?(l(),i("div",Ct,"Loading...")):g(a).error?(l(),i("div",Mt,n(g(a).error),1)):(l(),i("div",Rt,[t("ul",Lt,[(l(!0),i(y,null,f(g(a).todos,r=>{var s,e;return l(),i("li",{key:r.id,class:"flex justify-between items-start gap-4 p-4 bg-white border rounded-lg shadow-sm hover:shadow-md transition"},[t("div",null,[t("h3",{class:h(["font-medium text-gray-800",{"line-through text-gray-400":r.status==="COMPLETED"}])},n(r.message),3),r.status==="COMPLETED"?(l(),i("span",Pt," âœ… Completed ")):C("",!0),t("p",Bt,[t("span",qt,n(r.todoable_type.split("\\").pop()),1),t("span",Nt,n(((s=r.todoable)==null?void 0:s.title)||"No title"),1)]),t("p",Et,[d[0]||(d[0]=t("i",{class:"far fa-user-friends"},null,-1)),t("span",Vt,n((e=r==null?void 0:r.user)==null?void 0:e.name),1)])])])}),128))])]))]))}},Ot={class:"space-y-4"},zt={class:"space-y-4"},Ft={class:"flex items-start justify-between"},It={class:"space-y-1"},At={class:"flex items-center gap-2"},Ht={class:"text-xs font-medium text-gray-500"},Ut={class:"font-medium text-gray-800"},Gt={class:"text-sm text-gray-500"},Jt={class:"text-right"},Kt={class:"text-sm"},Qt={class:"font-medium"},Wt={class:"text-gray-500"},Xt={class:"mt-1 h-2 w-24 bg-gray-200 rounded"},Yt={__name:"RequirementsTab",setup(m){const a=U(),{requirements:_}=w(a);b(()=>{a.fetchRequirements()});const d=r=>{switch(r){case"High":return"border-red-500 text-red-500";case"Medium":return"border-yellow-500 text-yellow-500";default:return"border-gray-300 text-gray-500"}};return(r,s)=>(l(),i("div",Ot,[s[0]||(s[0]=t("h2",{class:"text-xl font-semibold"},"Project Requirements",-1)),t("div",zt,[(l(!0),i(y,null,f(g(_),e=>{var o;return l(),i("div",{key:e.id,class:"rounded-lg border bg-white p-4 shadow hover:bg-gray-50 transition-colors"},[t("div",Ft,[t("div",It,[t("div",At,[t("span",Ht,n(e.id),1),t("span",{class:h(["text-xs px-2 py-1 rounded border",d(e.priority)])},n(e.priority),3)]),t("h3",Ut,n(e.title),1),t("p",Gt,"Project: "+n((o=e.project)==null?void 0:o.name),1)]),t("div",Jt,[t("div",Kt,[t("span",Qt,n(e.completed_tasks_count),1),t("span",Wt,"/"+n(e.tasks_count)+" tasks",1)]),t("div",Xt,[t("div",{class:"h-full bg-blue-500 rounded",style:q({width:e.completed_tasks_count/e.tasks_count*100+"%"})},null,4)])])])])}),128))])]))}},Zt={class:"space-y-4"},te={class:"flex gap-2 border rounded-md bg-white p-2"},ee=["onClick"],se={class:"bg-white rounded-lg p-4 shadow"},oe={__name:"Tabs",setup(m){const a=N(),_=E(),d=[{label:"Projects",value:"projects",icon:"fa-folder"},{label:"Requirements",value:"requirements",icon:"fa-file-alt"},{label:"Tasks",value:"tasks",icon:"fa-tasks"},{label:"Bugs",value:"bugs",icon:"fa-bug"},{label:"Meetings",value:"meetings",icon:"fa-users"},{label:"Reports",value:"reports",icon:"fa-file-chart-line"}],r=M(_.query.tab||"projects");V(r,e=>{a.push({query:{tab:e}})});const s={projects:jt,requirements:Yt,tasks:D,reports:D,bugs:ct,meetings:bt};return(e,o)=>(l(),i("div",Zt,[t("div",te,[(l(),i(y,null,f(d,c=>t("button",{key:c.value,onClick:u=>r.value=c.value,class:h(["flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium",r.value===c.value?"bg-blue-600 text-white shadow":"text-gray-600 hover:bg-gray-100"])},[t("i",{class:h(["fas",c.icon,"text-sm"])},null,2),T(" "+n(c.label),1)],10,ee)),64))]),t("div",se,[(l(),O(z(s[r.value])))])]))}},ae=G(oe,[["__scopeId","data-v-345591bb"]]),ne={class:"flex min-h-screen flex-col bg-slate-50"},re={class:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-6"},le={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-5"},pe={__name:"TaskManagementView",setup(m){const a=M({}),_=R();return b(async()=>{try{const d=await _.fetchTaskManagementSummary();a.value=d.data}catch(d){console.error("Failed to fetch summary:",d)}}),(d,r)=>{const s=F("RouterLink");return l(),i("div",ne,[t("main",re,[r[0]||(r[0]=t("div",{class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},[t("div",null,[t("h1",{class:"text-2xl font-bold tracking-tight"},"Task Management"),t("p",{class:"text-sm text-gray-500"}," Manage your projects, requirements, tasks, bugs, and meetings. ")])],-1)),t("div",le,[x(s,{to:{name:"ProjectList"}},{default:v(()=>{var e,o,c;return[x($,{title:"Projects",value:(e=a.value.projects)==null?void 0:e.total,subtext:`${(c=(o=a.value)==null?void 0:o.projects)==null?void 0:c.active} active projects`,icon:"folder",color:"text-cyan-500"},null,8,["value","subtext"])]}),_:1}),x(s,{to:{name:"RequirementList"}},{default:v(()=>{var e,o,c,u;return[x($,{title:"Requirements",value:(o=(e=a.value)==null?void 0:e.requirements)==null?void 0:o.total,subtext:`${(u=(c=a.value)==null?void 0:c.requirements)==null?void 0:u.completed} completed`,icon:"file-alt",color:"text-indigo-500"},null,8,["value","subtext"])]}),_:1}),x(s,{to:{name:"TaskList"}},{default:v(()=>{var e,o,c,u;return[x($,{title:"Tasks",value:(o=(e=a.value)==null?void 0:e.tasks)==null?void 0:o.total,subtext:`${(u=(c=a.value)==null?void 0:c.tasks)==null?void 0:u.completed} in completed`,icon:"tasks",color:"text-purple-500"},null,8,["value","subtext"])]}),_:1}),x(s,{to:{name:"BugList"}},{default:v(()=>{var e,o,c,u;return[x($,{title:"Bugs",value:(o=(e=a.value)==null?void 0:e.bugs)==null?void 0:o.total,subtext:`${(u=(c=a.value)==null?void 0:c.bugs)==null?void 0:u.solved} solved`,icon:"bug",color:"text-red-500"},null,8,["value","subtext"])]}),_:1}),x(s,{to:{name:"MeetingList"}},{default:v(()=>{var e,o,c,u;return[x($,{title:"Meetings",value:(o=(e=a.value)==null?void 0:e.meetings)==null?void 0:o.total,subtext:`${(u=(c=a.value)==null?void 0:c.meetings)==null?void 0:u.today} today`,icon:"users",color:"text-teal-500"},null,8,["value","subtext"])]}),_:1})]),x(ae)])])}}};export{pe as default};
