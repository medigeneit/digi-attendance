import{d as D,s as k,q as R,e as S,k as A,c as n,o as a,a as s,h as l,n as d,t as o,l as p,p as r,F as h,x as g,m as q,y as _}from"./index-CUUNTXsO.js";import{u as B}from"./user-CcZGdC_m.js";const P={class:"my-container"},U={class:"card-bg p-4 md:p-8"},N={key:0},V={class:"title-md"},C={class:"title-md"},M={key:1},j={key:0,class:"grid gap-4 md:grid-cols-3 mt-4"},E={class:"text-3xl"},F={class:"text-3xl"},H={class:"text-3xl"},W={class:"text-3xl"},$={class:"text-3xl"},z={class:"text-3xl"},I={key:1,class:"w-full mt-4"},Y={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},G={class:"bg-white shadow-md rounded-lg p-4"},J={class:"space-y-2"},K={class:"flex justify-between items-center px-4 py-2 rounded hover:bg-gray-50 transition-colors"},O={class:"font-semibold text-gray-800"},Q={key:0},X={key:1},Z={key:2},ss={class:"space-y-4"},ts={class:"flex-1 min-w-0"},es={class:"text-sm font-medium text-gray-900"},os={class:"text-xs text-gray-400 mt-1"},as={class:"bg-white shadow-md rounded-lg"},ls={class:"overflow-x-auto shadow-md sm:rounded-lg min-h-max"},ns={class:"min-w-full text-sm text-left text-gray-500"},ds={class:"px-6 py-4 font-medium text-gray-900"},is={class:"px-6 py-4"},rs={class:"px-6 py-4"},us={class:"px-6 py-4"},ys={__name:"DashBoard",setup(ps){const c=D(),y=B(),{dashboardInfo:m,selectedDate:L,userDashboard:x}=k(y),{user:u}=k(c),b=R(()=>{var f;return["admin","super_admin","developer"].includes((f=u==null?void 0:u.value)==null?void 0:f.role)});return S(async()=>{u.value||await c.fetchUser(),await y.fetchUserDashboardData(),b.value&&await y.fetchAdminDashboardData()}),(f,e)=>{var v,w;const i=A("RouterLink");return a(),n("div",P,[s("div",U,[l(u)?(a(),n("div",N,[s("p",null,[e[0]||(e[0]=d(" Hello ")),s("span",V,o(l(u).name)+"!",1)]),e[3]||(e[3]=s("h1",{class:"title-xl"},"Welcome back",-1)),s("p",null,[e[1]||(e[1]=s("i",{class:"fas fa-phone mr-2"},null,-1)),e[2]||(e[2]=d(" Your phone number is ")),s("span",C,o(l(u).phone),1)])])):(a(),n("div",M,e[4]||(e[4]=[s("p",null,"Loading...",-1)])))]),b.value&&l(c).adminMode?(a(),n("div",j,[p(i,{to:{name:"TodayAttendanceReport",query:{search:"all"}},class:"main-button"},{default:r(()=>{var t;return[s("span",E,o((t=l(m))==null?void 0:t.totalUsers),1),e[5]||(e[5]=d(" Total Employees "))]}),_:1}),p(i,{to:{name:"TodayAttendanceReport",query:{search:"Present"}},class:"main-button"},{default:r(()=>{var t;return[s("span",F,o((t=l(m))==null?void 0:t.todayPresents),1),e[6]||(e[6]=d(" Today Present "))]}),_:1}),p(i,{to:{name:"TodayAttendanceReport",query:{search:"Absent"}},class:"main-button"},{default:r(()=>{var t;return[s("span",H,o((t=l(m))==null?void 0:t.todayAbsents),1),e[7]||(e[7]=d(" Today Absent "))]}),_:1}),p(i,{to:{name:"LeaveApplicationList",query:{search:"today"}},class:"main-button"},{default:r(()=>{var t;return[s("span",W,o((t=l(m))==null?void 0:t.todayLeaves),1),e[8]||(e[8]=d(" Today Leave "))]}),_:1}),p(i,{to:{name:"LeaveApplicationList",query:{search:"tomorrow"}},class:"main-button"},{default:r(()=>{var t;return[s("span",$,o((t=l(m))==null?void 0:t.tomorrowLeaves),1),e[9]||(e[9]=d(" Tomorrow Leave "))]}),_:1}),p(i,{to:{name:"ShortLeaveList",query:{search:l(L)}},class:"main-button"},{default:r(()=>{var t;return[s("span",z,o((t=l(m))==null?void 0:t.todayShortLeaves),1),e[10]||(e[10]=d(" Today Short Leaves "))]}),_:1},8,["to"])])):(a(),n("div",I,[s("div",Y,[s("div",G,[s("div",J,[e[14]||(e[14]=s("div",{class:"flex items-center"},[s("i",{class:"fas fa-file mr-2 h-5 w-5"}),s("h2",{class:"text-xl font-semibold"},"Recent Applications")],-1)),(a(!0),n(h,null,g((v=l(x))==null?void 0:v.current_month_leave,t=>(a(),q(i,{to:{name:"MyLeaveApplicationShow",params:{id:t.id}},key:t.id},{default:r(()=>[s("div",K,[s("h3",O," Leave Application #"+o(t.id),1),s("p",{class:_(["text-sm font-medium flex items-center space-x-2",{"bg-gray-500 py-1.5 rounded-full px-4 text-white":t.status===null,"bg-yellow-500 py-1.5 rounded-full px-4 text-white":t.status==="Pending","bg-green-500 py-1.5 rounded-full px-4 text-white":t.status==="approved"}])},[t.status===null?(a(),n("span",Q,e[11]||(e[11]=[s("i",{class:"fas fa-clock mr-2"},null,-1),d(" Wait for Hanover ")]))):t.status==="Pending"?(a(),n("span",X,e[12]||(e[12]=[s("i",{class:"fas fa-hourglass-half mr-2"},null,-1),d(" Pending ")]))):(a(),n("span",Z,e[13]||(e[13]=[s("i",{class:"fas fa-check-circle mr-2"},null,-1),d(" Approved ")])))],2)])]),_:2},1032,["to"]))),128))]),e[16]||(e[16]=s("div",{class:"flex justify-between items-start mb-4"},[s("div",{class:"flex items-center"},[s("i",{class:"fas fa-file mr-2 h-5 w-5"}),s("h2",{class:"text-xl font-semibold"},"Recent Notices")])],-1)),s("div",ss,[(a(!0),n(h,null,g(l(x).notices,(t,T)=>(a(),n("div",{key:T,class:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors"},[s("div",{class:_(["p-1 rounded-full",t.priority==="high"?"bg-red-100":t.priority==="medium"?"bg-yellow-100":"bg-green-100"])},[s("span",{class:_(["h-4 w-4",t.priority==="high"?"bg-red-600":t.priority==="medium"?"bg-yellow-600":"bg-green-600","rounded-full inline-block"])},null,2)],2),s("div",ts,[s("p",es,o(t.title),1),s("p",os,o(t.published_at),1)]),p(i,{to:t.type===1?`/notice-details/${t.id}`:`/policy-details/${t.id}`,class:"text-blue-500 hover:text-blue-700 font-semibold"},{default:r(()=>e[15]||(e[15]=[d(" View Details ")])),_:2},1032,["to"])]))),128))])]),s("div",as,[e[18]||(e[18]=s("h2",{class:"text-xl font-semibold py-3 px-4"},"Leave Balance",-1)),s("div",ls,[s("table",ns,[e[17]||(e[17]=s("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[s("tr",null,[s("th",{scope:"col",class:"px-6 py-3"},"Type"),s("th",{scope:"col",class:"px-6 py-3"},"Total Days"),s("th",{scope:"col",class:"px-6 py-3"},"Used Days"),s("th",{scope:"col",class:"px-6 py-3"},"Remaining Days")])],-1)),s("tbody",null,[(a(!0),n(h,null,g((w=l(x))==null?void 0:w.leave_balance,t=>(a(),n("tr",{key:t.id,class:"border-b hover:bg-gray-100"},[s("td",ds,o(t.leave_type),1),s("td",is,o(t.total_leave_days),1),s("td",rs,o(t.used_days),1),s("td",us,o(t.remaining_days),1)]))),128))])])])])])]))])}}};export{ys as default};
