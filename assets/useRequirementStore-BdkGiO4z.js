import{g as w,e as R}from"./requirement-BH6IR-Px.js";import{B as $,r as i,x as o,C as c}from"./index-B5mbdBci.js";const x=$("requirement",()=>{const l=i([]),m=i(null),s=i(!1),n=i(null),d=async(r={})=>{var t,a;s.value=!0,n.value=null;try{const e=await w({params:r});l.value=e.data}catch(e){n.value=((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.message)||"রিকোয়ারমেন্ট লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching requirements:",e)}finally{s.value=!1}},f=async(r={})=>{var t,a;s.value=!0,n.value=null;try{const e=await R({params:r});l.value=e.data,console.log({response:e})}catch(e){throw n.value=((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.message)||"রিকোয়ারমেন্ট লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching requirements:",e),e}finally{s.value=!1}},q=async r=>{var t,a;s.value=!0,n.value=null;try{const e=await c.get(`/requirements/${r}`);m.value=e.data}catch(e){n.value=((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.message)||`রিকোয়ারমেন্ট (ID: ${r}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching requirement with id ${r}:`,e)}finally{s.value=!1}},p=async r=>{var t,a;s.value=!0,n.value=null;try{const e=await c.post("/requirements",r);return l.value.push(e.data.data),e.data.data}catch(e){n.value=((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.message)||"রিকোয়ারমেন্ট তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating requirement:",e)}finally{s.value=!1}},g=async(r,t)=>{var a,e;s.value=!0,n.value=null;try{const u=await c.put(`/requirements/${r}`,t),v=l.value.findIndex(y=>y.id===r);return v!==-1&&(l.value[v]=u.data.data),u.data.data}catch(u){n.value=((e=(a=u.response)==null?void 0:a.data)==null?void 0:e.message)||`রিকোয়ারমেন্ট (ID: ${r}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating requirement with id ${r}:`,u)}finally{s.value=!1}},h=async r=>{var t,a;s.value=!0,n.value=null;try{await c.delete(`/requirements/${r}`),l.value=l.value.filter(e=>e.id!==r)}catch(e){n.value=((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.message)||`রিকোয়ারমেন্ট (ID: ${r}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting requirement with id ${r}:`,e)}finally{s.value=!1}};return{requirements:o(()=>l.value),requirementDetails:o(()=>requirementDetails.value),requirement:o(()=>m.value),loading:o(()=>s.value),error:o(()=>n.value),fetchRequirementsWithTasks:f,fetchRequirements:d,fetchRequirement:q,createRequirement:p,updateRequirement:g,deleteRequirement:h}});export{x as u};
