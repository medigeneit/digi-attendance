import{L}from"./LoaderView-D5oHhLdH.js";import{b as T,O as N,s as M,r as H,e as R,A as V,m as j,n as B,c as t,o as e,a as s,f as C,g as n,j as g,t as p,k as i,F as m,y as h,p as S,i as A}from"./index-wTR-mmzf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"my-container space-y-4 px-4 py-4 relative"},F={class:"md:text-2xl font-semibold capitalize text-gray-700"},z={key:0,class:"ml-auto text-xs bg-red-500 text-white rounded-full px-2 py-0.5 font-semibold"},D={key:1,class:"space-y-4"},E={class:"flex gap-2 md:gap-3 items-center"},O={class:"shrink grow font-semibold text-sm md:text-base"},U=["innerHTML"],Z={class:"ml-auto shrink-0 grow-0 flex gap-2 md:gap-3 items-center"},$=["innerHTML"],G={key:0,class:"flex flex-wrap gap-y-1 gap-x-3 items-center text-xs md:text-sm lg:text-base"},I={key:0},J={class:"flex gap-3 items-center"},K={class:"flex items-center gap-8"},P={key:0,class:"flex flex-wrap flex-col md:flex-row gap-x-1 text-xs md:text-sm text-left"},Q={key:0,class:"hidden md:inline font-bold"},W=["innerHTML"],X={key:2,class:"h-[80vh] flex items-center justify-center border rounded-md bg-white/50 text-gray-400"},ae={__name:"MyTaskNotificationList",setup(Y){const r=T(),d=N(),{notifications:u,notification_count:x}=M(d),l=H(!1);R(async()=>{r.params.type&&(l.value=!0,await d.fetchTaskNotification(r.params.type),l.value=!1)}),V(()=>r.params.type,async(o,c)=>{o&&o!==c&&(l.value=!0,await d.fetchTaskNotification(o),l.value=!1)});const v=o=>{if(r.params.type=="pending-requirements")return{name:"RequirementShow",params:{id:o.application_id}}},k=j(()=>r.params.type?r.params.type.replace(/[_-]/g," ").replace(/([A-Z])/g," $1").replace(/\s+/g," ").trim().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "):"");return(o,c)=>{var _;const b=B("RouterLink");return e(),t("div",q,[s("h2",F,[g(p(k.value||"Notifications")+" ",1),i(x)[i(r).params.type]?(e(),t("span",z,p(i(x)[i(r).params.type]),1)):n("",!0)]),l.value||i(d).loading?(e(),C(L,{key:0,class:"absolute inset-0 flex items-center justify-center bg-opacity-80 !shadow-none min-h-[80vh]"})):n("",!0),((_=i(u))==null?void 0:_.length)>0?(e(),t("div",D,[(e(!0),t(m,null,h(i(u),a=>{var f;return e(),t("div",{key:a.application_id,class:"bg-white p-3 md:p-4 rounded-xl shadow border grid gap-2"},[s("div",E,[s("div",O,[s("div",{class:"flex items-center text-green-600 text-xs md:text-sm lg:text-base",innerHTML:a.title},null,8,U),s("div",null,p(a.user_name),1)]),s("div",Z,[S(b,{to:v(a),class:"btn-1 px-3"},{default:A(()=>c[0]||(c[0]=[s("i",{class:"far fa-eye"},null,-1)])),_:2,__:[0]},1032,["to"])])]),s("div",{class:"text-red-600 text-xs md:text-sm lg:text-base line-clamp-1 pr-12",innerHTML:a.description},null,8,$),a.type?(e(),t("div",G,[a.type?(e(),t("div",I,[c[1]||(c[1]=s("span",{class:"text-gray-400"},"Type:",-1)),g(" "+p(a.type),1)])):n("",!0)])):n("",!0),s("div",J,[s("div",K,[(f=a.messages)!=null&&f.length?(e(),t("p",P,[(e(!0),t(m,null,h(a.messages,(w,y)=>(e(),t(m,{key:y},[y?(e(),t("span",Q,"|")):n("",!0),s("span",{innerHTML:w,class:"text-black"},null,8,W)],64))),128))])):n("",!0)])])])}),128))])):l.value?n("",!0):(e(),t("div",X," No notifications found. "))])}}};export{ae as default};
