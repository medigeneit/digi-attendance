import{G as g,b as h,n as c,c as a,e as l,t as d,F as y,q as m,a as n,o as s,s as f}from"./index-XrQurNwg.js";const x={class:"my-container"},k={key:0,class:"text-center text-gray-500"},w={key:1,class:"text-center text-red-500"},b={key:2,class:"divide-y divide-gray-200"},N=["onClick"],L={class:"text-sm text-gray-500"},S={key:0,class:"absolute top-2 right-2"},C={key:0,class:"p-4 text-center"},D={__name:"MyNotificationList",setup(A){const o=g();h(()=>{o.fetchNotifications()});const u=c(()=>o.notifications),p=c(()=>o.loading),i=c(()=>o.error),_=async(r,t)=>{await o.markAsRead(r),t&&(window.location.href=t)},v=r=>({leaveApplication:"/leave-application-show/",shortLeave:"/short-leave-show/",exchange:"/exchange-show/",manualAttendance:"/manual-attendance-show/"})[r]||"#";return(r,t)=>(s(),a("div",x,[p.value?(s(),a("p",k,"Loading notifications...")):l("",!0),i.value?(s(),a("p",w,d(i.value),1)):l("",!0),!p.value&&!i.value?(s(),a("ul",b,[(s(!0),a(y,null,m(u.value,e=>(s(),a("li",{key:e.id,class:f([{"p-4 bg-white":e.read_at,"p-4 bg-teal-100":!e.read_at},"cursor-pointer relative"]),onClick:B=>_(e.id,v(e.data.event_type)+e.data.event_id)},[n("p",null,d(e.data.message),1),n("span",L,d(new Date(e.created_at).toLocaleString("en-US")),1),e.read_at?l("",!0):(s(),a("div",S,t[0]||(t[0]=[n("span",{class:"relative flex h-3 w-3"},[n("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),n("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})],-1)])))],10,N))),128)),u.value.length===0?(s(),a("li",C,t[1]||(t[1]=[n("p",{class:"text-gray-500"},"No notifications found.",-1)]))):l("",!0)])):l("",!0)]))}};export{D as default};
