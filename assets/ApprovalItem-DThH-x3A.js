import{a0 as k,q as i,c as o,o as s,m as N,f as m,a as l,t as r,n as $}from"./index-BRKnF_l4.js";import{_ as A}from"./AcceptAndRejectHandler-CgnwDBtd.js";const S={class:"flex flex-col justify-center items-center text-sm md:text-base text-center"},b={key:0,class:"text-center"},B={class:"text-center"},O={class:"text-xs text-gray-400 text-center"},R={key:1,class:"text-center"},I={class:"font-bold"},U={key:0,class:"text-green-600"},w={key:1,class:"pl-2 text-yellow-700"},V={__name:"ApprovalItem",props:{application:Object,type:String,item:String,onAction:{type:Function,default:()=>{}}},setup(e){const p=k(),v=i(()=>e.item?e.item.replace(/[_-]/g," ").replace(/([A-Z])/g," $1").replace(/\s+/g," ").trim().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):""),u=i(()=>e.type==="leave_applications"?"leave_approval":"other_approval"),f=i(()=>{var t;return(t=e.application)==null?void 0:t[`${e.item}_user`]}),d=i(()=>{var t;return(t=e.application)==null?void 0:t[`${e.item}_user_id`]}),y=i(()=>{var t;return((t=e.application)==null?void 0:t[`${e.item}_note`])||""}),x=i(()=>{var t,a,n;return((n=(a=(t=e.application)==null?void 0:t.user)==null?void 0:a[u.value])==null?void 0:n[`${e.item}_user`])||{}}),h=i(()=>{var t;return(t=p.approvalPermissions)==null?void 0:t[`allow_${e.item}`]}),g=i(()=>!e.application.status||!d.value?!1:e.item==="handover"?e.application.status!=="Rejected"||e.application.rejected_by_user_id!==e.application.handover_user_id:!0),j=i(()=>{var t,a,n,c;return e.item==="handover"&&((t=e.application)==null?void 0:t.handover_user_id)||((c=(n=(a=e.application)==null?void 0:a.user)==null?void 0:n[u.value])==null?void 0:c[`${e.item}_user_id`])});return(t,a)=>{var n,c;return s(),o("div",S,[d.value?(s(),o("div",b,[l("p",B,r(((n=f.value)==null?void 0:n.name)||""),1),l("p",O,r(y.value),1)])):(s(),o("p",R,r(((c=x.value)==null?void 0:c.name)||"N/A"),1)),h.value?(s(),N(A,{key:2,notificationType:e.type,applicationId:e.application.id,onSuccess:e.onAction},null,8,["notificationType","applicationId","onSuccess"])):m("",!0),a[1]||(a[1]=l("hr",{class:"w-36 md:w-44 border-black my-1"},null,-1)),l("div",I,[$(r(v.value)+" ",1),g.value?(s(),o("span",U,"(âœ”)")):j.value?(s(),o("span",w,a[0]||(a[0]=[l("i",{class:"fad fa-spinner"},null,-1)]))):m("",!0)])])}}};export{V as _};
