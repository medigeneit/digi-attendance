import{E as D,r as c,p,G as u}from"./index-B7AqTWFZ.js";const w=D("department",()=>{const l=c([]),d=c(null),n=c(!1),s=c(null),v=async(a=null)=>{var r,t;n.value=!0,s.value=null;try{const e=await u.get("/departments",{params:{company_id:a}});l.value=e.data}catch(e){s.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||"ডিপার্টমেন্ট লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching departments:",e)}finally{n.value=!1}},i=async a=>{var r,t;n.value=!0,s.value=null;try{const e=await u.get(`/departments/${a}`);d.value=e.data}catch(e){s.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||`ডিপার্টমেন্ট (ID: ${a}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching department with id ${a}:`,e)}finally{n.value=!1}},f=async a=>{var r,t;n.value=!0,s.value=null;try{const e=await u.post("/departments",a);return l.value.push(e.data),e.data}catch(e){s.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||"ডিপার্টমেন্ট তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating department:",e)}finally{n.value=!1}},y=async(a,r)=>{var t,e;n.value=!0,s.value=null;try{const o=await u.put(`/departments/${a}`,r),m=l.value.findIndex(h=>h.id===a);return m!==-1&&(l.value[m]=o.data),o.data}catch(o){s.value=((e=(t=o.response)==null?void 0:t.data)==null?void 0:e.message)||`ডিপার্টমেন্ট (ID: ${a}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating department with id ${a}:`,o)}finally{n.value=!1}},g=async a=>{var r,t;n.value=!0,s.value=null;try{await u.delete(`/departments/${a}`),l.value=l.value.filter(e=>e.id!==a)}catch(e){s.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||`ডিপার্টমেন্ট (ID: ${a}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting department with id ${a}:`,e)}finally{n.value=!1}};return{departments:p(()=>l.value),department:p(()=>d.value),loading:p(()=>n.value),error:p(()=>s.value),fetchDepartments:v,fetchDepartment:i,createDepartment:f,updateDepartment:y,deleteDepartment:g}});export{w as u};
