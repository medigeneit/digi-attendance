import{E as d,r as u,G as l}from"./index-debvsqJq.js";const U=d("notice",()=>{const r=u([]),i=u({}),o=u(null),n=u(!1);return{notices:r,notice:i,error:o,isLoading:n,fetchFileUpload:async s=>{var a,e;try{return n.value=!0,(await l.post("file-upload",s,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){o.value=((e=(a=t.response)==null?void 0:a.data)==null?void 0:e.message)||"Something went wrong"}finally{n.value=!1}},createNoticeFeedback:async(s,a)=>{var e,t;try{return n.value=!0,await l.post(`/user/notice/feedback/${s}`,a)}catch(c){o.value=((t=(e=c.response)==null?void 0:e.data)==null?void 0:t.message)||"Something went wrong"}finally{n.value=!1}},fetchNotices:async()=>{var s,a;try{n.value=!0;const e=await l.get("/notices");r.value=e==null?void 0:e.data,o.value=null}catch(e){o.value=((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"Something went wrong"}finally{n.value=!1}},fetchNotice:async s=>{var a,e;try{n.value=!0;const c=(await l.get(`/notices/${s}`)).data;return c&&(i.value=c),o.value=null,c}catch(t){o.value=((e=(a=t.response)==null?void 0:a.data)==null?void 0:e.message)||"Something went wrong"}finally{n.value=!1}},createNotice:async s=>{var a,e;try{n.value=!0;const t=await l.post("/notices",s);r.value.push(t.data.notices),o.value=null}catch(t){o.value=((e=(a=t.response)==null?void 0:a.data)==null?void 0:e.message)||"Something went wrong"}finally{n.value=!1}},updateNotice:async(s,a)=>{var e,t;try{n.value=!0,console.log({payload:a});const c=await l.put(`/notices/${s}`,a),f=users.value.findIndex(v=>v.id===s);f!==-1&&(i.value[f]=c.data.notice),o.value=null}catch(c){o.value=((t=(e=c.response)==null?void 0:e.data)==null?void 0:t.message)||"Something went wrong"}finally{n.value=!1}},fetchUserNotices:async()=>{var s,a,e;try{n.value=!0;const t=await l.get("/user/notices");r.value=(s=t==null?void 0:t.data)==null?void 0:s.notices,o.value=null}catch(t){o.value=((e=(a=t.response)==null?void 0:a.data)==null?void 0:e.message)||"Something went wrong"}finally{n.value=!1}},fetchNoticeDetails:async s=>{var a,e;try{n.value=!0;const c=(await l.get(`/notices/details/${s}`)).data;return c&&(i.value=c),o.value=null,c}catch(t){o.value=((e=(a=t.response)==null?void 0:a.data)==null?void 0:e.message)||"Something went wrong"}finally{n.value=!1}}}});export{U as u};
