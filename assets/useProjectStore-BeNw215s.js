import{J as w,r as u,p,G as c}from"./index-BbvmKnbC.js";const E=w("project",()=>{const l=u([]),v=u(null),s=u(!1),o=u(null),d=async()=>{var e,t;s.value=!0,o.value=null;try{return(await c.get("/task-management-summaries")).data}catch(a){o.value=((t=(e=a.response)==null?void 0:e.data)==null?void 0:t.message)||"",console.error("Error fetching:",a)}finally{s.value=!1}},f=async()=>{var e,t;s.value=!0,o.value=null;try{const a=await c.get("/projects");l.value=a.data}catch(a){o.value=((t=(e=a.response)==null?void 0:e.data)==null?void 0:t.message)||"প্রজেক্ট লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching projects:",a)}finally{s.value=!1}},j=async e=>{var t,a;s.value=!0,o.value=null;try{const r=await c.get(`/projects/${e}`);v.value=r.data}catch(r){o.value=((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.message)||`প্রজেক্ট (ID: ${e}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching project with id ${e}:`,r)}finally{s.value=!1}},g=async e=>{var t,a;s.value=!0,o.value=null;try{const r=await c.post("/projects",e);return l.value.push(r.data.data),r.data.data}catch(r){o.value=((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.message)||"প্রজেক্ট তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating project:",r)}finally{s.value=!1}},y=async(e,t)=>{var a,r;s.value=!0,o.value=null;try{const n=await c.put(`/projects/${e}`,t),i=l.value.findIndex(m=>m.id===e);return i!==-1&&(l.value[i]=n.data.data),n.data.data}catch(n){o.value=((r=(a=n.response)==null?void 0:a.data)==null?void 0:r.message)||`প্রজেক্ট (ID: ${e}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating project with id ${e}:`,n)}finally{s.value=!1}},h=async e=>{var t,a;s.value=!0,o.value=null;try{await api.delete(`/projects/${e}`),l.value=l.value.filter(r=>r.id!==e)}catch(r){o.value=((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.message)||`প্রজেক্ট (ID: ${e}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting project with id ${e}:`,r)}finally{s.value=!1}};return{projects:p(()=>l.value),project:p(()=>v.value),loading:p(()=>s.value),error:p(()=>o.value),fetchProjects:f,fetchProject:j,createProject:g,updateProject:y,deleteProject:h,fetchTaskManagementSummary:d}});export{E as u};
