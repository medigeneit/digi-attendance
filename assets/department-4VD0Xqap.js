import{E as $,r as c,p,G as u}from"./index-C8Yu7mJH.js";const I=$("department",()=>{const d=c([]),o=c([]),m=c(null),n=c(!1),l=c(null),i=async(a=null)=>{var r,t;n.value=!0,l.value=null;try{const e=await u.get("/departments",{params:{company_id:a}});o.value=e.data}catch(e){l.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||"ডিপার্টমেন্ট লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching departments:",e)}finally{n.value=!1}},f=async a=>{var r,t;n.value=!0,l.value=null;try{const e=await u.get(`/departments/${a}`);m.value=e.data}catch(e){l.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||`ডিপার্টমেন্ট (ID: ${a}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching department with id ${a}:`,e)}finally{n.value=!1}},y=async a=>{var r,t,e;n.value=!0,l.value=null;try{const s=await u.get("department-employees",{params:a});d.value=(r=s==null?void 0:s.data)==null?void 0:r.employees}catch(s){l.value=((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||"ডিপার্টমেন্ট লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching department with id:",s)}finally{n.value=!1}},g=async a=>{var r,t;n.value=!0,l.value=null;try{const e=await u.post("/departments",a);return o.value.push(e.data),e.data}catch(e){l.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||"ডিপার্টমেন্ট তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating department:",e)}finally{n.value=!1}},h=async(a,r)=>{var t,e;n.value=!0,l.value=null;try{const s=await u.put(`/departments/${a}`,r),v=o.value.findIndex(D=>D.id===a);return v!==-1&&(o.value[v]=s.data),s.data}catch(s){l.value=((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||`ডিপার্টমেন্ট (ID: ${a}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating department with id ${a}:`,s)}finally{n.value=!1}},w=async a=>{var r,t;n.value=!0,l.value=null;try{await u.delete(`/departments/${a}`),o.value=o.value.filter(e=>e.id!==a)}catch(e){l.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||`ডিপার্টমেন্ট (ID: ${a}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting department with id ${a}:`,e)}finally{n.value=!1}};return{departments:p(()=>o.value),department:p(()=>m.value),loading:p(()=>n.value),error:p(()=>l.value),employees:d,fetchDepartmentEmployee:y,fetchDepartments:i,fetchDepartment:f,createDepartment:g,updateDepartment:h,deleteDepartment:w}});export{I as u};
