import{u as m,d as f,e as k,m as v,z as w,n as O,c as a,o as n,a as e,p as d,x as M,k as c,i as _,t as o,h as S,v as C,g as D,F as L,q as B}from"./index-DGUfxraZ.js";import{L as H}from"./LoaderView-DM75jSTR.js";import{_ as p}from"./DisplayFormattedWorkingHours-CzIbOKzn.js";import{u as R}from"./overtime-DVs-1vaX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"space-y-2 px-4"},A={class:"flex items-center justify-between gap-2"},N={class:"flex items-center gap-2"},q={class:"title-md md:title-lg flex-wrap text-center"},j={class:"flex gap-4"},z={key:0,class:"text-center py-4"},F={key:1,class:"space-y-4"},T={class:"overflow-x-auto"},U={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},E={class:"border border-gray-300 px-2 text-center"},G={class:"border border-gray-300 px-2 text-center"},I={class:"border border-gray-300 px-2 text-center"},P={class:"border border-gray-300 px-2 text-center"},W={class:"border border-gray-300 px-2 text-center"},$={class:"border border-gray-300 px-2 text-center"},J={class:"border border-gray-300 px-2 text-center"},K={class:"border border-gray-300 px-2 text-center"},Q={class:"border border-gray-300 px-2 text-center"},X={class:"border border-gray-300 px-2 text-center"},Y={class:"border border-gray-300 px-2 text-center"},Z={class:"border border-gray-300 px-2 text-center"},ee={class:"flex items-center justify-center gap-2"},te={key:0},le={__name:"MyOvertimeList",setup(re){const h=m(),s=R();f(),k(()=>{i()});const y=()=>{h.go(-1)},u=v(()=>s.overtimes);w(()=>s.selectedMonth,l=>{l&&i(l)});const i=async(l=null)=>{s.fetchUserOvertimes({month:l||s.selectedMonth})};return(l,r)=>{var b;const x=O("RouterLink");return n(),a("div",V,[e("div",A,[e("div",N,[e("button",{class:"btn-3 py-1",onClick:y},r[1]||(r[1]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),e("div",null,[e("button",{onClick:i,type:"button",class:"btn-3 space-x-1 py-1"},[e("i",{class:M(["fas fa-sync text-lg",{"animate-spin":c(s).loading}])},null,2),r[2]||(r[2]=e("span",{class:"hidden md:inline"}," Reload ",-1))])]),d(x,{to:{name:"MyOvertimeAdd"},class:"btn-2"},{default:_(()=>r[3]||(r[3]=[e("i",{class:"far fa-plus"},null,-1),e("span",{class:"hidden md:flex"},"Overtime",-1)])),_:1,__:[3]})]),e("h1",q," Overtime of "+o(c(s).selectedMonthDisplay),1),e("div",j,[e("div",null,[S(e("input",{id:"monthSelect",type:"month","onUpdate:modelValue":r[0]||(r[0]=t=>c(s).selectedMonth=t),class:"input-1"},null,512),[[C,c(s).selectedMonth]])])])]),(b=c(s))!=null&&b.loading?(n(),a("div",z,[d(H)])):(n(),a("div",F,[e("div",T,[e("table",U,[r[6]||(r[6]=e("thead",null,[e("tr",{class:"bg-gray-200 *:py-1"},[e("th",{class:"border border-gray-300 px-2 text-center"},"#"),e("th",{class:"border border-gray-300 px-2 text-center"},"Date"),e("th",{class:"border border-gray-300 px-2 text-center"},"Type"),e("th",{class:"border border-gray-300 px-2 text-center"},"Shift"),e("th",{class:"border border-gray-300 px-2 text-center"},"Check-In"),e("th",{class:"border border-gray-300 px-2 text-center"},"Check-Out"),e("th",{class:"border border-gray-300 px-2 text-center"},"Working (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Request (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Approved (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Status"),e("th",{class:"border border-gray-300 px-2 text-center"},"Details"),e("th",{class:"border border-gray-300 px-2 text-center"},"Action")])],-1)),e("tbody",null,[(n(!0),a(L,null,B(u.value,(t,g)=>(n(),a("tr",{key:t==null?void 0:t.id,class:"border-b border-gray-200 hover:bg-blue-200 *:py-2"},[e("td",E,o(g+1),1),e("td",G,o(new Date(t.date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})),1),e("td",I,o(t.duty_type),1),e("td",P,o(t.shift),1),e("td",W,o(t.check_in||"- : -"),1),e("td",$,o(t.check_out||"- : -"),1),e("td",J,[d(p,{workingHours:t.working_hours},null,8,["workingHours"])]),e("td",K,[d(p,{workingHours:t.request_overtime_hours},null,8,["workingHours"])]),e("td",Q,[d(p,{workingHours:t.approval_overtime_hours},null,8,["workingHours"])]),e("td",X,o(t.status||"Pending"),1),e("td",Y,o(t.work_details),1),e("td",Z,[e("div",ee,[d(x,{to:{name:"MyOvertimeShow",params:{id:t.id}},class:"btn-1 px-3"},{default:_(()=>r[4]||(r[4]=[e("i",{class:"far fa-eye"},null,-1)])),_:2,__:[4]},1032,["to"])])])]))),128)),u.value.length===0?(n(),a("tr",te,r[5]||(r[5]=[e("td",{colspan:"7",class:"p-2 text-center text-red-500"},"No overtimes found",-1)]))):D("",!0)])])])]))])}}};export{le as default};
