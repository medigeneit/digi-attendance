import{L as V}from"./LoaderView-Co2yz8-O.js";import{u as E}from"./notice-B2dYXvpD.js";import{i as T,r as p,b as M,c as n,a as e,j as R,t as i,F as j,x as H,e as I,l as N,m as L,n as A,o as a,k as D,f as P}from"./index-Di9HX-FD.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"my-container space-y-6"},$={class:"card-bg p-6"},q={key:1,class:"text-center text-red-500"},z={key:2,class:"grid gap-2"},G={class:"bg-gray-100 p-4 rounded-lg"},J={class:"grid md:grid-cols-2 gap-4"},K={class:"text-lg text-gray-800"},O={class:"text-lg text-gray-800"},Q={class:"text-lg text-gray-800"},W={class:"text-lg text-gray-800"},X={class:"col-span-full"},Y=["innerHTML"],Z={class:"flex justify-center mt-8 gap-4"},lt={__name:"NoticeShow",setup(tt){const h=E(),B=T(),F=P(),s=p(null),c=p(!0),r=p(null),g=o=>new Date(o).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),S=async()=>{var o,t;try{c.value=!0,r.value=null;const l=F.params.id;s.value=await h.fetchNotice(l)}catch(l){r.value=((t=(o=l.response)==null?void 0:o.data)==null?void 0:t.message)||"Failed to load notice details",B.error(r.value)}finally{c.value=!1}};M(async()=>{await S()});const C=async o=>{window.open(o,"_blank")};return(o,t)=>{var m,x,y,v,f,b,_,k;const l=A("RouterLink");return a(),n("div",U,[e("div",$,[t[11]||(t[11]=e("h2",{class:"title-lg text-center"},"Notice Details",-1)),c.value?(a(),R(V,{key:0,class:"shadow-none"})):r.value?(a(),n("div",q,[e("p",null,i(r.value),1)])):(a(),n("div",z,[e("div",G,[t[7]||(t[7]=e("p",{class:"title-md"},"Notice Info",-1)),t[8]||(t[8]=e("hr",{class:"mb-2"},null,-1)),e("div",J,[e("div",null,[t[1]||(t[1]=e("p",{class:"text-sm font-bold text-gray-600"},"Company:",-1)),e("p",K,i(((x=(m=s.value)==null?void 0:m.company)==null?void 0:x.name)||"N/A"),1)]),e("div",null,[t[2]||(t[2]=e("p",{class:"text-sm font-bold text-gray-600"},"Department:",-1)),e("p",O,[(a(!0),n(j,null,H((y=s.value)==null?void 0:y.departments,(d,u)=>{var w;return a(),n("span",{key:d.id},i(d==null?void 0:d.name)+" "+i(u<((w=s.value)==null?void 0:w.departments.length)-1?", ":""),1)}),128))])]),e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm font-bold text-gray-600"},"Published Date:",-1)),e("p",Q,i(g((v=s.value)==null?void 0:v.published_at)),1)]),e("div",null,[t[4]||(t[4]=e("p",{class:"text-sm font-bold text-gray-600"},"Expired Date:",-1)),e("p",W,i(g((f=s.value)==null?void 0:f.expired_at)),1)]),e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm font-bold text-gray-600 mb-2"},"File:",-1)),(b=s.value)!=null&&b.file?(a(),n("button",{key:0,onClick:t[0]||(t[0]=d=>{var u;return C((u=s.value)==null?void 0:u.file)}),class:"btn-2"}," Download File ")):I("",!0)]),e("div",X,[t[6]||(t[6]=e("p",{class:"text-sm font-bold text-gray-600"},"Description / Body:",-1)),e("p",{class:"text-lg text-gray-800",innerHTML:(_=s.value)==null?void 0:_.description},null,8,Y)])])]),e("div",Z,[N(l,{to:{name:"NoticeList"},type:"button",class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"},{default:L(()=>t[9]||(t[9]=[D(" Back to List ")])),_:1}),N(l,{to:{name:"NoticeEdit",params:{id:(k=s.value)==null?void 0:k.id}},class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},{default:L(()=>t[10]||(t[10]=[D(" Edit ")])),_:1},8,["to"])])]))])])}}};export{lt as default};
