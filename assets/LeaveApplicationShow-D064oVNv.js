import{u as Ns,N as Is,r as f,y as _s,b as Ws,c as o,a as e,l as n,k as Ts,t as l,F as j,x as D,h as y,e as d,q as ys,m as Ss,d as ms,v as xs,f as $s,o as a,g as Ms}from"./index-oqIfDxm5.js";import{L as Hs}from"./LoaderView-wP3ygJkD.js";import{_ as Vs}from"./ShareComponent-BzxrVw_-.js";import{u as Us}from"./leave-application-nzL4CW1T.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const qs={class:"my-container max-w-3xl space-y-6"},Es={key:1,class:"card-bg p-4 md:p-8"},Fs={class:"title-lg text-center"},Os={class:"text-center text-sm"},Ps={class:"space-y-4"},zs={class:"grid md:grid-cols-2 print:grid-cols-2 gap-8"},Gs={class:""},Js={class:"text-sm"},Ks={class:"flex justify-end gap-4"},Qs={class:"table-auto border border-black bg-white text-xs"},Xs={class:"border border-black px-2"},Ys={class:"border border-black px-2"},Zs={class:"border border-black px-2"},el={class:"font-bold"},tl={class:"border border-black px-2"},sl={class:"table-auto border border-black bg-white text-xs"},ll={class:"border border-black"},al={colspan:"2",class:"border border-black px-2 w-32"},ol={class:"border border-black px-2"},nl={class:"border border-black px-2"},rl={class:"font-bold"},il={class:"border border-black px-2"},dl={class:"grid print:grid-cols-2 md:grid-cols-2 text-sm"},ul={class:"text-sm"},pl={class:"pt-8 grid grid-cols-2"},cl={class:"text-sm"},vl={class:"flex flex-col justify-center items-center text-sm"},bl={key:0,class:"print:hidden"},_l={class:"text-xs text-center"},yl={class:"flex justify-center gap-2"},ml={class:"font-bold"},xl={key:0,class:"text-green-600 print:text-black"},fl={key:1,class:"pl-2 text-yellow-700"},gl={class:"text-xs text-gray-500"},kl={class:"overflow-x-auto"},wl={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},Al={class:"border border-gray-500 px-4 py-0.5 text-left"},hl={class:"border border-gray-500 px-4 py-0.5 text-center"},jl={class:"border border-gray-500 px-4 py-0.5 text-center"},Cl={class:"space-y-14"},Dl={class:"font-bold text-center text-lg"},Ll={key:0},Bl={class:"grid md:grid-cols-3 print:grid-cols-3 gap-4 text-sm items-end"},Rl={class:"flex flex-col justify-center items-center"},Nl={key:0},Il={key:1,class:"text-center"},Wl={key:2,class:"print:hidden"},Tl={class:"text-xs text-center text-blue-600"},Sl={class:"flex justify-center gap-4"},$l={class:"font-bold"},Ml={key:0,class:"text-green-600"},Hl={key:1,class:"pl-2 text-yellow-700"},Vl={class:"text-xs text-gray-500"},Ul={class:"flex flex-col justify-center items-center"},ql={key:0},El={key:1,class:"text-center"},Fl={key:2,class:"print:hidden"},Ol={class:"text-xs text-center text-blue-600"},Pl={class:"flex justify-center gap-4"},zl={class:"font-bold"},Gl={key:0,class:"text-green-600"},Jl={key:1,class:"pl-2 text-yellow-700"},Kl={class:"flex flex-col justify-center items-center"},Ql={key:0},Xl={key:1,class:"text-center"},Yl={key:2,class:"print:hidden"},Zl={class:"text-xs text-center text-blue-600"},ea={class:"flex justify-center gap-4"},ta={class:"font-bold"},sa={key:0,class:"text-green-600"},la={key:1,class:"pl-2 text-yellow-700"},aa={class:"flex justify-evenly text-sm items-end"},oa={class:"flex flex-col justify-center items-center"},na={key:0},ra={key:1,class:"text-center"},ia={key:2,class:"print:hidden"},da={class:"text-xs text-center text-blue-600"},ua={class:"flex justify-center gap-4"},pa={class:"font-bold"},ca={key:0,class:"text-green-600"},va={key:1,class:"pl-2 text-yellow-700"},ba={class:"text-xs text-gray-500"},_a={class:"flex flex-col justify-center items-center"},ya={key:0},ma={key:1,class:"text-center"},xa={key:2,class:"print:hidden"},fa={class:"text-xs text-center text-blue-600"},ga={class:"flex justify-center gap-4"},ka={class:"font-bold"},wa={key:0,class:"text-green-600"},Aa={key:1,class:"pl-2 text-yellow-700"},ha={class:"text-xs text-gray-500"},ja={key:0,class:"modal-bg"},Ca={class:"modal-card"},Da={class:"flex justify-end gap-2 mt-4"},La={key:1,class:"modal-bg"},Ba={class:"modal-card"},Ra={class:"flex justify-end gap-2 mt-4"},Ma={__name:"LeaveApplicationShow",setup(Na){const _=Ns(),fs=Is(),u=Us(),gs=Ms(),p=$s(),L=f(!0),g=f(!1),k=f(""),w=f(!1),c=f(""),s=_s(()=>u.leaveApplication);Ws(async()=>{const{id:i}=p.params;try{await u.fetchLeaveApplicationById(i)}catch(t){console.error("Failed to load leave application:",t)}finally{L.value=!1}});async function ks(){try{await u.rejectLeaveApplication(p.params.id,{rejection_reason:k.value}),alert("Leave application rejected successfully!"),g.value=!1,k.value="",await u.fetchLeaveApplicationById(p.params.id),v()}catch(i){alert(i.message)}}function m(){g.value=!0}let x="";function A(i){w.value=!0,x=i}async function ws(){x==="acceptApprovedByApplication"&&Ls(p.params.id),x==="acceptHandoverApplication"&&As(p.params.id),x==="acceptInChargeApplication"&&hs(p.params.id),x==="acceptRecommendByApplication"&&Ds(p.params.id),w.value=!1}async function As(i){try{await u.acceptHandover({id:i,note:c.value}),await u.fetchLeaveApplicationById(i),v()}catch(t){alert(t.message)}}async function hs(i){try{await u.acceptInCharge({id:i,note:c.value}),await u.fetchLeaveApplicationById(i),v()}catch(t){alert(t.message)}}async function js(i){try{await u.acceptCoordinator({id:i,note:c.value}),await u.fetchLeaveApplicationById(i),v()}catch(t){alert(t.message)}}async function Cs(i){try{await u.acceptOperationalAdmin({id:i,note:c.value}),await u.fetchLeaveApplicationById(i),v()}catch(t){alert(t.message)}}async function Ds(i){try{await u.acceptRecommendBy({id:i,note:c.value}),await u.fetchLeaveApplicationById(i),v()}catch(t){alert(t.message)}}async function Ls(i){console.log(c.value);try{await u.acceptApprovedBy({id:i,note:c.value}),v(),await u.fetchLeaveApplicationById(i)}catch(t){alert(t.message)}}async function v(){var i,t;(i=p==null?void 0:p.query)!=null&&i.notifyId&&await fs.markAsRead((t=p==null?void 0:p.query)==null?void 0:t.notifyId)}function Bs(){window.print()}const Rs=()=>gs.go(-1),B=_s(()=>{if(!s.value||!s.value.last_working_date||!s.value.resumption_date)return 0;const i=new Date(s==null?void 0:s.value.last_working_date),h=new Date(s==null?void 0:s.value.resumption_date)-i;return Math.ceil(h/(1e3*60*60*24))-1});return(i,t)=>{var h,C,R,N,I,W,T,S,$,M,H,V,U,q,E,F,O,P,z,G,J,K,Q,X,Y,Z,ee,te,se,le,ae,oe,ne,re,ie,de,ue,pe,ce,ve,be,_e,ye,me,xe,fe,ge,ke,we,Ae,he,je,Ce,De,Le,Be,Re,Ne,Ie,We,Te,Se,$e,Me,He,Ve,Ue,qe,Ee,Fe,Oe,Pe,ze,Ge,Je,Ke,Qe,Xe,Ye,Ze,et,tt,st,lt,at,ot,nt,rt,it,dt,ut,pt,ct,vt,bt,_t,yt,mt,xt,ft,gt,kt,wt,At,ht,jt,Ct,Dt,Lt,Bt,Rt,Nt,It,Wt,Tt,St,$t,Mt,Ht,Vt,Ut,qt,Et,Ft,Ot,Pt,zt,Gt,Jt,Kt,Qt,Xt,Yt,Zt,es,ts,ss,ls,as,os,ns,rs,is,ds,us,ps,cs,vs,bs;return a(),o(j,null,[e("div",qs,[e("div",{class:"flex items-center justify-between gap-2 print:hidden"},[e("button",{class:"btn-3",onClick:Rs},t[10]||(t[10]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),t[12]||(t[12]=e("h1",{class:"title-md md:title-xl flex-wrap text-center"},"Leave Application",-1)),e("div",null,[e("button",{class:"btn-2",onClick:Bs},t[11]||(t[11]=[e("i",{class:"far fa-print"},null,-1),n(" Print ")]))])]),L.value?(a(),Ts(Hs,{key:0})):(a(),o("div",Es,[e("div",null,[e("h1",Fs,l((R=(C=(h=s.value)==null?void 0:h.user)==null?void 0:C.company)==null?void 0:R.name),1),e("p",Os,l((I=(N=s.value)==null?void 0:N.user)==null?void 0:I.company.address),1)]),e("div",Ps,[e("div",zs,[e("div",null,[t[13]||(t[13]=e("p",null,"To",-1)),t[14]||(t[14]=e("p",{class:"font-bold"},"Managing Director",-1)),e("p",Gs,l((S=(T=(W=s.value)==null?void 0:W.user)==null?void 0:T.company)==null?void 0:S.name),1),e("p",Js,l((M=($=s.value)==null?void 0:$.user)==null?void 0:M.company.address),1),t[15]||(t[15]=e("div",null,[e("p",{class:"pt-6"},[e("b",null,"Subject:"),n(" Leave Application")])],-1))]),e("div",Ks,[e("div",null,[t[19]||(t[19]=e("h1",{class:"font-bold"},"Summary",-1)),e("table",Qs,[t[18]||(t[18]=e("thead",null,[e("tr",{class:"bg-gray-200 border border-black"},[e("th",{class:"border border-black px-2"},"Type"),e("th",{class:"border border-black px-2"},"Days")])],-1)),e("tbody",null,[(a(!0),o(j,null,D((H=s.value)==null?void 0:H.leave_types,(r,b)=>(a(),o("tr",{key:b,class:"border border-black"},[e("td",Xs,l(r.type),1),e("td",Ys,l(r.days),1)]))),128)),e("tr",null,[t[16]||(t[16]=e("td",{class:"border-black px-2"},"WL/GHD",-1)),e("td",Zs,l(B.value-((U=(V=s.value)==null?void 0:V.leave_days)==null?void 0:U.length)),1)]),e("tr",el,[t[17]||(t[17]=e("td",{class:"border border-black px-2"},"Total",-1)),e("td",tl,l(B.value),1)])])])]),e("div",null,[t[23]||(t[23]=e("h1",{class:"font-bold"},"Last Leave",-1)),e("div",null,[e("table",sl,[e("thead",null,[t[20]||(t[20]=e("tr",{class:"bg-gray-200 border border-black"},[e("th",{colspan:"2",class:"border border-black px-2"},"Date")],-1)),e("tr",ll,[e("td",al,l(((E=(q=s.value)==null?void 0:q.last_leave)==null?void 0:E.date)||"N/A"),1)]),t[21]||(t[21]=e("tr",{class:"bg-gray-200 border border-black"},[e("th",{class:"border border-black px-2"},"Type"),e("th",{class:"border border-black px-2"},"Days")],-1))]),e("tbody",null,[(a(!0),o(j,null,D((O=(F=s.value)==null?void 0:F.last_leave)==null?void 0:O.types,(r,b)=>(a(),o("tr",{key:b,class:"border border-black"},[e("td",ol,l(r==null?void 0:r.type),1),e("td",nl,l(r==null?void 0:r.days),1)]))),128)),e("tr",rl,[t[22]||(t[22]=e("td",{class:"border border-black px-2"},"Total",-1)),e("td",il,l((z=(P=s.value)==null?void 0:P.last_leave)!=null&&z.types?s.value.last_leave.types.reduce((r,b)=>r+b.days,0):0),1)])])])])])])]),e("div",null,[t[30]||(t[30]=e("h3",{class:"font-bold"},"Leave Details:",-1)),e("div",dl,[e("li",null,[t[24]||(t[24]=e("strong",null,"Reason: ",-1)),n(l(((G=s.value)==null?void 0:G.reason)||"No reason provided"),1)]),e("li",null,[t[25]||(t[25]=e("strong",null,"Leave Days:",-1)),n(" "+l((J=s.value)==null?void 0:J.leave_period),1)]),e("li",null,[t[26]||(t[26]=e("strong",null,"Total Days:",-1)),n(" "+l((K=s.value)==null?void 0:K.total_leave_days),1)]),e("li",null,[t[27]||(t[27]=e("strong",null,"Weekends:",-1)),n(" "+l((Y=(X=(Q=s.value)==null?void 0:Q.user)==null?void 0:X.weekends)==null?void 0:Y.join(", ")),1)]),e("li",null,[t[28]||(t[28]=e("strong",null,"Last Working Date:",-1)),n(" "+l((Z=s.value)==null?void 0:Z.last_working_date),1)]),e("li",null,[t[29]||(t[29]=e("strong",null,"Resumption Date:",-1)),n(" "+l((ee=s.value)==null?void 0:ee.resumption_date),1)])])]),e("div",ul,[e("p",null,[t[31]||(t[31]=e("strong",null,"Works in Hand: ",-1)),n(l(((te=s.value)==null?void 0:te.works_in_hand)||"No details provided"),1)])]),e("div",pl,[e("div",null,[e("div",cl,[t[36]||(t[36]=e("hr",{class:"w-44 border-black hidden print:block"},null,-1)),e("p",null,[t[32]||(t[32]=e("strong",null,"Applicant:",-1)),n(" "+l((le=(se=s.value)==null?void 0:se.user)==null?void 0:le.name),1)]),e("p",null,[t[33]||(t[33]=e("strong",null,"Designation:",-1)),n(" "+l((ne=(oe=(ae=s.value)==null?void 0:ae.user)==null?void 0:oe.designation)==null?void 0:ne.title),1)]),e("p",null,[t[34]||(t[34]=e("strong",null,"Department:",-1)),n(" "+l((de=(ie=(re=s.value)==null?void 0:re.user)==null?void 0:ie.department)==null?void 0:de.name),1)]),e("p",null,[t[35]||(t[35]=e("strong",null,"Phone:",-1)),n(" "+l((pe=(ue=s.value)==null?void 0:ue.user)==null?void 0:pe.phone),1)])])]),e("div",vl,[e("p",null,l(((ve=(ce=s.value)==null?void 0:ce.handover_user)==null?void 0:ve.name)||"Not assigned"),1),!((be=s.value)!=null&&be.status)&&s.value.handover_user_id===y(_).user.id?(a(),o("div",bl,[e("p",_l,[n(l((ye=(_e=s.value)==null?void 0:_e.user)==null?void 0:ye.name)+" has assigned you for his handover. ",1),t[37]||(t[37]=e("br",null,null,-1)),t[38]||(t[38]=n(" Do you agree? "))]),e("div",yl,[e("button",{class:"font-bold text-lg text-green-600 px-2",onClick:t[0]||(t[0]=r=>A("acceptHandoverApplication"))}," ✔ "),t[39]||(t[39]=e("button",{class:"px-2"},"❌",-1))])])):d("",!0),t[42]||(t[42]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("h4",ml,[t[41]||(t[41]=n(" Handover ")),(me=s.value)!=null&&me.handover_user_id&&((xe=s.value)!=null&&xe.status)?(a(),o("span",xl," (✔) ")):d("",!0),(fe=s.value)!=null&&fe.handover_user_id&&!((ge=s.value)!=null&&ge.status)?(a(),o("span",fl,t[40]||(t[40]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)]),e("p",gl,l((ke=s.value)==null?void 0:ke.handover_note),1)])]),e("div",null,[t[44]||(t[44]=e("h1",{class:"font-bold"},"Leave Balance",-1)),e("div",kl,[e("table",wl,[t[43]||(t[43]=e("thead",null,[e("tr",{class:"bg-gray-200"},[e("th",{class:"border border-gray-500 px-4 py-0.5 text-left"},"Leave Type"),e("th",{class:"border border-gray-500 px-4 py-0.5 text-center"},"Total Days"),e("th",{class:"border border-gray-500 px-4 py-0.5 text-center"},"Used Days"),e("th",{class:"border border-gray-500 px-4 py-0.5 text-center"},"Remaining Days")])],-1)),e("tbody",null,[(a(!0),o(j,null,D((we=s.value)==null?void 0:we.leave_balance,(r,b)=>(a(),o("tr",{key:b,class:"hover:bg-blue-200"},[e("td",Al,l(r.leave_type),1),e("td",hl,l(r.total_leave_days),1),e("td",jl,l(r.used_days),1),e("td",{class:ys(["border border-gray-500 px-4 py-0.5 text-center",{"text-green-600 font-bold":r.remaining_days>0,"text-red-600 font-bold":r.remaining_days===0}])},l(r.remaining_days),3)]))),128))])])])])]),e("div",Cl,[e("p",Dl,[t[45]||(t[45]=n(" Leave Approval: ")),e("b",{class:ys({"text-yellow-600":((Ae=s.value)==null?void 0:Ae.status)==="Pending","text-green-600":((he=s.value)==null?void 0:he.status)==="Approved","text-red-600":((je=s.value)==null?void 0:je.status)==="Rejected"})},l(((Ce=s.value)==null?void 0:Ce.status)||"N/A"),3)]),((De=s.value)==null?void 0:De.status)==="Rejected"?(a(),o("div",Ll,[e("p",null,[t[46]||(t[46]=e("b",null,"Rejected by: ",-1)),n(" "+l((Be=(Le=s.value)==null?void 0:Le.rejected_by_user)==null?void 0:Be.name),1)]),e("p",null,[t[47]||(t[47]=e("b",null,"rejection Reason: ",-1)),n(" "+l(s.value.rejection_reason),1)])])):d("",!0),e("div",Bl,[e("div",Rl,[(Re=s.value)!=null&&Re.in_charge_user?(a(),o("p",Nl,l(((Ie=(Ne=s.value)==null?void 0:Ne.in_charge_user)==null?void 0:Ie.name)||""),1)):(a(),o("p",Il,l((($e=(Se=(Te=(We=s.value)==null?void 0:We.user)==null?void 0:Te.leave_approval)==null?void 0:Se.in_charge_user)==null?void 0:$e.name)||""),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((Me=s.value)!=null&&Me.in_charge_user_id)&&((Ue=(Ve=(He=s.value)==null?void 0:He.user)==null?void 0:Ve.leave_approval)==null?void 0:Ue.in_charge_user_id)===y(_).user.id?(a(),o("div",Wl,[e("p",Tl,[n(l((Ee=(qe=s.value)==null?void 0:qe.user)==null?void 0:Ee.name)+" has submitted an application. ",1),t[48]||(t[48]=e("br",null,null,-1)),t[49]||(t[49]=n(" Will you forward it? "))]),e("div",Sl,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[1]||(t[1]=r=>A("acceptInChargeApplication"))}," ✔ "),e("button",{class:"",onClick:m},"❌")])])):d("",!0),t[52]||(t[52]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("h4",$l,[e("p",null,[t[51]||(t[51]=n(" In-Charge ")),(Fe=s.value)!=null&&Fe.in_charge_user_id?(a(),o("span",Ml,"(✔)")):d("",!0),!((Oe=s.value)!=null&&Oe.in_charge_user_id)&&((Ge=(ze=(Pe=s.value)==null?void 0:Pe.user)==null?void 0:ze.leave_approval)!=null&&Ge.in_charge_user)?(a(),o("span",Hl,t[50]||(t[50]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)])]),e("p",Vl,l((Je=s.value)==null?void 0:Je.in_charge_note),1)]),e("div",Ul,[(Ke=s.value)!=null&&Ke.coordinator_user?(a(),o("p",ql,l(((Xe=(Qe=s.value)==null?void 0:Qe.coordinator_user)==null?void 0:Xe.name)||"N/A"),1)):(a(),o("p",El,l(((tt=(et=(Ze=(Ye=s.value)==null?void 0:Ye.user)==null?void 0:Ze.leave_approval)==null?void 0:et.coordinator_user)==null?void 0:tt.name)||"N/A"),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((st=s.value)!=null&&st.coordinator_user_id)&&((ot=(at=(lt=s.value)==null?void 0:lt.user)==null?void 0:at.leave_approval)==null?void 0:ot.coordinator_user_id)===y(_).user.id?(a(),o("div",Fl,[e("p",Ol,[n(l((rt=(nt=s.value)==null?void 0:nt.user)==null?void 0:rt.name)+" has submitted an application. ",1),t[53]||(t[53]=e("br",null,null,-1)),t[54]||(t[54]=n(" Will you recommend it? "))]),e("div",Pl,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[2]||(t[2]=r=>js(s.value.id))}," ✔ "),e("button",{class:"",onClick:m},"❌")])])):d("",!0),t[57]||(t[57]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("p",zl,[t[56]||(t[56]=n(" Coordinator ")),(it=s.value)!=null&&it.coordinator_user_id?(a(),o("span",Gl,"(✔)")):d("",!0),!((dt=s.value)!=null&&dt.coordinator_user_id)&&((ct=(pt=(ut=s.value)==null?void 0:ut.user)==null?void 0:pt.leave_approval)!=null&&ct.coordinator_user)?(a(),o("span",Jl,t[55]||(t[55]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)])]),e("div",Kl,[(vt=s.value)!=null&&vt.operational_admin_user?(a(),o("p",Ql,l(((_t=(bt=s.value)==null?void 0:bt.operational_admin_user)==null?void 0:_t.name)||""),1)):(a(),o("p",Xl,l(((ft=(xt=(mt=(yt=s.value)==null?void 0:yt.user)==null?void 0:mt.leave_approval)==null?void 0:xt.operational_admin_user)==null?void 0:ft.name)||"N/A"),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((gt=s.value)!=null&&gt.operational_admin_user_id)&&((At=(wt=(kt=s.value)==null?void 0:kt.user)==null?void 0:wt.leave_approval)==null?void 0:At.operational_admin_user_id)===y(_).user.id?(a(),o("div",Yl,[e("p",Zl,[n(l((jt=(ht=s.value)==null?void 0:ht.user)==null?void 0:jt.name)+" has submitted an application.",1),t[58]||(t[58]=e("br",null,null,-1)),t[59]||(t[59]=n(" Will you recommend it? "))]),e("div",ea,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[3]||(t[3]=r=>Cs(s.value.id))}," ✔ "),e("button",{class:"",onClick:m},"❌")])])):d("",!0),t[62]||(t[62]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("p",ta,[t[61]||(t[61]=n(" Operational Admin ")),(Ct=s.value)!=null&&Ct.operational_admin_user_id?(a(),o("span",sa,"(✔)")):d("",!0),!((Dt=s.value)!=null&&Dt.operational_admin_user_id)&&((Rt=(Bt=(Lt=s.value)==null?void 0:Lt.user)==null?void 0:Bt.leave_approval)!=null&&Rt.operational_admin_user)?(a(),o("span",la,t[60]||(t[60]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)])])]),e("div",aa,[e("div",oa,[(Nt=s.value)!=null&&Nt.recommend_by_user?(a(),o("p",na,l(((Wt=(It=s.value)==null?void 0:It.recommend_by_user)==null?void 0:Wt.name)||"N/A"),1)):(a(),o("p",ra,l(((Mt=($t=(St=(Tt=s.value)==null?void 0:Tt.user)==null?void 0:St.leave_approval)==null?void 0:$t.recommend_by_user)==null?void 0:Mt.name)||"N/A"),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((Ht=s.value)!=null&&Ht.recommend_by_user_id)&&((qt=(Ut=(Vt=s.value)==null?void 0:Vt.user)==null?void 0:Ut.leave_approval)==null?void 0:qt.recommend_by_user_id)===y(_).user.id?(a(),o("div",ia,[e("p",da,[n(l((Ft=(Et=s.value)==null?void 0:Et.user)==null?void 0:Ft.name)+" has submitted an application.",1),t[63]||(t[63]=e("br",null,null,-1)),t[64]||(t[64]=n(" Will you recommend it? "))]),e("div",ua,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[4]||(t[4]=r=>A("acceptRecommendByApplication"))}," ✔ "),e("button",{class:"",onClick:m},"❌")])])):d("",!0),t[67]||(t[67]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("p",pa,[t[66]||(t[66]=n(" Recommend By ")),(Ot=s.value)!=null&&Ot.recommend_by_user_id?(a(),o("span",ca,"(✔)")):d("",!0),!((Pt=s.value)!=null&&Pt.recommend_by_user_id)&&((Jt=(Gt=(zt=s.value)==null?void 0:zt.user)==null?void 0:Gt.leave_approval)!=null&&Jt.recommend_by_user)?(a(),o("span",va,t[65]||(t[65]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)]),e("p",ba,l((Kt=s.value)==null?void 0:Kt.recommend_note),1)]),e("div",_a,[(Qt=s.value)!=null&&Qt.approved_by_user?(a(),o("p",ya,l(((Yt=(Xt=s.value)==null?void 0:Xt.approved_by_user)==null?void 0:Yt.name)||""),1)):(a(),o("p",ma,l(((ss=(ts=(es=(Zt=s.value)==null?void 0:Zt.user)==null?void 0:es.leave_approval)==null?void 0:ts.approved_by_user)==null?void 0:ss.name)||""),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((ls=s.value)!=null&&ls.approved_by_user_id)&&((ns=(os=(as=s.value)==null?void 0:as.user)==null?void 0:os.leave_approval)==null?void 0:ns.approved_by_user_id)===y(_).user.id?(a(),o("div",xa,[e("p",fa,[n(l((is=(rs=s.value)==null?void 0:rs.user)==null?void 0:is.name)+" has submitted an application.",1),t[68]||(t[68]=e("br",null,null,-1)),t[69]||(t[69]=n(" Will you accept it? "))]),e("div",ga,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[5]||(t[5]=r=>A("acceptApprovedByApplication"))}," ✔ "),e("button",{class:"",onClick:m},"❌")])])):d("",!0),t[72]||(t[72]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("p",ka,[t[71]||(t[71]=n(" Approved By ")),(ds=s.value)!=null&&ds.approved_by_user_id?(a(),o("span",wa,"(✔)")):d("",!0),!((us=s.value)!=null&&us.approved_by_user_id)&&((vs=(cs=(ps=s.value)==null?void 0:ps.user)==null?void 0:cs.leave_approval)!=null&&vs.approved_by_user)?(a(),o("span",Aa,t[70]||(t[70]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)]),e("p",ha,l((bs=s.value)==null?void 0:bs.approval_note),1)])])])])),Ss(Vs)]),w.value?(a(),o("div",ja,[e("div",Ca,[t[73]||(t[73]=e("h3",{class:"title-lg"},"Accept Application",-1)),ms(e("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>c.value=r),rows:"4",placeholder:"Enter accept note...",class:"w-full border rounded-lg p-2 text-gray-700"},null,512),[[xs,c.value]]),e("div",Da,[e("button",{class:"btn-3",onClick:t[7]||(t[7]=r=>w.value=!1)},"Cancel"),e("button",{class:"btn-2 bg-red-500 text-white",onClick:ws},"Confirm")])])])):d("",!0),g.value?(a(),o("div",La,[e("div",Ba,[t[74]||(t[74]=e("h3",{class:"title-lg"},"Reject Application",-1)),ms(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=r=>k.value=r),rows:"4",placeholder:"Enter rejection reason...",class:"w-full border rounded-lg p-2 text-gray-700"},null,512),[[xs,k.value]]),e("div",Ra,[e("button",{class:"btn-3",onClick:t[9]||(t[9]=r=>g.value=!1)},"Cancel"),e("button",{class:"btn-2 bg-red-500 text-white",onClick:ks},"Confirm")])])])):d("",!0)],64)}}};export{Ma as default};
