import{L as S}from"./LoaderView-zFXZN7M5.js";import{N as w,r as k,y as v,o as a,c as n,a as e,w as C,t as r,d as N,v as A,q as $,l as x,e as p,s as j,b as L,A as M,h as l,m as y,F as T,x as R,f as V,n as z,p as E}from"./index-B7En1lXJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"flex gap-3"},q={class:"modal-card"},B={class:"title-lg"},D=["placeholder"],H={class:"flex justify-between gap-2 mt-4"},F={class:"capitalize hidden md:inline"},O={__name:"NotificationAcceptAndRejectHandler",props:{notificationType:{type:String,required:!0},applicationId:{type:[String,Number],required:!0}},setup(b){const o=b,u=w(),i=k(null),m=k(""),f=v(()=>i.value!==null),g=v(()=>i.value==="accept"?"Accept Application":"Reject Application");v(()=>i.value==="accept"?"btn-2":"btn-2 bg-red-500 text-white");function h(s){(s==="accept"||s==="reject")&&(i.value=s,m.value="")}function _(){i.value=null,m.value=""}async function d(){await u.updateSpecificNotification(o.notificationType,o.applicationId,i.value,m.value),_()}return(s,c)=>(a(),n("div",null,[e("div",I,[e("button",{onClick:c[0]||(c[0]=t=>h("accept")),class:"btn-2"},"Approve"),e("button",{onClick:c[1]||(c[1]=t=>h("reject")),class:"btn-1"},"Reject")]),f.value?(a(),n("div",{key:0,class:"fixed inset-0 z-50 flex justify-center items-center bg-black/50",onClick:C(_,["self"])},[e("div",q,[e("h3",B,r(g.value),1),N(e("textarea",{"onUpdate:modelValue":c[2]||(c[2]=t=>m.value=t),rows:"7",placeholder:`Enter ${i.value==="accept"?"accept":"rejection"} note...`,class:"w-full border rounded-lg p-2 text-gray-700"},null,8,D),[[A,m.value]]),e("div",H,[e("button",{class:"btn-3",onClick:_},"Cancel"),e("button",{class:$(i.value==="reject"?"btn-2-red":"btn-2-green"),onClick:d},[c[3]||(c[3]=x(" Confirm ")),e("span",F,r(i.value),1)],2)])])])):p("",!0)]))}},U={class:"space-y-6 px-4 py-4"},P={class:"text-2xl font-semibold capitalize text-gray-700"},Z={key:0,class:"ml-auto text-xs bg-red-500 text-white rounded-full px-2 py-0.5 font-semibold"},G={key:0,class:"text-center text-red-500 py-10 text-xl italic"},J={key:1,class:"space-y-4"},K={class:"flex gap-2 md:gap-3 items-center"},Q={class:"shrink-0 grow-0 btn-1 size-8 p-0"},W={class:"shrink grow font-semibold text-sm md:text-base"},X={class:"ml-auto shrink-0 grow-0 flex gap-2 md:gap-3 items-center"},Y=["href"],ee=["innerHTML"],te={class:"flex flex-wrap gap-y-1 gap-x-3 items-center text-xs md:text-sm lg:text-base"},se={key:0},ae={key:1},ne={class:"flex flex-wrap gap-y-1 gap-x-3 items-center text-xs md:text-sm lg:text-base"},oe={key:0},ie={class:"flex gap-3 items-center"},le={class:"flex items-center gap-8"},re={class:"flex flex-col md:flex-row gap-x-1 font-light text-xs md:text-sm pt-0.5"},ce={key:0},pe={key:1,class:"hidden md:inline"},de={key:2},xe={__name:"MySpecificNotificationList",setup(b){const o=V(),u=w(),{icons:i,loading:m,notifications:f,count_notifications:g}=j(u);L(()=>{o.params.type&&(u.fetchCountNotifications(),u.fetchSpecificNotifications(o.params.type))}),M(()=>o.params.type,(d,s)=>{d&&d!==s&&(u.fetchCountNotifications(),u.fetchSpecificNotifications(d))});const h={leave_applications:"LeaveApplicationShow",short_leave_applications:"ShortLeaveShow",shift_exchange_applications:"ExchangeShiftShow",offday_exchange_applications:"ExchangeOffdayShow",manual_attendance_applications:"ManualAttendanceShow"},_=v(()=>o.params.type?o.params.type.replace(/[_-]/g," ").replace(/([A-Z])/g," $1").replace(/\s+/g," ").trim().split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1)).join(" "):"");return(d,s)=>{const c=E("RouterLink");return a(),n("div",U,[e("h2",P,[x(r(_.value||"Notifications")+" ",1),l(g)[l(o).params.type]?(a(),n("span",Z,r(l(g)[l(o).params.type]),1)):p("",!0)]),l(m)?(a(),n("div",G,[y(S)])):l(f).length?(a(),n("div",J,[(a(!0),n(T,null,R(l(f),t=>(a(),n("div",{key:t.application_id,class:"bg-white p-3 md:p-4 rounded-xl shadow border grid gap-2"},[e("div",K,[e("div",Q,r(l(i)[l(o).params.type]),1),e("div",W,r(t.user_name),1),e("div",X,[t!=null&&t.attachment?(a(),n("a",{key:0,href:t.attachment,target:"_blank",class:"btn-4 px-2"},s[0]||(s[0]=[e("i",{class:"fad fa-link"},null,-1)]),8,Y)):p("",!0),y(c,{to:{name:h[l(o).params.type],params:{id:t.application_id}},class:"btn-1 px-3"},{default:z(()=>s[1]||(s[1]=[e("i",{class:"far fa-eye"},null,-1)])),_:2},1032,["to"])])]),e("div",{class:"flex items-center text-red-600 text-xs md:text-sm lg:text-base",innerHTML:t.message},null,8,ee),e("div",te,[t.type?(a(),n("div",se,[s[2]||(s[2]=e("span",{class:"text-gray-400"},"Type:",-1)),x(" "+r(t.type),1)])):p("",!0),t.duration?(a(),n("div",ae,[s[3]||(s[3]=e("span",{class:"text-gray-400"},"Duration:",-1)),x(" "+r(t.duration),1)])):p("",!0)]),e("div",ne,[t.reason?(a(),n("div",oe,[s[4]||(s[4]=e("span",{class:"text-gray-400"},"Reason:",-1)),x(" "+r(t.reason),1)])):p("",!0)]),e("div",ie,[e("div",le,[e("p",re,[t.pending?(a(),n("strong",ce," Pending: "+r(t.pending),1)):p("",!0),t.pending&&t.approved?(a(),n("span",pe," / ")):p("",!0),t.approved?(a(),n("strong",de," Approved: "+r(t.approved),1)):p("",!0)])]),y(O,{class:"ml-auto",notificationType:l(o).params.type,applicationId:t.application_id},null,8,["notificationType","applicationId"])])]))),128))])):p("",!0)])}}};export{xe as default};
