import{r as b,x as A,q as le,h as pe,y as ce,c as i,o,a as t,j as x,t as d,k as c,F as P,e as K,b as oe,v as V,z as X,w as j,J as me,s as F,A as ye,C as re,f as fe,u as xe,D as be,p as ge,d as L,l as he,H as z,m as ie,n as we,P as _e}from"./index-DgYll9c7.js";import{u as ke}from"./adminCareers-Dv05RYdX.js";import{u as Se}from"./department-ClkaFOa6.js";import{_ as Z}from"./TextEditor-Dzjcix2l.js";import{_ as Ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ce={class:"text-sm text-gray-700 flex items-center justify-between"},Ne={key:0,class:"text-xs text-gray-400"},$e={class:"mt-1 rounded-xl border bg-white focus-within:ring-2 focus-within:ring-indigo-200",role:"combobox","aria-expanded":"open","aria-haspopup":"listbox"},Me={class:"flex flex-wrap gap-1 items-center px-2 py-1.5"},Ue=["onClick"],De=["placeholder","onKeydown"],Ae={class:"relative"},Te={class:"absolute z-10 left-0 right-0 mt-1 rounded-xl border bg-white shadow-sm overflow-hidden",role:"listbox"},Be={key:0,class:"py-6 text-center text-sm text-gray-500"},Ee={key:0,class:"max-h-60 overflow-auto py-1"},Le=["onMousedown"],Fe={key:0,class:"text-[10px] px-1.5 py-0.5 rounded bg-emerald-100 text-emerald-700"},Pe={key:1,class:"p-3 text-sm text-gray-500"},Re={key:2,class:"border-t px-3 py-2 flex items-center justify-between"},qe={class:"text-sm"},Je=["disabled"],He={__name:"SkillsSelect",props:{modelValue:{type:Array,default:()=>[]},fetcher:{type:Function,required:!0},creator:{type:Function,required:!0},label:{type:String,default:"Skills"},placeholder:{type:String,default:"Search skills (e.g., Laravel)‚Ä¶"},max:{type:[Number,null],default:null},popularOnFocus:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(u,{emit:C}){const g=u,S=C,W=b(!1),y=b(""),f=b([]),M=b(!1),h=b(-1),R=b(!1),q=b(null),T=b(null);let Y=null;const v=A({get:()=>g.modelValue||[],set:n=>S("update:modelValue",n)}),J=A(()=>g.max==null||v.value.length<g.max);function H(){ye(()=>{var n,l;return(l=(n=q.value)==null?void 0:n.focus)==null?void 0:l.call(n)})}function a(n){W.value=n,n&&(h.value=f.value.length?0:-1)}function w(){y.value="",f.value=[],h.value=-1,H()}function N(n){return String(n||"").trim().replace(/\s+/g," ")}function p(n){return v.value.some(l=>Number(l.id)===Number(n))}function U(n){const l=N(n).toLowerCase();return v.value.some(e=>String(e.name).toLowerCase()===l)}function B(n){!n||!n.id||p(n.id)||(v.value=[...v.value,{id:Number(n.id),name:n.name}])}function ee(n){v.value=v.value.filter(l=>Number(l.id)!==Number(n))}function ae(){v.value=[]}async function I(n){M.value=!0;try{const l=await g.fetcher(String(n||""));f.value=Array.isArray(l)?l:[]}catch{f.value=[]}finally{M.value=!1,h.value=f.value.length?0:-1}}le(y,n=>{clearTimeout(Y),Y=setTimeout(()=>I(n),180)});async function se(){a(!0),g.popularOnFocus&&!y.value&&await I("")}function O(n){f.value.length&&(h.value=(h.value+n+f.value.length)%f.value.length)}async function E(n){if(!(!n||!J.value)){R.value=!0;try{const l=await g.creator(N(n));B(l),w(),a(!1)}catch{}finally{R.value=!1}}}function ne(){if(y.value===""){const n=v.value[v.value.length-1];n&&ee(n.id)}}async function G(){if(J.value){if(h.value>=0&&h.value<f.value.length){B(f.value[h.value]),w(),a(!1);return}y.value.trim()&&await E(y.value.trim())}}function te(n){var r;const l=(((r=n.clipboardData)==null?void 0:r.getData("text"))||"").trim();if(!l)return;const e=l.split(/[;,\n]+/).map(N).filter(Boolean);e.length<=1||(n.preventDefault(),(async()=>{for(const s of e){if(U(s))continue;const m=(await g.fetcher(s)).find($=>String($.name).toLowerCase()===s.toLowerCase());if(m?B(m):await E(s),!J.value)break}w(),a(!1)})())}function Q(n){T.value&&!T.value.contains(n.target)&&a(!1)}return pe(()=>window.addEventListener("mousedown",Q)),ce(()=>window.removeEventListener("mousedown",Q)),(n,l)=>(o(),i("div",{ref_key:"rootRef",ref:T},[t("label",Ce,[t("span",null,d(u.label),1),u.max?(o(),i("span",Ne,d(v.value.length)+"/"+d(u.max),1)):x("",!0)]),t("div",$e,[t("div",Me,[(o(!0),i(P,null,K(v.value,e=>(o(),i("span",{key:e.id,class:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-indigo-50 text-indigo-700 text-xs"},[oe(d(e.name)+" ",1),t("button",{type:"button",class:"opacity-70 hover:opacity-100",onClick:r=>ee(e.id),"aria-label":"Remove"},"‚úï",8,Ue)]))),128)),c(t("input",{ref_key:"inputRef",ref:q,"onUpdate:modelValue":l[0]||(l[0]=e=>y.value=e),placeholder:v.value.length?"":u.placeholder,class:"flex-1 min-w-[8rem] outline-none py-1.5 px-2 text-sm",onFocus:se,onKeydown:[l[1]||(l[1]=X(j(e=>O(1),["prevent"]),["down"])),l[2]||(l[2]=X(j(e=>O(-1),["prevent"]),["up"])),l[3]||(l[3]=X(j(e=>a(!1),["prevent"]),["esc"])),X(j(G,["prevent"]),["enter"]),X(ne,["backspace"])],onPaste:te},null,40,De),[[V,y.value]]),v.value.length?(o(),i("button",{key:0,type:"button",class:"text-xs text-rose-600 px-1.5 py-1",onClick:l[4]||(l[4]=e=>ae())},"Clear all")):x("",!0)]),c(t("div",Ae,[t("div",Te,[M.value?(o(),i("div",Be,"Searching‚Ä¶")):(o(),i(P,{key:1},[f.value.length?(o(),i("ul",Ee,[(o(!0),i(P,null,K(f.value,(e,r)=>(o(),i("li",{key:e.id,class:F(["px-3 py-2 text-sm cursor-pointer flex items-center justify-between",r===h.value?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50"]),onMousedown:j(s=>{B(e),w(),a(!1)},["prevent"])},[t("span",null,d(e.name),1),p(e.id)?(o(),i("span",Fe,"Added")):x("",!0)],42,Le))),128))])):(o(),i("div",Pe,"No matches")),y.value&&!M.value&&J.value&&!U(y.value)?(o(),i("div",Re,[t("span",qe,"Create ‚Äú"+d(y.value)+"‚Äù",1),t("button",{type:"button",class:"px-2 py-1 rounded bg-emerald-600 text-white text-xs",disabled:R.value,onMousedown:l[5]||(l[5]=j(e=>E(y.value),["prevent"]))},d(R.value?"Adding‚Ä¶":"Add"),41,Je)])):x("",!0)],64))])],512),[[me,W.value]])]),l[6]||(l[6]=t("p",{class:"mt-1 text-xs text-gray-500"},"Tip: Press Enter to select. Paste comma-separated skills to add many at once.",-1))],512))}},ue=u=>({id:Number(u.id),name:String(u.name),slug:u.slug});function ve(u){return Array.isArray(u==null?void 0:u.data)?u.data:Array.isArray(u)?u:[]}async function Ie(u="",C=10){try{const{data:g}=await re.get("/lookups/skills",{params:{q:u,limit:C}});return ve(g).map(ue)}catch{return[]}}async function Oe(u){const{data:C}=await re.post("/lookups/skills",{name:u});return ue(C)}async function je(u=[]){if(!(u!=null&&u.length))return[];const{data:C}=await re.post("/lookups/skills/by-ids",{ids:u});return ve(C).map(ue)}const ze={class:"container mx-auto min-h-screen bg-gradient-to-b from-white to-gray-50 print:bg-white"},Ke={class:"container mx-auto w-full print:max-w-full"},We={class:"sticky top-14 z-50 -mx-4 border-b rounded-md bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/60"},Ye={class:"mx-auto max-w-6xl px-4"},Ge={class:"flex items-center justify-between py-3"},Qe={class:"min-w-0"},Xe={class:"flex items-center gap-2"},Ze={class:"truncate text-xl font-semibold md:text-2xl"},et={class:"flex shrink-0 items-center gap-2"},tt=["disabled"],lt={key:0,class:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true"},at=["disabled"],st={key:0,class:"rounded-md bg-white/20 px-1.5 py-0.5 text-[11px] leading-none"},nt={class:"relative mx-auto grid min-h-[50vh] grid-cols-1 gap-6 mt-4 px-4 lg:grid-cols-[1fr_22rem]"},it={class:"grid gap-6",role:"form","aria-labelledby":"basic-info"},ot={class:"card",id:"basic-info"},rt={class:"grid gap-4 md:grid-cols-2"},ut=["aria-invalid"],dt={key:0,class:"error"},pt={class:"mt-4 grid gap-4 md:grid-cols-3"},ct=["aria-invalid"],vt=["value"],mt={key:0,class:"error"},yt={class:"card"},ft={class:"grid gap-4 md:grid-cols-4"},xt={class:"mt-1 flex overflow-hidden rounded-xl border focus-within:ring-2 focus-within:ring-indigo-200"},bt={class:"inline-flex items-center border-r px-2 text-xs text-gray-500"},gt=["aria-invalid"],ht={key:0,class:"error"},wt={class:"mt-1 flex overflow-hidden rounded-xl border focus-within:ring-2 focus-within:ring-indigo-200"},_t={class:"inline-flex items-center border-r px-2 text-xs text-gray-500"},kt=["aria-invalid"],St={key:0,class:"error"},Vt={class:"mt-4 grid gap-4 md:grid-cols-3"},Ct={class:"mt-1 inline-flex items-center gap-2",for:"salary-visible"},Nt={key:0,class:"mt-2 text-xs text-rose-600"},$t={class:"mt-4 grid gap-4 md:grid-cols-3"},Mt={class:"card"},Ut={class:"grid gap-4"},Dt={class:"card"},At={class:"mt-2 text-xs text-gray-500"},Tt={class:"card"},Bt={class:"grid gap-4 md:grid-cols-3"},Et={class:"sticky top-[72px] z-30 self-start space-y-6 lg:top-[76px]"},Lt={class:"card overflow-hidden","aria-labelledby":"preview-title"},Ft={class:"space-y-2 p-4"},Pt={class:"text-lg font-semibold"},Rt={class:"flex flex-wrap gap-1"},qt={key:0,class:"rounded-full bg-amber-100 px-2 py-0.5 text-xs text-amber-800"},Jt={class:"text-sm text-gray-600"},Ht={key:0,class:"text-xs text-gray-500"},It={class:"pt-2"},Ot={class:"flex flex-wrap gap-1"},jt={key:0,class:"text-xs text-gray-400"},zt={class:"card"},Kt={class:"border-b px-4 py-3"},Wt={class:"flex items-center justify-between"},Yt={class:"space-y-1 p-4 text-sm"},Gt={class:"text-gray-700"},Qt=Object.assign({name:"AdminCareersJobForm"},{__name:"JobEdit",setup(u){const C=fe(),g=xe(),S=ke(),W=Se(),{departments:y}=be(W),f=Object.freeze({full_time:"Full-time",part_time:"Part-time",contract:"Contract",internship:"Internship",temporary:"Temporary"}),M=new Intl.NumberFormat(void 0,{maximumFractionDigits:0}),h=l=>String(l||"").replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),R=l=>f[l]??h(l),q=l=>l?String(l).replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim():"",T=l=>{const e=q(l);return e?(e.match(/\b[\w‚Äô'-]+\b/g)||[]).length:0},Y=l=>{if(!l)return 0;const e=(l.match(/<li[\s>]/gi)||[]).length,s=q(l).split(/\n/).filter(Boolean).filter(m=>/^\s*[-*‚Ä¢]/.test(m)).length;return Math.max(e,s)},v=l=>{if(!l)return null;const e=new Date(l);if(isNaN(e))return null;const r=new Date,s=e.setHours(0,0,0,0)-r.setHours(0,0,0,0);return Math.ceil(s/864e5)},J=l=>!!l&&/^[a-z0-9]+(?:-[a-z0-9]+)*$/.test(l),H=A(()=>!!C.params.id),a=b({title:"",slug:"",department_id:null,location:"",employment_type:"full_time",workplace:"onsite",experience_level:"",min_experience_years:null,max_experience_years:null,vacancies:1,working_days:null,working_hours:"",salary_currency:"BDT",salary_min:null,salary_max:null,salary_period:"monthly",salary_visible:!0,summary:"",responsibilities:"",requirements:"",benefits:"",application_process:"",application_deadline:null,status:"draft",visibility:"public",posted_at:null,published_at:null,seo:null,skill_ids:[]}),w=b([]),N=b(!1),p=b({}),U=b(!1),B=b(!1),ee=A(()=>{if(!a.value.salary_visible)return"Hidden";const l=(a.value.salary_currency||"BDT").toUpperCase(),e=a.value.salary_min,r=a.value.salary_max,s=a.value.salary_period||"period";return e!=null&&r!=null?`${l} ${M.format(e)}‚Äì${M.format(r)} / ${s}`:e!=null?`${l} ${M.format(e)}+ / ${s}`:r!=null?`Up to ${l} ${M.format(r)} / ${s}`:"Negotiable"}),ae=A(()=>{const l=[];return a.value.employment_type&&l.push(R(a.value.employment_type)),a.value.workplace&&l.push(h(a.value.workplace)),a.value.location&&l.push(a.value.location),a.value.experience_level&&l.push(h(a.value.experience_level)),l}),I=A(()=>{var e;const l=[];return(e=a.value.title)!=null&&e.trim()||l.push("Title"),a.value.department_id||l.push("Department"),q(a.value.summary)||l.push("Summary"),l}),se=A(()=>I.value.length===0),O=A(()=>{var k;const l=[],e=(a.value.title||"").trim();e?(e.length>70&&l.push({type:"warn",text:"Title seems long (>70 chars). Shorten for scan-ability."}),/developer|engineer|designer|manager|officer|lead|intern/i.test(e)||l.push({type:"hint",text:"Consider a standard role keyword (e.g., ‚ÄúDeveloper‚Äù, ‚ÄúManager‚Äù) for searchability."})):l.push({type:"error",text:"Add a clear job title."}),J(a.value.slug)||l.push({type:"hint",text:'Use an SEO-friendly slug like "senior-frontend-developer-dhaka".'}),a.value.department_id||l.push({type:"error",text:"Select a department."}),a.value.location||l.push({type:"hint",text:"Set a specific location or ‚ÄúRemote/Hybrid‚Äù."}),T(a.value.summary)<40&&l.push({type:"hint",text:"Add a summary (~60‚Äì120 words) describing mission/impact."});const r=Y(a.value.responsibilities),s=Y(a.value.requirements);r>10&&l.push({type:"warn",text:"Responsibilities exceed 10 bullets. Aim for 6‚Äì8."}),s>10&&l.push({type:"warn",text:"Requirements exceed 10 bullets. Aim for 6‚Äì8."});const m=((k=w.value)==null?void 0:k.length)||0;m===0?l.push({type:"hint",text:"Add 5‚Äì10 top skills to improve matches."}):m>15&&l.push({type:"warn",text:"Too many skills selected. Focus on 5‚Äì10."});const $=Number(a.value.min_experience_years??NaN),D=Number(a.value.max_experience_years??NaN);!Number.isNaN($)&&!Number.isNaN(D)&&$>D&&l.push({type:"error",text:"Min experience cannot exceed Max."}),a.value.salary_visible||l.push({type:"hint",text:"Showing salary often increases apply rate."}),a.value.salary_min!=null&&a.value.salary_min<0&&l.push({type:"error",text:"Salary Min must be ‚â• 0."}),a.value.salary_max!=null&&a.value.salary_max<0&&l.push({type:"error",text:"Salary Max must be ‚â• 0."}),a.value.salary_min!=null&&a.value.salary_max!=null&&Number(a.value.salary_min)>Number(a.value.salary_max)&&l.push({type:"error",text:"Salary Min cannot exceed Max."});const _=v(a.value.application_deadline);return _==null?l.push({type:"hint",text:"Set an application deadline to create urgency."}):_<0?l.push({type:"warn",text:"Deadline is in the past. Update it."}):_<7&&l.push({type:"hint",text:"Very short deadline (<7 days). Consider extending."}),T(a.value.benefits)<10&&l.push({type:"hint",text:"List 3‚Äì6 tangible benefits (leave, insurance, WFH, learning budget)."}),T(a.value.application_process)<5&&l.push({type:"hint",text:"Describe the process (e.g., screening ‚Üí interview ‚Üí task ‚Üí final)."}),l}),E=A(()=>{let l=100;for(const e of O.value)e.type==="error"?l-=15:e.type==="warn"?l-=8:e.type==="hint"&&(l-=4);return Math.max(0,Math.min(100,l))});pe(async()=>{var l,e,r,s,m,$;try{if(await W.fetchDepartments(),H.value){const D=String(C.params.id);let _=(e=(l=S.jobs)==null?void 0:l.find)==null?void 0:e.call(l,k=>String(k.id)===D);if(!_&&S.fetchJobById&&(_=await S.fetchJobById(D)),_||(await((r=S.fetchJobs)==null?void 0:r.call(S,{per_page:200})),_=(m=(s=S.jobs)==null?void 0:s.find)==null?void 0:m.call(s,k=>String(k.id)===D)),_){Object.assign(a.value,{..._});const k=(($=_.skills)==null?void 0:$.map(de=>de.id))||_.skill_ids||[];w.value=k.length?await je(k):[],U.value=!1}}}catch(D){console.error(D)}window.addEventListener("beforeunload",te),window.addEventListener("keydown",Q),n=g.beforeEach((D,_,k)=>{if(!U.value)return k();window.confirm("You have unsaved changes. Leave this page?")?(U.value=!1,k()):k(!1)})});function ne(){var $;const l={};($=a.value.title)!=null&&$.trim()||(l.title="Title is required"),a.value.department_id||(l.department_id="Select a department");const e=a.value.salary_min,r=a.value.salary_max;e!=null&&e<0&&(l.salary_min="Must be ‚â• 0"),r!=null&&r<0&&(l.salary_max="Must be ‚â• 0"),e!=null&&r!=null&&Number(e)>Number(r)&&(l.salary_range="Min cannot exceed Max");const s=a.value.min_experience_years,m=a.value.max_experience_years;return s!=null&&m!=null&&Number(s)>Number(m)&&(l.exp_range="Min exp cannot exceed Max"),p.value=l,Object.keys(l).length===0}async function G(l=!1){if(l&&(a.value.status="published"),!!ne())try{N.value=!0,a.value.skill_ids=w.value.map(r=>r.id);const e={...a.value};H.value?await S.updateJob(C.params.id,e):await S.createJob(e),U.value=!1,g.replace({name:"AdminCareersJobs"})}catch(e){console.error(e),alert("Failed to save. Please try again.")}finally{N.value=!1}}le(()=>a.value.slug,()=>{B.value=!0}),le(()=>a.value.title,l=>{!B.value&&!H.value&&(a.value.slug=String(l||"").toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"))}),le(a,()=>{U.value=!0},{deep:!0});function te(l){U.value&&(l.preventDefault(),l.returnValue="")}function Q(l){(l.ctrlKey||l.metaKey)&&String(l.key).toLowerCase()==="s"&&(l.preventDefault(),G(!1))}let n=null;return ce(()=>{window.removeEventListener("beforeunload",te),window.removeEventListener("keydown",Q),typeof n=="function"&&n()}),(l,e)=>{const r=ge("router-link");return o(),i("div",ze,[t("div",Ke,[t("div",We,[t("div",Ye,[t("div",Ge,[t("div",Qe,[t("div",Xe,[e[26]||(e[26]=t("span",{class:"inline-flex h-8 w-8 items-center justify-center rounded-xl bg-indigo-600 text-white shadow-sm"},"üíº",-1)),t("h1",Ze,d(H.value?"Edit Job":"Create Job"),1)]),e[27]||(e[27]=t("p",{class:"mt-0.5 text-xs text-gray-500"},"Craft a clear, inclusive, and scannable posting.",-1))]),t("div",et,[L(r,{to:{name:"AdminCareersJobs"},class:"group inline-flex items-center gap-1 rounded-xl border px-3 py-2 text-gray-700 hover:bg-gray-50",title:"Back to list"},{default:he(()=>e[28]||(e[28]=[t("span",{class:"opacity-70 group-hover:opacity-100"},"Cancel",-1)])),_:1,__:[28]}),t("button",{onClick:e[0]||(e[0]=s=>G(!1)),disabled:N.value,class:"inline-flex items-center gap-2 rounded-xl bg-gray-900 px-3 py-2 text-white shadow-sm transition hover:bg-black/90 disabled:cursor-not-allowed disabled:opacity-60",title:"Ctrl/Cmd + S"},[N.value?(o(),i("svg",lt,e[29]||(e[29]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)]))):x("",!0),t("span",null,d(N.value?"Saving‚Ä¶":"Save Draft"),1)],8,tt),t("button",{onClick:e[1]||(e[1]=s=>G(!0)),disabled:N.value||!se.value,class:"inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-3 py-2 text-white shadow-sm transition hover:bg-indigo-700 disabled:cursor-not-allowed disabled:opacity-60"},[e[30]||(e[30]=t("span",null,"Publish",-1)),I.value.length?(o(),i("span",st,d(I.value.length),1)):x("",!0)],8,at)])])])]),t("div",nt,[t("div",it,[t("section",ot,[e[38]||(e[38]=t("div",{class:"section-head"},[t("h2",{class:"section-title"},"Basic Info"),t("p",{class:"section-sub"},"Title, department, location.")],-1)),t("div",rt,[t("div",null,[e[31]||(e[31]=t("label",{class:"label",for:"title"},[oe("Title "),t("span",{class:"text-rose-500"},"*")],-1)),c(t("input",{id:"title","onUpdate:modelValue":e[2]||(e[2]=s=>a.value.title=s),class:F(["input",p.value.title&&"input-error"]),"aria-invalid":!!p.value.title,placeholder:"e.g., Senior Frontend Engineer"},null,10,ut),[[V,a.value.title]]),p.value.title?(o(),i("p",dt,d(p.value.title),1)):x("",!0)]),t("div",null,[e[32]||(e[32]=t("label",{class:"label",for:"slug"},"Slug",-1)),c(t("input",{id:"slug","onUpdate:modelValue":e[3]||(e[3]=s=>a.value.slug=s),class:"input",placeholder:"auto or custom (e.g., senior-frontend-engineer)"},null,512),[[V,a.value.slug]])])]),t("div",pt,[t("div",null,[e[34]||(e[34]=t("label",{class:"label",for:"department"},[oe("Department "),t("span",{class:"text-rose-500"},"*")],-1)),c(t("select",{id:"department","onUpdate:modelValue":e[4]||(e[4]=s=>a.value.department_id=s),class:F(["input",p.value.department_id&&"input-error"]),"aria-invalid":!!p.value.department_id},[e[33]||(e[33]=t("option",{value:null},"‚Äî Select ‚Äî",-1)),(o(!0),i(P,null,K(ie(y),s=>(o(),i("option",{key:s.id,value:s.id},d(s.name),9,vt))),128))],10,ct),[[z,a.value.department_id]]),p.value.department_id?(o(),i("p",mt,d(p.value.department_id),1)):x("",!0)]),t("div",null,[e[35]||(e[35]=t("label",{class:"label",for:"location"},"Location",-1)),c(t("input",{id:"location","onUpdate:modelValue":e[5]||(e[5]=s=>a.value.location=s),class:"input",placeholder:"e.g., Mirpur DOHS / Remote"},null,512),[[V,a.value.location]])]),t("div",null,[e[37]||(e[37]=t("label",{class:"label",for:"exp-level"},"Experience Level",-1)),c(t("select",{id:"exp-level","onUpdate:modelValue":e[6]||(e[6]=s=>a.value.experience_level=s),class:"input"},e[36]||(e[36]=[we('<option value="" data-v-9c7d8bd6>‚Äî</option><option value="junior" data-v-9c7d8bd6>Junior</option><option value="mid" data-v-9c7d8bd6>Mid</option><option value="senior" data-v-9c7d8bd6>Senior</option><option value="lead" data-v-9c7d8bd6>Lead</option>',5)]),512),[[z,a.value.experience_level]])])])]),t("section",yt,[e[50]||(e[50]=t("div",{class:"section-head"},[t("h2",{class:"section-title"},"Compensation & Time"),t("p",{class:"section-sub"},"Salary range, currency, work schedule.")],-1)),t("div",ft,[t("div",null,[e[39]||(e[39]=t("label",{class:"label",for:"salary-min"},"Salary Min",-1)),t("div",xt,[t("span",bt,d((a.value.salary_currency||"BDT").toUpperCase()),1),c(t("input",{id:"salary-min",type:"number","onUpdate:modelValue":e[7]||(e[7]=s=>a.value.salary_min=s),class:F(["flex-1 px-3 py-2 outline-none",p.value.salary_min&&"ring-1 ring-rose-400"]),"aria-invalid":!!p.value.salary_min,min:"0",placeholder:"0"},null,10,gt),[[V,a.value.salary_min,void 0,{number:!0}]])]),p.value.salary_min?(o(),i("p",ht,d(p.value.salary_min),1)):x("",!0)]),t("div",null,[e[40]||(e[40]=t("label",{class:"label",for:"salary-max"},"Salary Max",-1)),t("div",wt,[t("span",_t,d((a.value.salary_currency||"BDT").toUpperCase()),1),c(t("input",{id:"salary-max",type:"number","onUpdate:modelValue":e[8]||(e[8]=s=>a.value.salary_max=s),class:F(["flex-1 px-3 py-2 outline-none",p.value.salary_max&&"ring-1 ring-rose-400"]),"aria-invalid":!!p.value.salary_max,min:"0",placeholder:"0"},null,10,kt),[[V,a.value.salary_max,void 0,{number:!0}]])]),p.value.salary_max?(o(),i("p",St,d(p.value.salary_max),1)):x("",!0)]),t("div",null,[e[41]||(e[41]=t("label",{class:"label",for:"currency"},"Currency",-1)),c(t("input",{id:"currency","onUpdate:modelValue":e[9]||(e[9]=s=>a.value.salary_currency=s),maxlength:"3",class:"input uppercase",placeholder:"BDT"},null,512),[[V,a.value.salary_currency]])]),t("div",null,[e[43]||(e[43]=t("label",{class:"label",for:"period"},"Period",-1)),c(t("select",{id:"period","onUpdate:modelValue":e[10]||(e[10]=s=>a.value.salary_period=s),class:"input"},e[42]||(e[42]=[t("option",{value:"monthly"},"Monthly",-1),t("option",{value:"yearly"},"Yearly",-1),t("option",{value:"hourly"},"Hourly",-1)]),512),[[z,a.value.salary_period]])])]),t("div",Vt,[t("label",Ct,[c(t("input",{id:"salary-visible",type:"checkbox","onUpdate:modelValue":e[11]||(e[11]=s=>a.value.salary_visible=s),class:"h-4 w-4 rounded border-gray-300 text-indigo-600"},null,512),[[_e,a.value.salary_visible]]),e[44]||(e[44]=t("span",{class:"text-sm text-gray-700"},"Show salary on the post",-1))]),t("div",null,[e[45]||(e[45]=t("label",{class:"label",for:"min-exp"},"Min Exp (years)",-1)),c(t("input",{id:"min-exp",type:"number","onUpdate:modelValue":e[12]||(e[12]=s=>a.value.min_experience_years=s),min:"0",class:"input",placeholder:"0"},null,512),[[V,a.value.min_experience_years,void 0,{number:!0}]])]),t("div",null,[e[46]||(e[46]=t("label",{class:"label",for:"max-exp"},"Max Exp (years)",-1)),c(t("input",{id:"max-exp",type:"number","onUpdate:modelValue":e[13]||(e[13]=s=>a.value.max_experience_years=s),min:"0",class:"input",placeholder:"0"},null,512),[[V,a.value.max_experience_years,void 0,{number:!0}]])])]),p.value.salary_range||p.value.exp_range?(o(),i("p",Nt,d(p.value.salary_range||p.value.exp_range),1)):x("",!0),t("div",$t,[t("div",null,[e[47]||(e[47]=t("label",{class:"label",for:"vacancies"},"Vacancies",-1)),c(t("input",{id:"vacancies",type:"number","onUpdate:modelValue":e[14]||(e[14]=s=>a.value.vacancies=s),min:"1",class:"input"},null,512),[[V,a.value.vacancies,void 0,{number:!0}]])]),t("div",null,[e[48]||(e[48]=t("label",{class:"label",for:"deadline"},"Application Deadline",-1)),c(t("input",{id:"deadline",type:"date","onUpdate:modelValue":e[15]||(e[15]=s=>a.value.application_deadline=s),class:"input"},null,512),[[V,a.value.application_deadline]])]),t("div",null,[e[49]||(e[49]=t("label",{class:"label",for:"working-hours"},"Working Hours",-1)),c(t("input",{id:"working-hours","onUpdate:modelValue":e[16]||(e[16]=s=>a.value.working_hours=s),class:"input",placeholder:"e.g., 10am‚Äì6pm (BST)"},null,512),[[V,a.value.working_hours]])])])]),t("section",Mt,[e[56]||(e[56]=t("div",{class:"section-head"},[t("h2",{class:"section-title"},"Descriptions"),t("p",{class:"section-sub"},"Use short paragraphs and bullet points.")],-1)),t("div",Ut,[t("div",null,[e[51]||(e[51]=t("label",{class:"label",for:"summary"},"Summary",-1)),L(Z,{id:"summary",modelValue:a.value.summary,"onUpdate:modelValue":e[17]||(e[17]=s=>a.value.summary=s)},null,8,["modelValue"])]),t("div",null,[e[52]||(e[52]=t("label",{class:"label",for:"responsibilities"},"Responsibilities",-1)),L(Z,{id:"responsibilities",modelValue:a.value.responsibilities,"onUpdate:modelValue":e[18]||(e[18]=s=>a.value.responsibilities=s)},null,8,["modelValue"])]),t("div",null,[e[53]||(e[53]=t("label",{class:"label",for:"requirements"},"Requirements",-1)),L(Z,{id:"requirements",modelValue:a.value.requirements,"onUpdate:modelValue":e[19]||(e[19]=s=>a.value.requirements=s)},null,8,["modelValue"])]),t("div",null,[e[54]||(e[54]=t("label",{class:"label",for:"benefits"},"Benefits",-1)),L(Z,{id:"benefits",modelValue:a.value.benefits,"onUpdate:modelValue":e[20]||(e[20]=s=>a.value.benefits=s)},null,8,["modelValue"])]),t("div",null,[e[55]||(e[55]=t("label",{class:"label",for:"process"},"Application Process",-1)),L(Z,{id:"process",modelValue:a.value.application_process,"onUpdate:modelValue":e[21]||(e[21]=s=>a.value.application_process=s)},null,8,["modelValue"])])])]),t("section",Dt,[e[57]||(e[57]=t("div",{class:"mb-3"},[t("h2",{class:"section-title"},"Skills"),t("p",{class:"section-sub"},"Type to search, Enter to add. Paste comma separated to bulk add.")],-1)),L(He,{modelValue:w.value,"onUpdate:modelValue":e[22]||(e[22]=s=>w.value=s),fetcher:ie(Ie),creator:ie(Oe),max:20},null,8,["modelValue","fetcher","creator"]),t("div",At,d(w.value.length)+" / 20 selected ",1)]),t("section",Tt,[e[64]||(e[64]=t("div",{class:"section-head"},[t("h2",{class:"section-title"},"Visibility"),t("p",{class:"section-sub"},"Control who can view and the current status.")],-1)),t("div",Bt,[t("div",null,[e[59]||(e[59]=t("label",{class:"label",for:"status"},"Status",-1)),c(t("select",{id:"status","onUpdate:modelValue":e[23]||(e[23]=s=>a.value.status=s),class:"input"},e[58]||(e[58]=[t("option",{value:"draft"},"Draft",-1),t("option",{value:"published"},"Published",-1),t("option",{value:"closed"},"Closed",-1)]),512),[[z,a.value.status]])]),t("div",null,[e[61]||(e[61]=t("label",{class:"label",for:"visibility"},"Visibility",-1)),c(t("select",{id:"visibility","onUpdate:modelValue":e[24]||(e[24]=s=>a.value.visibility=s),class:"input"},e[60]||(e[60]=[t("option",{value:"public"},"Public",-1),t("option",{value:"internal"},"Internal",-1)]),512),[[z,a.value.visibility]])]),t("div",null,[e[63]||(e[63]=t("label",{class:"label",for:"workplace"},"Workplace",-1)),c(t("select",{id:"workplace","onUpdate:modelValue":e[25]||(e[25]=s=>a.value.workplace=s),class:"input"},e[62]||(e[62]=[t("option",{value:"onsite"},"Onsite",-1),t("option",{value:"remote"},"Remote",-1),t("option",{value:"hybrid"},"Hybrid",-1)]),512),[[z,a.value.workplace]])])])])]),t("aside",Et,[t("section",Lt,[e[66]||(e[66]=t("div",{class:"border-b px-4 py-3"},[t("h3",{id:"preview-title",class:"font-medium"},"Preview"),t("p",{class:"text-xs text-gray-500"},"How candidates will see it.")],-1)),t("div",Ft,[t("h4",Pt,d(a.value.title||"Job title"),1),t("div",Rt,[(o(!0),i(P,null,K(ae.value,s=>(o(),i("span",{key:s,class:"rounded-full bg-gray-100 px-2 py-0.5 text-xs text-gray-700"},d(s),1))),128)),a.value.salary_visible?x("",!0):(o(),i("span",qt," Salary hidden "))]),t("div",Jt,"Salary: "+d(ee.value),1),a.value.application_deadline?(o(),i("div",Ht," Deadline: "+d(new Date(a.value.application_deadline).toLocaleDateString()),1)):x("",!0),t("div",It,[e[65]||(e[65]=t("div",{class:"mb-1 text-xs text-gray-500"},"Top skills",-1)),t("div",Ot,[(o(!0),i(P,null,K(w.value,s=>(o(),i("span",{key:s.id,class:"rounded bg-indigo-50 px-2 py-0.5 text-xs text-indigo-700"},d(s.name),1))),128)),w.value.length?x("",!0):(o(),i("span",jt,"No skills added"))])])])]),t("section",zt,[t("div",Kt,[t("div",Wt,[e[67]||(e[67]=t("h3",{class:"font-medium"},"Quality & Tips",-1)),t("div",{class:F(["rounded-full px-2 py-0.5 text-xs",E.value>=80?"bg-green-100 text-green-700":E.value>=60?"bg-amber-100 text-amber-800":"bg-rose-100 text-rose-700"])},d(E.value)+" / 100 ",3)])]),t("ul",Yt,[(o(!0),i(P,null,K(O.value.length?O.value:[{type:"hint",text:"Add a short summary (‚âà60‚Äì120 words)."},{type:"hint",text:"List 3‚Äì6 key responsibilities."}],(s,m)=>(o(),i("li",{key:m,class:"flex items-start gap-2"},[t("span",{class:F(["mt-0.5 inline-flex h-2.5 w-2.5 shrink-0 rounded-full",s.type==="error"?"bg-rose-500":s.type==="warn"?"bg-amber-500":"bg-gray-400"])},null,2),t("span",Gt,d(s.text),1)]))),128))])])])])])])}}}),al=Ve(Qt,[["__scopeId","data-v-9c7d8bd6"]]);export{al as default};
