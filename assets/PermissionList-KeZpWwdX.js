import{u as h}from"./userPermissionStore-tiG-ze3V.js";import{u as k,s as g,e as x,k as y,c as n,o as a,a as s,l as P,p as w,n as C,F as v,x as B,t as i,h as L}from"./index-BbzRfK9P.js";const A={class:"space-y-2 px-4"},N={class:"flex items-center justify-between gap-2"},R={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},j={class:"p-3 border"},S={class:"p-3 border"},U={class:"p-3 border"},V={class:"p-3 border"},D={key:0},E={key:1},F={class:"p-3 border flex justify-center md:gap-4"},T=["onClick"],$=["onClick"],G={__name:"PermissionList",setup(M){const r=h(),c=k(),{userPermissions:u}=g(r),f=o=>{c.push({name:"PermissionEdit",params:{id:o}})},b=o=>{r.deletePermission(o)};return x(()=>{r.fetchUserPermissions()}),(o,t)=>{const m=y("RouterLink");return a(),n("div",A,[s("div",N,[s("button",{class:"btn-3",onClick:t[0]||(t[0]=(...e)=>o.goBack&&o.goBack(...e))},t[1]||(t[1]=[s("i",{class:"far fa-arrow-left"},null,-1),s("span",{class:"hidden md:flex"},"Back",-1)])),t[3]||(t[3]=s("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Permissions List",-1)),P(m,{to:{name:"PermissionsAdd"},class:"btn-2"},{default:w(()=>t[2]||(t[2]=[C(" + Add New ")])),_:1,__:[2]})]),s("table",R,[t[6]||(t[6]=s("thead",{class:"bg-gray-100"},[s("tr",{class:"bg-gray-200"},[s("th",{class:"text-left p-3 border"},"#"),s("th",{class:"text-left p-3 border"},"User"),s("th",{class:"text-left p-3 border"},"Company"),s("th",{class:"text-left p-3 border"},"Departments"),s("th",{class:"text-left p-3 border"},"Actions")])],-1)),s("tbody",null,[(a(!0),n(v,null,B(L(u),(e,p)=>{var l,d;return a(),n("tr",{key:e.id,class:"hover:bg-gray-50"},[s("td",j,i(p+=1),1),s("td",S,i((l=e==null?void 0:e.user)==null?void 0:l.name),1),s("td",U,i((d=e==null?void 0:e.company)==null?void 0:d.name),1),s("td",V,[e.department_ids.includes("*")?(a(),n("span",D,"All")):(a(),n("span",E,i(e.departments.join(", ")),1))]),s("td",F,[s("button",{onClick:_=>f(e.id),class:"btn-1"},t[4]||(t[4]=[s("i",{class:"fas fa-edit"},null,-1)]),8,T),s("button",{onClick:_=>b(e.id),class:"btn-1 text-red-600"},t[5]||(t[5]=[s("i",{class:"fas fa-trash"},null,-1)]),8,$)])])}),128))])])])}}};export{G as default};
