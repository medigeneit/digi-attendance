import{r as j,c as d,o as a,a as e,g as l,h as L,v as R,F as $,b as M,u as P,d as V,a2 as F,n as E,t as r,q as H,p as m,f as z,k as b,i as G}from"./index-BvwbEAQU.js";import{u as q}from"./overtime-DxAbR4Kh.js";import{_ as W}from"./AcceptAndRejectHandler-ZruBSM1p.js";import{_ as J}from"./DisplayFormattedWorkingHours-D-PvbSwV.js";const K={key:0,class:"fixed inset-0 z-50 flex justify-center items-center bg-black/50"},Q={class:"modal-card max-w-sm"},X={__name:"UpdateApprovalTime",props:{overtime:Object},setup(o){const u=o,x=q(),i=j(!1),c=j(parseInt(u.overtime.approval_overtime_hours||u.overtime.request_overtime_hours||"")),y=async()=>{if(!c.value)return alert("Please set approval time!");await x.updateApprovalTime(u.overtime.id,c.value),g()},g=()=>{i.value=!1};return(t,n)=>(a(),d($,null,[e("i",{onClick:n[0]||(n[0]=p=>i.value=!i.value),class:"fa fa-edit cursor-pointer text-sky-600"}),i.value?(a(),d("div",K,[e("div",Q,[n[2]||(n[2]=e("h3",{class:"title-lg"},"Update Approval Time",-1)),n[3]||(n[3]=e("hr",{class:"my-2"},null,-1)),L(e("input",{"onUpdate:modelValue":n[1]||(n[1]=p=>c.value=p),type:"number",class:"input-1",required:""},null,512),[[R,c.value]]),n[4]||(n[4]=e("hr",{class:"my-2"},null,-1)),e("div",{class:"flex justify-between gap-2 mt-4"},[e("button",{class:"btn-3",onClick:g},"Cancel"),e("button",{class:"btn-2-green",onClick:y},"Update Time")])])])):l("",!0)],64))}},Y={class:"space-y-4"},Z={class:"card-bg p-4 gap-1"},ee={class:"flex flex-wrap gap-x-8 gap-y-2"},te={key:0,class:"text-gray-700"},se={class:"ml-1"},re={key:1,class:"text-gray-700"},oe={class:"ml-1"},ae={key:2,class:"text-gray-700"},ne={class:"ml-1"},de={key:3,class:"text-gray-700"},le={class:"ml-1"},ie={key:4,class:"text-gray-700"},ce={class:"ml-1"},ue={class:"overflow-x-auto"},pe={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},xe={class:"border border-gray-300 px-2 text-center"},be={class:"border border-gray-300 px-2 text-center"},ye={class:"border border-gray-300 px-2 text-center"},ge={class:"border border-gray-300 px-2 text-center"},me={class:"border border-gray-300 px-2 text-center"},_e={class:"border border-gray-300 px-2 text-center"},he={class:"border border-gray-300 px-2 text-center"},fe={class:"border border-gray-300 px-2 text-center"},ve={class:"border border-gray-300 px-2 text-center"},ke={class:"flex items-center justify-center gap-4"},we={class:"border border-gray-300 px-2 text-center"},Se={class:"border border-gray-300 px-2 text-center"},Ae={class:"border border-gray-300 px-2 text-center !py-0.5"},Ce={class:"flex items-center justify-center gap-x-4"},De={key:0,class:"border border-dashed px-4 rounded-xl"},Ne={key:0},je={__name:"OvertimeDataList",props:{user:Object,onUpdate:{type:Function,default:null}},setup(o){M(),P();const u=V(),x=q(),i=F(),c=o,y=()=>{c.onUpdate?c.onUpdate():i.fetchCountNotifications()};return(g,t)=>{var p,_,h,f,v,k,w,S,A,C,D,N,T,U,I;const n=E("RouterLink");return a(),d("div",Y,[e("div",Z,[e("div",ee,[(p=o.user)!=null&&p.employee_id?(a(),d("p",te,[t[0]||(t[0]=e("span",{class:"text-gray-400"},"Employee ID:",-1)),e("strong",se,r(((_=o.user)==null?void 0:_.employee_id)||"N/A"),1)])):l("",!0),(h=o.user)!=null&&h.name?(a(),d("p",re,[t[1]||(t[1]=e("span",{class:"text-gray-400"},"Name:",-1)),e("strong",oe,r((f=o.user)==null?void 0:f.name),1)])):l("",!0),(k=(v=o.user)==null?void 0:v.designation)!=null&&k.title?(a(),d("p",ae,[t[2]||(t[2]=e("span",{class:"text-gray-400"},"Designation:",-1)),e("strong",ne,r(((S=(w=o.user)==null?void 0:w.designation)==null?void 0:S.title)||"N/A"),1)])):l("",!0),(C=(A=o.user)==null?void 0:A.department)!=null&&C.name?(a(),d("p",de,[t[3]||(t[3]=e("span",{class:"text-gray-400"},"Department:",-1)),e("strong",le,r(((N=(D=o.user)==null?void 0:D.department)==null?void 0:N.name)||"N/A"),1)])):l("",!0),(T=o.user)!=null&&T.phone?(a(),d("p",ie,[t[4]||(t[4]=e("span",{class:"text-gray-400"},"Phone:",-1)),e("strong",ce,r((U=o.user)==null?void 0:U.phone),1)])):l("",!0)])]),e("div",ue,[e("table",pe,[t[7]||(t[7]=e("thead",null,[e("tr",{class:"bg-gray-200 *:py-1"},[e("th",{class:"border border-gray-300 px-2 text-center"},"#"),e("th",{class:"border border-gray-300 px-2 text-center"},"Date"),e("th",{class:"border border-gray-300 px-2 text-center"},"Type"),e("th",{class:"border border-gray-300 px-2 text-center"},"Shift"),e("th",{class:"border border-gray-300 px-2 text-center"},"Check-In"),e("th",{class:"border border-gray-300 px-2 text-center"},"Check-Out"),e("th",{class:"border border-gray-300 px-2 text-center"},"Working (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Request (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Approved (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Details"),e("th",{class:"border border-gray-300 px-2 text-center"},"Status"),e("th",{class:"border border-gray-300 px-2 text-center"},"Action")])],-1)),e("tbody",null,[(a(!0),d($,null,H(b(x).overtimes,(s,B)=>{var O;return a(),d("tr",{key:s==null?void 0:s.id,class:"border-b border-gray-200 hover:bg-blue-200 *:py-2"},[e("td",xe,r(B+1),1),e("td",be,r(new Date(s.date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})),1),e("td",ye,r(s.duty_type),1),e("td",ge,r(s.shift),1),e("td",me,r(s.check_in||"- : -"),1),e("td",_e,r(s.check_out||"- : -"),1),e("td",he,[m(J,{workingHours:s.working_hours},null,8,["workingHours"])]),e("td",fe,r(parseInt(s.request_overtime_hours)||"-"),1),e("td",ve,[e("div",ke,[e("span",null,r(parseInt(s.approval_overtime_hours)||"-"),1),((O=b(u).user)==null?void 0:O.id)===8?(a(),z(X,{key:0,overtime:s},null,8,["overtime"])):l("",!0)])]),e("td",we,r(s.work_details||""),1),e("td",Se,r(s.status||"Pending"),1),e("td",Ae,[e("div",Ce,[b(i).applicationApprovalPermissions[s.id]?(a(),d("div",De,[m(W,{class:"ml-auto",notificationType:"overtime_applications",applicationId:s.id,onSuccess:y,variant:1},null,8,["applicationId"])])):l("",!0),m(n,{to:{name:"MyOvertimeShow",params:{id:s.id}},class:"text-blue-800"},{default:G(()=>t[5]||(t[5]=[e("i",{class:"far fa-eye text-lg"},null,-1)])),_:2,__:[5]},1032,["to"])])])])}),128)),((I=b(x).overtimes)==null?void 0:I.length)===0?(a(),d("tr",Ne,t[6]||(t[6]=[e("td",{colspan:"100",class:"p-2 text-center text-red-500"},"No overtimes found",-1)]))):l("",!0)])])])])}}};export{je as _};
