import{E as v,r,G as l}from"./index-M4cneyyJ.js";const N=v("notice",()=>{const i=r([]),u=r({}),o=r(null),s=r(!1);return{notices:i,notice:u,error:o,isLoading:s,fetchFileUpload:async n=>{var t,e;try{return s.value=!0,(await l.post("file-upload",n,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){o.value=((e=(t=a.response)==null?void 0:t.data)==null?void 0:e.message)||"Something went wrong"}finally{s.value=!1}},fetchNotices:async()=>{var n,t;try{s.value=!0;const e=await l.get("/notices");i.value=e==null?void 0:e.data,o.value=null}catch(e){o.value=((t=(n=e.response)==null?void 0:n.data)==null?void 0:t.message)||"Something went wrong"}finally{s.value=!1}},fetchNotice:async n=>{var t,e;try{s.value=!0;const c=(await l.get(`/notices/${n}`)).data;return c&&(u.value=c),o.value=null,c}catch(a){o.value=((e=(t=a.response)==null?void 0:t.data)==null?void 0:e.message)||"Something went wrong"}finally{s.value=!1}},createNotice:async n=>{var t,e;try{s.value=!0;const a=await l.post("/notices",n);i.value.push(a.data.notices),o.value=null}catch(a){o.value=((e=(t=a.response)==null?void 0:t.data)==null?void 0:e.message)||"Something went wrong"}finally{s.value=!1}},updateNotice:async(n,t)=>{var e,a;try{s.value=!0;const c=await l.put(`/notices/${n}`,t),f=users.value.findIndex(p=>p.id===n);f!==-1&&(u.value[f]=c.data.notice),o.value=null}catch(c){o.value=((a=(e=c.response)==null?void 0:e.data)==null?void 0:a.message)||"Something went wrong"}finally{s.value=!1}}}});export{N as u};
