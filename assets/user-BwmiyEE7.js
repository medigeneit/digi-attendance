import{D as w,r as c,n as i,E as o}from"./index-C6a1UUq-.js";const C=w("user",()=>{const l=c([]),v=c({}),t=c(null),n=c(!1),d=i(()=>l.value),g=i(()=>v.value),p=i(()=>t.value);return{users:l,user:v,error:t,isLoading:n,allUsers:d,singleUser:g,errorMessage:p,fetchUsers:async()=>{var r,s;try{n.value=!0;const e=await o.get("/users");l.value=e.data,t.value=null}catch(e){t.value=((s=(r=e.response)==null?void 0:r.data)==null?void 0:s.message)||"Something went wrong"}finally{n.value=!1}},fetchUser:async r=>{var s,e;try{n.value=!0;const u=(await o.get(`/users/${r}`)).data;return u&&(v.value=u),t.value=null,u}catch(a){t.value=((e=(s=a.response)==null?void 0:s.data)==null?void 0:e.message)||"Something went wrong"}finally{n.value=!1}},createUser:async r=>{var s,e;try{n.value=!0;const a=await o.post("/users",r);l.value.push(a.data.user),t.value=null}catch(a){t.value=((e=(s=a.response)==null?void 0:s.data)==null?void 0:e.message)||"Something went wrong"}finally{n.value=!1}},updateUser:async(r,s)=>{var e,a;try{n.value=!0;const u=await o.put(`/users/${r}`,s),f=l.value.findIndex(h=>h.id===r);f!==-1&&(l.value[f]=u.data.user),t.value=null}catch(u){t.value=((a=(e=u.response)==null?void 0:e.data)==null?void 0:a.message)||"Something went wrong"}finally{n.value=!1}},deleteUser:async r=>{var s,e;try{n.value=!0,await o.delete(`/users/${r}`),l.value=l.value.filter(a=>a.id!==r),t.value=null}catch(a){t.value=((e=(s=a.response)==null?void 0:s.data)==null?void 0:e.message)||"Something went wrong"}finally{n.value=!1}}}});export{C as u};
