import{r,e as h,K as C,c as m,o as p,a as b,g as k,L as v,x as d,w as g,J as x,j as N,t as y}from"./index-CAZwLrDE.js";const E={__name:"DescriptionView",props:{lineClamp:{type:[String,Number],default:2},className:{type:Object,default:()=>{}}},setup(f){const o=[""," line-clamp-1 "," line-clamp-2 "," line-clamp-3 "," line-clamp-4 "," line-clamp-5 "," line-clamp-6 "," line-clamp-7 "," line-clamp-8 "," line-clamp-9 "," line-clamp-10 "],e=f,l=r(o[e.lineClamp]),s=r(!1),i=r(null);function t(){const a=i.value;a&&(s.value=a.scrollHeight>a.clientHeight)}function w(){l.value=l.value?"":o[e.lineClamp],x(()=>t())}let n=null;return h(()=>{t(),window.addEventListener("resize",()=>t()),n=new MutationObserver(()=>t()),n.observe(i.value,{childList:!0,subtree:!0,characterData:!0})}),C(()=>{window.removeEventListener("resize",t),n&&n.disconnect()}),(a,S)=>{var c,u;return p(),m("div",null,[b("p",{ref_key:"descriptionEl",ref:i,class:d(["print:line-clamp-none",l.value+(((c=e==null?void 0:e.className)==null?void 0:c.paragraph)||"")])},[v(a.$slots,"default")],2),s.value||l.value===""?(p(),m("button",{key:0,class:d(["text-blue-500 hover:text-sky-400 ml-auto text-sm print:hidden mt-2 whitespace-nowrap",((u=e==null?void 0:e.className)==null?void 0:u.button)||""]),onClick:g(w,["prevent"])},[v(a.$slots,"btnText",{lineClampClass:l.value,isOverflowing:s.value},()=>[N(y(l.value?"Show More":"Show Less"),1)])],2)):k("",!0)])}}};export{E as _};
