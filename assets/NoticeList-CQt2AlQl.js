import{L as N}from"./LoaderView-BBfOW4ws.js";import{u as L}from"./notice-VrrUdQpa.js";import{s as D,b as S,p as B,c as e,a as s,l as u,m as b,h as C,F as c,x as f,n as E,o as a,t as o,g as R}from"./index-D23XhQW1.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"space-y-2 px-4"},V={class:"flex items-center justify-between gap-2"},F={key:0,class:"text-center py-4"},T={key:1,class:"space-y-4"},U={class:"title-md"},j={class:"overflow-x-auto"},M={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},P={class:"border border-gray-300 px-2"},q={class:"border border-gray-300 px-2"},z={class:"border border-gray-300 px-2"},G={class:"border border-gray-300 px-2"},H={class:"border border-gray-300 px-2"},I={class:"border border-gray-300 px-2"},J={class:"border border-gray-300 px-2"},K={class:"flex gap-2"},Z={__name:"NoticeList",setup(O){const y=R(),p=L(),{notices:_}=D(p);S(()=>{p.fetchNotices()});const h=()=>{y.go(-1)},m=d=>new Date(d).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),w=B(()=>{const d={};return _.value.forEach(r=>{var n;const l=((n=r.company)==null?void 0:n.name)||"Unknown Company";d[l]||(d[l]=[]),d[l].push(r)}),d});return(d,r)=>{const l=E("RouterLink");return a(),e("div",A,[s("div",V,[s("button",{class:"btn-3",onClick:h},r[0]||(r[0]=[s("i",{class:"far fa-arrow-left"},null,-1),s("span",{class:"hidden md:flex"},"Back",-1)])),r[2]||(r[2]=s("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Notice List",-1)),u(l,{to:{name:"NoticeAdd"},class:"btn-2"},{default:b(()=>r[1]||(r[1]=[s("span",{class:"hidden md:flex"},"Add New",-1),s("i",{class:"far fa-plus"},null,-1)])),_:1})]),C(p).isLoading?(a(),e("div",F,[u(N)])):(a(),e("div",T,[(a(!0),e(c,null,f(w.value,(n,g)=>(a(),e("div",{key:g},[s("h2",U,o(g),1),s("div",j,[s("table",M,[r[5]||(r[5]=s("thead",null,[s("tr",{class:"bg-gray-200"},[s("th",{class:"border border-gray-300 px-2 text-left"},"#"),s("th",{class:"border border-gray-300 px-2 text-left"},"Title"),s("th",{class:"border border-gray-300 px-2 text-left"},"Company"),s("th",{class:"border border-gray-300 px-2 text-left"},"Department"),s("th",{class:"border border-gray-300 px-2 text-left"},"Published Date"),s("th",{class:"border border-gray-300 px-2 text-left"},"Expired Date"),s("th",{class:"border border-gray-300 px-2 text-left"},"Action")])],-1)),s("tbody",null,[(a(!0),e(c,null,f(n,(t,k)=>{var x;return a(),e("tr",{key:t.id,class:"border-b border-gray-200 hover:bg-gray-100"},[s("td",P,o(k+1),1),s("td",q,o(t==null?void 0:t.title),1),s("td",z,o((x=t==null?void 0:t.company)==null?void 0:x.name),1),s("td",G,[(a(!0),e(c,null,f(t==null?void 0:t.departments,(i,v)=>(a(),e("span",{key:i.id},o(i==null?void 0:i.name)+" "+o(v<(t==null?void 0:t.departments.length)-1?", ":""),1))),128))]),s("td",H,o(m(t==null?void 0:t.published_at)),1),s("td",I,o(m(t==null?void 0:t.expired_at)||"নেই"),1),s("td",J,[s("div",K,[u(l,{to:{name:"NoticeShow",params:{id:t.id}},class:"btn-icon"},{default:b(()=>r[3]||(r[3]=[s("i",{class:"far fa-eye"},null,-1)])),_:2},1032,["to"]),u(l,{to:{name:"NoticeEdit",params:{id:t.id}},class:"btn-icon"},{default:b(()=>r[4]||(r[4]=[s("i",{class:"far fa-edit"},null,-1)])),_:2},1032,["to"])])])])}),128))])])])]))),128))]))])}}};export{Z as default};
