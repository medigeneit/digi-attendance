import{ad as L,D as C,h as j,x,p as B,c,o,a as e,t as d,n as M,i as T,F as q,e as E,j as O,m as R,k as V,s as y}from"./index-DGmPUdou.js";const A={class:"relative overflow-hidden px-4 py-6 md:px-6"},D={class:"relative mx-auto max-w-5xl"},F={class:"mb-6 flex flex-col gap-3 md:flex-row md:items-end md:justify-between"},U={class:"flex items-center gap-3"},z={class:"rounded-xl bg-white/80 px-4 py-2 shadow ring-1 ring-slate-200"},G={class:"text-lg font-semibold text-slate-900"},H={class:"rounded-xl bg-slate-900 px-4 py-2 shadow"},I={class:"text-lg font-semibold text-white"},J={key:0,class:"grid gap-3 md:grid-cols-3"},K={key:1,class:"rounded-2xl bg-rose-50 p-4 text-rose-700 ring-1 ring-rose-200"},P={key:2,class:"grid gap-3 md:grid-cols-3"},Q={class:"flex items-start justify-between gap-3"},W={class:"flex items-center gap-3"},X={class:"text-sm font-semibold text-slate-900"},$={__name:"MyNotificationList",setup(Y){const u=L(),{icons:l,total_notifications:w,count_notifications:s}=C(u);j(()=>{u.fetchCountNotifications()});const k=x(()=>u.loading),v=x(()=>u.error),N=x(()=>{var n,t,i,a,p,r;return(((n=s.value)==null?void 0:n.leave_applications)||0)+(((t=s.value)==null?void 0:t.short_leave_applications)||0)+(((i=s.value)==null?void 0:i.shift_exchange_applications)||0)+(((a=s.value)==null?void 0:a.offday_exchange_applications)||0)+(((p=s.value)==null?void 0:p.manual_attendance_applications)||0)+(((r=s.value)==null?void 0:r.overtime_applications)||0)}),S=x(()=>{var n,t,i,a,p,r,_,g,m,f,b,h;return[{type:"leave_applications",label:"Leave Applications",accent:"bg-emerald-100 text-emerald-700",badge:"bg-emerald-600",count:((n=s.value)==null?void 0:n.leave_applications)||0,icon:(t=l.value)==null?void 0:t.leave_applications},{type:"short_leave_applications",label:"Short Leave",accent:"bg-amber-100 text-amber-700",badge:"bg-amber-600",count:((i=s.value)==null?void 0:i.short_leave_applications)||0,icon:(a=l.value)==null?void 0:a.short_leave_applications},{type:"shift_exchange_applications",label:"Shift Exchange",accent:"bg-sky-100 text-sky-700",badge:"bg-sky-600",count:((p=s.value)==null?void 0:p.shift_exchange_applications)||0,icon:(r=l.value)==null?void 0:r.shift_exchange_applications},{type:"offday_exchange_applications",label:"Offday Exchange",accent:"bg-indigo-100 text-indigo-700",badge:"bg-indigo-600",count:((_=s.value)==null?void 0:_.offday_exchange_applications)||0,icon:(g=l.value)==null?void 0:g.offday_exchange_applications},{type:"manual_attendance_applications",label:"Manual Attendance",accent:"bg-rose-100 text-rose-700",badge:"bg-rose-600",count:((m=s.value)==null?void 0:m.manual_attendance_applications)||0,icon:(f=l.value)==null?void 0:f.manual_attendance_applications},{type:"overtime_applications",label:"Overtime",accent:"bg-slate-100 text-slate-700",badge:"bg-slate-700",count:((b=s.value)==null?void 0:b.overtime_applications)||0,icon:(h=l.value)==null?void 0:h.overtime_applications}]});return(n,t)=>{const i=B("RouterLink");return o(),c("section",A,[e("div",D,[e("div",F,[t[2]||(t[2]=e("div",null,[e("p",{class:"text-xs uppercase tracking-[0.3em] text-slate-500 font-semibold"}," Notifications "),e("h1",{class:"text-2xl md:text-3xl font-serif font-semibold text-slate-900"}," Track approvals and requests "),e("p",{class:"text-sm md:text-base text-slate-600"}," See pending requests by category and jump directly to review them. ")],-1)),e("div",U,[e("div",z,[t[0]||(t[0]=e("p",{class:"text-xs uppercase text-slate-500"},"Total",-1)),e("p",G,d(M(w)),1)]),e("div",H,[t[1]||(t[1]=e("p",{class:"text-xs uppercase text-slate-300"},"Unread",-1)),e("p",I,d(N.value),1)])])]),k.value?(o(),c("div",J,t[3]||(t[3]=[T('<div class="h-24 rounded-2xl bg-slate-100 animate-pulse"></div><div class="h-24 rounded-2xl bg-slate-100 animate-pulse"></div><div class="h-24 rounded-2xl bg-slate-100 animate-pulse"></div><div class="h-24 rounded-2xl bg-slate-100 animate-pulse"></div><div class="h-24 rounded-2xl bg-slate-100 animate-pulse"></div><div class="h-24 rounded-2xl bg-slate-100 animate-pulse"></div>',6)]))):v.value?(o(),c("div",K,d(v.value),1)):(o(),c("div",P,[(o(!0),c(q,null,E(S.value,a=>(o(),O(i,{key:a.type,to:{name:"MySpecificNotificationList",params:{type:a.type}},class:"group relative overflow-hidden rounded-2xl bg-white/80 p-4 shadow-lg ring-1 ring-slate-200 transition duration-300 hover:-translate-y-1 hover:shadow-xl"},{default:R(()=>[e("div",Q,[e("div",W,[e("div",{class:y([a.accent,"h-10 w-10 rounded-xl flex items-center justify-center text-lg"])},[e("span",null,d(a.icon),1)],2),e("div",null,[e("h3",X,d(a.label),1),t[4]||(t[4]=e("p",{class:"text-xs text-slate-500"},"Open requests",-1))])]),a.count?(o(),c("span",{key:0,class:y([a.badge,"text-xs text-white rounded-full px-2.5 py-1 font-semibold"])},d(a.count),3)):V("",!0)]),t[5]||(t[5]=e("div",{class:"mt-3 text-xs text-slate-500"}," Tap to review and take action ",-1))]),_:2,__:[5]},1032,["to"]))),128))]))])])}}};export{$ as default};
