import{L as V}from"./LoaderView-DHQGN_z6.js";import{_ as E}from"./ShareComponent-DIIqWiOX.js";import{u as T}from"./notice-CuvSh4CM.js";import{i as M,r as p,b as R,c as n,a as e,j,t as i,F as H,x as I,e as $,l as g,m as L,n as A,o as a,k as D,f as P}from"./index-xXJHQ6f4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"my-container space-y-6"},q={class:"card-bg p-6"},z={key:1,class:"text-center text-red-500"},G={key:2,class:"grid gap-2"},J={class:"bg-gray-100 p-4 rounded-lg"},K={class:"grid md:grid-cols-2 gap-4"},O={class:"text-lg text-gray-800"},Q={class:"text-lg text-gray-800"},W={class:"text-lg text-gray-800"},X={class:"text-lg text-gray-800"},Y={class:"col-span-full"},Z=["innerHTML"],tt={class:"flex justify-center mt-2 gap-4"},it={__name:"NoticeShow",setup(et){const h=T(),B=M(),F=P(),s=p(null),c=p(!0),r=p(null),m=o=>new Date(o).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),S=async()=>{var o,t;try{c.value=!0,r.value=null;const l=F.params.id;s.value=await h.fetchNotice(l)}catch(l){r.value=((t=(o=l.response)==null?void 0:o.data)==null?void 0:t.message)||"Failed to load notice details",B.error(r.value)}finally{c.value=!1}};R(async()=>{await S()});const C=async o=>{window.open(o,"_blank")};return(o,t)=>{var x,y,v,f,b,_,k,w;const l=A("RouterLink");return a(),n("div",U,[e("div",q,[t[11]||(t[11]=e("h2",{class:"title-lg text-center"},"Notice Details",-1)),c.value?(a(),j(V,{key:0,class:"shadow-none"})):r.value?(a(),n("div",z,[e("p",null,i(r.value),1)])):(a(),n("div",G,[e("div",J,[t[7]||(t[7]=e("p",{class:"title-md"},"Notice Info",-1)),t[8]||(t[8]=e("hr",{class:"mb-2"},null,-1)),e("div",K,[e("div",null,[t[1]||(t[1]=e("p",{class:"text-sm font-bold text-gray-600"},"Company:",-1)),e("p",O,i(((y=(x=s.value)==null?void 0:x.company)==null?void 0:y.name)||"N/A"),1)]),e("div",null,[t[2]||(t[2]=e("p",{class:"text-sm font-bold text-gray-600"},"Department:",-1)),e("p",Q,[(a(!0),n(H,null,I((v=s.value)==null?void 0:v.departments,(d,u)=>{var N;return a(),n("span",{key:d.id},i(d==null?void 0:d.name)+" "+i(u<((N=s.value)==null?void 0:N.departments.length)-1?", ":""),1)}),128))])]),e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm font-bold text-gray-600"},"Published Date:",-1)),e("p",W,i(m((f=s.value)==null?void 0:f.published_at)),1)]),e("div",null,[t[4]||(t[4]=e("p",{class:"text-sm font-bold text-gray-600"},"Expired Date:",-1)),e("p",X,i(m((b=s.value)==null?void 0:b.expired_at)),1)]),e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm font-bold text-gray-600 mb-2"},"File:",-1)),(_=s.value)!=null&&_.file?(a(),n("button",{key:0,onClick:t[0]||(t[0]=d=>{var u;return C((u=s.value)==null?void 0:u.file)}),class:"btn-2"}," Download File ")):$("",!0)]),e("div",Y,[t[6]||(t[6]=e("p",{class:"text-sm font-bold text-gray-600"},"Description / Body:",-1)),e("p",{class:"text-lg text-gray-800",innerHTML:(k=s.value)==null?void 0:k.description},null,8,Z)])])]),g(E),e("div",tt,[g(l,{to:{name:"NoticeList"},type:"button",class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"},{default:L(()=>t[9]||(t[9]=[D(" Back to List ")])),_:1}),g(l,{to:{name:"NoticeEdit",params:{id:(w=s.value)==null?void 0:w.id}},class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},{default:L(()=>t[10]||(t[10]=[D(" Edit ")])),_:1},8,["to"])])]))])])}}};export{it as default};
