import{r as S,b as D,c as i,a,h as o,F as R,t as l,x as B,q as L,m as d,n as m,f as M,p as _,o as r,l as p,g as O}from"./index-T58vXJoD.js";import{u as G}from"./useTaskStore-C3KTz1oR.js";const U={class:"container mx-auto p-6"},V={class:"max-w-3xl mx-auto bg-white shadow-lg rounded-lg p-6"},F={key:0,class:"text-center py-4 text-gray-500"},H={class:"hover:bg-gray-50 grid grid-cols-2"},j={class:"py-2 font-medium col-span-full text-xl"},q={class:"py-2 font-medium mb-4 col-span-full"},z={class:"py-2"},K={class:"py-2"},W={class:"px-4 py-2 flex justify-center items-center gap-2 col-span-full"},$={key:2,class:"text-center py-4 text-red-500"},Y={__name:"TaskShow",setup(J){const s=G(),I=M();O();const A=I.params.id;return S(!1),D(async()=>{await s.fetchTask(A)}),(k,t)=>{var g,x,y,f,b,v,c,C,T,w,E,P;const u=_("RouterLink"),N=_("router-view");return r(),i("div",U,[a("div",V,[o(s).loading?(r(),i("div",F,"Loading task details...")):o(s).task?(r(),i(R,{key:1},[a("section",H,[a("div",j,l(o(s).task.title),1),a("div",q,[t[7]||(t[7]=a("div",{class:"text-xs mb-0.5 text-gray-600 uppercase"},"Assign Persons",-1)),(r(!0),i(R,null,B(o(s).task.users,e=>(r(),i("span",{onClick:t[0]||(t[0]=n=>n.stopPropagation()),key:e.id,class:"btn-1 !inline-flex"},[t[6]||(t[6]=a("i",{class:"fad fa-user"},null,-1)),p(" "+l(e==null?void 0:e.name),1)]))),128))]),a("div",z,[t[8]||(t[8]=a("div",{class:"text-xs mb-0.5 text-gray-600 uppercase"},"Priority",-1)),a("span",{class:L([{"text-green-600":((g=o(s).task)==null?void 0:g.priority)==="LOW","text-yellow-600":((x=o(s).task)==null?void 0:x.priority)==="MEDIUM","text-orange-600":((y=o(s).task)==null?void 0:y.priority)==="HIGH","text-red-600":((f=o(s).task)==null?void 0:f.priority)==="CRITICAL"},"font-semibold"])},l(o(s).task.priority),3)]),a("div",K,[t[9]||(t[9]=a("div",{class:"text-xs mb-0.5 text-gray-600 uppercase"},"Status",-1)),a("span",{class:L([{"bg-gray-200":((b=o(s).task)==null?void 0:b.status)==="PENDING","bg-blue-200":((v=o(s).task)==null?void 0:v.status)==="IN_PROGRESS","bg-green-200":((c=o(s).task)==null?void 0:c.status)==="COMPLETED","bg-red-200":((C=o(s).task)==null?void 0:C.status)==="BLOCKED"},"px-3 py-0.5 rounded-full"])},l((T=o(s).task)==null?void 0:T.status),3)]),t[13]||(t[13]=a("hr",{class:"my-3 col-span-full"},null,-1)),a("div",W,[a("button",{onClick:t[1]||(t[1]=e=>{var n;return k.goToEdit((n=o(s).task)==null?void 0:n.id)}),class:"btn-2"},"Edit"),d(u,{to:{name:"TaskUserAssign",params:{id:(w=o(s).task)==null?void 0:w.id}},class:"bg-indigo-500 hover:bg-indigo-600 text-white font-semibold px-3 py-1 rounded-full transition",onClick:t[2]||(t[2]=e=>e.stopPropagation())},{default:m(()=>t[10]||(t[10]=[p(" Assign Users ")])),_:1},8,["to"]),a("button",{onClick:t[3]||(t[3]=e=>{var n;return k.openComment(e,(n=o(s).task)==null?void 0:n.id)}),class:"bg-indigo-500 text-white px-3 py-1 rounded-full"}," + Comment "),d(u,{to:{name:"TodoAdd",params:{todoable_id:(E=o(s).task)==null?void 0:E.id}},onClick:t[4]||(t[4]=e=>e.stopPropagation()),class:"py-1 btn-3 ml-auto"},{default:m(()=>t[11]||(t[11]=[p("Add Todo")])),_:1},8,["to"]),d(u,{to:{name:"TaskReports",params:{id:(P=o(s).task)==null?void 0:P.id}},onClick:t[5]||(t[5]=e=>e.stopPropagation()),class:"py-1 btn-3"},{default:m(()=>t[12]||(t[12]=[p("Reports")])),_:1},8,["to"])])]),d(N)],64)):(r(),i("div",$,l(o(s).error||"Task not found."),1))])])}}};export{Y as default};
