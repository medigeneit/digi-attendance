import{_ as nt}from"./EmployeeFilter-DCNVwisw.js";import{_ as rt}from"./FlexibleDatePicker-Bj9QYcDp.js";import{L as lt}from"./LoaderView-DeSV26WB.js";import{U as J}from"./UpdateOrCreate-DybqG1vd.js";import{x as L,c,o as i,t as s,u as dt,f as it,g as ot,D as ct,r as C,q as E,h as ut,p as _t,a as e,i as N,F as A,e as $,s as u,b as k,j as q,d as S,l as U,m as z}from"./index-CLmgMs23.js";import{u as pt}from"./attendance-BarzJR3m.js";import{_ as yt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./company-BCXbDAZx.js";import"./department-CGzCQhC6.js";import"./EmployeeDropdownInput-5gLvi8vD.js";import"./SelectDropdown-p4nQPDr1.js";import"./UserChip-C-Utqq0-.js";import"./TimePickerAsFloatHour-COqf44Bl.js";const K={__name:"DisplayFormattedWorkingHours",props:["workingHours"],setup(R){const H=R,_=L(()=>{if(!H.workingHours)return"-";const x=Math.floor(H.workingHours),p=Math.round((H.workingHours-x)*60);return p?`${x}h ${p}m`:`${x}h`});return(x,p)=>(i(),c("span",null,s(_.value),1))}},mt={class:"px-4 space-y-6"},ht={class:"report-hero glass-panel px-5 py-2"},vt={class:"report-hero__actions"},ft={class:"report-toolbar"},bt={class:"report-toolbar__group"},xt={class:"segmented-control"},wt=["onClick"],kt={class:"report-toolbar__group"},Ht={class:"segmented-control segmented-control--ghost"},Dt=["onClick"],Ct={class:"report-toolbar__meta"},St={key:0,class:"ml-1 text-[10px] font-normal"},Lt={class:"flex flex-wrap items-center justify-end gap-2"},Mt=["disabled"],zt=["disabled"],Ft={class:"hidden sm:inline"},At=["disabled"],$t=["disabled"],qt={class:"glass-panel p-4 space-y-3 z-50"},Tt={class:"flex flex-wrap"},Pt={class:"relative"},It={key:1},Et={key:0,class:"empty-state"},Nt={key:1,class:"empty-state glass-panel"},Ut={key:2,class:"space-y-4"},Rt={key:0,class:"grid gap-3 md:grid-cols-2 xl:grid-cols-3"},Vt={class:"report-card__header"},Wt={class:"report-card__title"},Bt={class:"report-card__subtitle"},jt={class:"report-card__body"},Ot={class:"report-card__row"},Jt={class:"text-gray-500 text-xs"},Kt={class:"report-card__grid"},Yt={class:"report-card__metric"},Gt={class:"report-card__metric"},Xt={class:"report-card__metric"},Zt={class:"report-card__metric"},Qt={class:"report-card__metric"},gt={class:"report-card__metric"},te={class:"report-card__metric"},ee={class:"report-card__metric"},ae={class:"report-card__footer"},se={class:"flex items-center gap-3 text-xs text-gray-500"},ne={class:"table-scroll"},re={class:"min-w-full table-auto border-collapse"},le={class:"text-center text-xs"},de={class:"td"},ie={class:"td text-left"},oe={class:"td text-left"},ce={class:"td"},ue={class:"td"},_e={class:"td"},pe={class:"td"},ye={class:"td"},me={class:"td"},he={class:"td"},ve={class:"td"},fe={class:"td"},be={class:"td"},xe={class:"td"},we={class:"td"},ke={class:"td"},He={class:"td text-xs"},De={class:"text-[11px] text-gray-500"},Ce={class:"td"},Se={class:"td"},Le={class:"td"},Me={class:"td"},ze={class:"td"},Fe={class:"w-10 text-xs text-gray-600"},Ae={class:"td"},$e={class:"w-10 text-xs text-gray-600"},qe={class:"td"},Te={class:"td"},Pe={class:"td"},Ie={class:"td"},Ee={class:"flex items-center justify-center gap-2"},Ne={class:"td"},Ue={class:"td"},Re={class:"bg-gray-100 text-center text-sm font-semibold"},Ve={class:"td"},We={class:"td"},Be={class:"td"},je={class:"td"},Oe={class:"td"},Je={class:"td"},Ke={class:"td"},Ye={class:"td"},Ge={class:"td"},Xe={__name:"MonthlyAttendanceSummaryReport",setup(R){const H=dt(),_=it(),x=ot(),p=pt(),{monthly_company_summary:V}=ct(p),o=n=>{const a=Number(n);return Number.isFinite(a)?a:0},m=(n,a)=>n.reduce((d,t)=>{try{const y=a.split(".").reduce((b,st)=>b?b[st]:void 0,t);return d+o(y)}catch{return d}},0),l=C(_.query.date&&String(_.query.date)||p.selectedMonth||""),Y=n=>String(n||"").padStart(2,"0"),W=n=>{const a={year:new Date().getFullYear(),month:new Date().getMonth()+1};if(!n)return a;const[d="",t=""]=String(n).split("-");return!d||!t?a:{year:Number(d)||a.year,month:Number(t)||a.month}},w=C(W(l.value)),r=C({company_id:_.query.company_id||"",department_id:_.query.department_id||"all",line_type:_.query.line_type||"all",employee_id:_.query.employee_id||""}),h=L(()=>Array.isArray(V.value)?V.value:[]),v=L(()=>{const n=h.value[0];return!!(n&&n.is_final)}),B=L(()=>{const n=h.value[0];if(!n||!n.finalized_at)return"";try{const a=new Date(n.finalized_at);return new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(a)}catch{return String(n.finalized_at)}}),f=L(()=>{const n=h.value;return{cl:m(n,"total_cl_leave"),ml:m(n,"total_ml_leave"),sl:m(n,"total_sl_leave"),wplDays:m(n,"total_wpl_leave"),otHour:m(n,"total_overtime_hours"),absentDays:m(n,"total_absent"),wplHour:m(n,"total_wpl_hour"),paycutHour:m(n,"approved_paycut"),payableHour:m(n,"payable_hour")}}),T=C("table"),P=C("cozy"),G=[{label:"Table",value:"table",icon:"fal fa-table"},{label:"Cards",value:"cards",icon:"fal fa-th-large"}],X=[{label:"Cozy",value:"cozy"},{label:"Compact",value:"compact"}],I=L(()=>{const n=l.value;if(!n)return"Month not selected";const[a,d]=n.split("-").map(y=>Number(y));return!a||!d?n:new Intl.DateTimeFormat("en",{month:"long",year:"numeric"}).format(new Date(a,d-1))}),F=(n,a="0:00")=>n&&String(n).trim()!==""?n:a,M=async()=>{const n=r.value.company_id,a=r.value.employee_id||"",d=r.value.line_type!=="all"?r.value.line_type:"";if(!n){alert("⚠️ Please select a company first.");return}try{await p.getMonthlyAttendanceSummaryReport(n,d,a,l.value)}catch(t){console.error("❌ Failed to load attendance:",t),alert("❌ Failed to load attendance data.")}},j=n=>{const a=_.query;Object.keys(n).some(t=>String(a[t]??"")!==String(n[t]??""))&&H.replace({query:n})},Z=()=>{j({..._.query,company_id:r.value.company_id||"",department_id:r.value.department_id||"all",line_type:r.value.line_type||"all",employee_id:r.value.employee_id||"",date:l.value||""})};E(l,n=>{j({..._.query,date:n||""})}),E(w,n=>{if(!n)return;const a=`${n.year}-${Y(n.month)}`;l.value!==a&&(l.value=a)},{deep:!0}),E(l,n=>{const a=W(n);a&&(!w.value||a.year!==w.value.year||a.month!==w.value.month)&&(w.value=a)}),ut(()=>{r.value.company_id&&M()});const Q=async()=>{if(!r.value.company_id)return;const n=r.value.line_type!=="all"?r.value.line_type:"";await p.downloadExcel(r.value.company_id,n,l.value)},g=async()=>{if(!r.value.company_id)return;const n=r.value.line_type!=="all"?r.value.line_type:"";await p.downloadPDF(r.value.company_id,n,l.value)},tt=()=>H.go(-1),O=async()=>{await M()},D=C(!1),et=async()=>{if(!r.value.company_id||!l.value){alert("⚠️ Please select company & month first.");return}if(!confirm(`Recalculate monthly snapshot for ${I.value}?`))return;const n=r.value.line_type!=="all"?r.value.line_type:"",a=r.value.employee_id||"";try{D.value=!0,await p.recalculateMonthlySnapshot(r.value.company_id,n,a,l.value),await M(),alert("✅ Snapshot recalculated successfully.")}catch(d){console.error("❌ Failed to recalculate snapshot:",d),alert("❌ Failed to recalculate snapshot.")}finally{D.value=!1}},at=async()=>{if(!r.value.company_id||!l.value){alert("⚠️ Please select company & month first.");return}const n=v.value?"unfinalize":"finalize",a=n==="finalize"?"Finalize":"Unfinalize";if(!confirm(`${a} monthly snapshot for ${I.value}?${n==="finalize"?`

After finalize, data will be locked (unless unfinalized).`:""}`))return;const d=r.value.line_type!=="all"?r.value.line_type:"",t=r.value.employee_id||"";try{D.value=!0,await p.finalizeMonthlySnapshot(r.value.company_id,d,t,l.value,n),await M(),alert(`✅ Month ${a.toLowerCase()}d successfully.`)}catch(y){console.error("❌ Failed to change final status:",y),alert("❌ Failed to change final status.")}finally{D.value=!1}};return(n,a)=>{const d=_t("router-link");return i(),c("div",mt,[e("div",ht,[e("div",{class:"space-y-4"},[e("div",{class:"flex justify-between items-center gap-3"},[e("button",{class:"btn-3 !h-12 !w-12 rounded-full shadow-sm",onClick:tt},a[6]||(a[6]=[e("i",{class:"far fa-arrow-left text-lg"},null,-1)])),a[7]||(a[7]=e("div",{class:"space-y-1"},[e("p",{class:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400"}," Monthly overview "),e("h1",{class:"title-md"},"Monthly Attendance Summary"),e("p",{class:"text-sm text-gray-500"}," Keep teams aligned with a compact snapshot of utilization, leaves, and pay-impact in one view. ")],-1))])]),e("div",vt,[e("div",ft,[e("div",bt,[a[8]||(a[8]=e("span",{class:"toolbar-label"},"View",-1)),e("div",xt,[(i(),c(A,null,$(G,t=>e("button",{key:t.value,type:"button",class:u(["segmented-control__btn",{"is-active":T.value===t.value}]),onClick:y=>T.value=t.value},[e("i",{class:u(t.icon)},null,2),e("span",null,s(t.label),1)],10,wt)),64))])]),e("div",kt,[a[9]||(a[9]=e("span",{class:"toolbar-label"},"Density",-1)),e("div",Ht,[(i(),c(A,null,$(X,t=>e("button",{key:t.value,type:"button",class:u(["segmented-control__btn",{"is-active":P.value===t.value}]),onClick:y=>P.value=t.value},s(t.label),11,Dt)),64))])]),e("p",Ct,[k(s(h.value.length)+" employees | "+s(I.value)+" ",1),h.value.length?(i(),c("span",{key:0,class:u(["ml-3 inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px] font-semibold",v.value?"bg-emerald-50 text-emerald-700":"bg-amber-50 text-amber-700"])},[e("span",{class:u(["inline-block h-2 w-2 rounded-full",v.value?"bg-emerald-500":"bg-amber-500"])},null,2),k(" "+s(v.value?"Finalized":"Draft")+" ",1),v.value&&B.value?(i(),c("span",St," ("+s(B.value)+") ",1)):q("",!0)],2)):q("",!0)])]),e("div",Lt,[e("button",{type:"button",class:"btn-2 inline-flex items-center gap-2 rounded-full px-4 py-2 text-xs font-semibold shadow-sm",disabled:!r.value.company_id||!l.value||D.value||v.value,onClick:et},a[10]||(a[10]=[e("i",{class:"fal fa-rotate text-base"},null,-1),e("span",{class:"hidden sm:inline"},"Recalculate",-1)]),8,Mt),e("button",{type:"button",class:u(["inline-flex items-center gap-2 rounded-full px-4 py-2 text-xs font-semibold shadow-sm",v.value?"bg-slate-200 text-slate-800":"bg-emerald-500 text-white"]),disabled:!r.value.company_id||!l.value||D.value||h.value.length===0,onClick:at},[e("i",{class:u(v.value?"fal fa-lock-open":"fal fa-lock")},null,2),e("span",Ft,s(v.value?"Unfinalize Month":"Finalize Month"),1)],10,zt),e("button",{type:"button",onClick:Q,class:"btn-1 inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold shadow-sm",disabled:!r.value.company_id},a[11]||(a[11]=[e("i",{class:"far fa-file-excel text-base text-green-500"},null,-1),e("span",{class:"hidden sm:inline"},"Excel",-1)]),8,At),e("button",{type:"button",onClick:g,class:"btn-1 inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold shadow-sm",disabled:!r.value.company_id},a[12]||(a[12]=[e("i",{class:"fal fa-file-pdf text-base text-red-500"},null,-1),e("span",{class:"hidden sm:inline"},"PDF",-1)]),8,$t)])])]),e("div",qt,[e("div",Tt,[S(nt,{company_id:r.value.company_id,"onUpdate:company_id":a[1]||(a[1]=t=>r.value.company_id=t),department_id:r.value.department_id,"onUpdate:department_id":a[2]||(a[2]=t=>r.value.department_id=t),employee_id:r.value.employee_id,"onUpdate:employee_id":a[3]||(a[3]=t=>r.value.employee_id=t),line_type:r.value.line_type,"onUpdate:line_type":a[4]||(a[4]=t=>r.value.line_type=t),"with-type":!0,"initial-value":n.$route.query,onFilterChange:Z},{default:U(()=>[e("div",Pt,[S(rt,{modelValue:w.value,"onUpdate:modelValue":a[0]||(a[0]=t=>w.value=t),"show-year":!1,"show-month":!0,"show-date":!1},null,8,["modelValue"]),a[13]||(a[13]=e("label",{class:"top-label"},"Month",-1))])]),_:1},8,["company_id","department_id","employee_id","line_type","initial-value"]),e("button",{type:"button",onClick:a[5]||(a[5]=t=>M()),class:"btn-2"},"Search")])]),z(p).isLoading?(i(),N(lt,{key:0})):(i(),c("div",It,[r.value.company_id?h.value.length===0?(i(),c("div",Nt,a[15]||(a[15]=[e("p",{class:"text-base font-semibold text-gray-700"},"No attendance found",-1),e("p",{class:"text-sm text-gray-500"},"Try a different set of filters or a different month.",-1)]))):(i(),c("div",Ut,[T.value==="cards"?(i(),c("div",Rt,[(i(!0),c(A,null,$(h.value,(t,y)=>{var b;return i(),c("article",{key:`${(t==null?void 0:t.user_id)||"card"}-${y}`,class:u(["report-card",{"report-card--alert":t==null?void 0:t.under_target}])},[e("header",Vt,[e("div",null,[e("p",Wt,s(t==null?void 0:t.user),1),e("p",Bt,s(t==null?void 0:t.designation),1)]),e("span",{class:u(["report-card__tag",t!=null&&t.under_target?"report-card__tag--alert":"report-card__tag--ok"])},s(t!=null&&t.under_target?"Under target":"On track"),3)]),e("div",jt,[e("div",Ot,[a[16]||(a[16]=e("p",{class:"report-card__body-label"},"Working Hour",-1)),e("p",{class:u(["report-card__primary",t!=null&&t.under_target?"text-red-600":"text-emerald-600"])},[k(s(F(t==null?void 0:t.total_working_hours))+" ",1),e("span",Jt," / "+s(F(t==null?void 0:t.total_shift_hours)),1)],2)]),e("div",Kt,[e("div",null,[a[17]||(a[17]=e("p",{class:"report-card__body-label"},"Attendance",-1)),e("p",Yt," P "+s(o(t==null?void 0:t.total_present))+" | L "+s(o(t==null?void 0:t.total_leave))+" | A "+s(o(t==null?void 0:t.total_absent)),1)]),e("div",null,[a[18]||(a[18]=e("p",{class:"report-card__body-label"},"Weekend",-1)),e("p",Gt,s(o(t==null?void 0:t.total_weekend))+" days",1)]),e("div",null,[a[19]||(a[19]=e("p",{class:"report-card__body-label"},"Actual Late",-1)),e("p",Xt,s(o(t==null?void 0:t.actual_late_day))+"d / "+s(F(t==null?void 0:t.actual_late_hour)),1)]),e("div",null,[a[20]||(a[20]=e("p",{class:"report-card__body-label"},"Actual Early",-1)),e("p",Zt,s(o(t==null?void 0:t.actual_early_day))+"d / "+s(F(t==null?void 0:t.actual_early_hour)),1)]),e("div",null,[a[21]||(a[21]=e("p",{class:"report-card__body-label"},"Short Leave",-1)),e("p",Qt," First "+s(o(t==null?void 0:t.total_first_short_leave))+" | Last "+s(o(t==null?void 0:t.total_last_short_leave)),1)]),e("div",null,[a[22]||(a[22]=e("p",{class:"report-card__body-label"},"Leave Types",-1)),e("p",gt," CL "+s(o(t==null?void 0:t.total_cl_leave))+" | ML "+s(o(t==null?void 0:t.total_ml_leave))+" | SL "+s(o(t==null?void 0:t.total_sl_leave))+" | WPL "+s(o(t==null?void 0:t.total_wpl_leave)),1)]),e("div",null,[a[23]||(a[23]=e("p",{class:"report-card__body-label"},"Hours Impact",-1)),e("p",te," OT "+s(o(t==null?void 0:t.total_overtime_hours))+"h | Payable "+s(o(t==null?void 0:t.payable_hour))+"h ",1)]),e("div",null,[a[24]||(a[24]=e("p",{class:"report-card__body-label"},"Deduction",-1)),e("p",ee,s(o(t==null?void 0:t.total_absent)*9)+"h + "+s(o(t==null?void 0:t.total_wpl_hour))+"h ",1)])])]),e("footer",ae,[e("div",se,[S(K,{workingHours:t==null?void 0:t.approved_paycut},null,8,["workingHours"]),((b=z(x).user)==null?void 0:b.id)===8?(i(),N(J,{key:0,class:"rounded-full bg-slate-100 px-2 py-1 text-[11px] font-semibold text-slate-600",userId:t==null?void 0:t.user_id,month:l.value,onUpdated:O},null,8,["userId","month"])):q("",!0)]),S(d,{to:{name:"EmployeeAttendance",query:{...z(_).query,employee_id:t==null?void 0:t.user_id,date:l.value}},target:"_blank",class:"report-card__cta"},{default:U(()=>a[25]||(a[25]=[k(" Job Card "),e("i",{class:"far fa-arrow-up-right-from-square text-xs"},null,-1)])),_:2,__:[25]},1032,["to"])])],2)}),128))])):(i(),c("div",{key:1,class:u(["table-shell",[P.value==="compact"?"table-density-compact":"table-density-cozy"]])},[e("div",ne,[e("table",re,[a[31]||(a[31]=e("thead",{class:"sticky top-0 bg-white shadow-sm"},[e("tr",{class:"bg-gray-50 text-sm"},[e("th",{rowspan:"2",class:"th"},"#"),e("th",{rowspan:"2",class:"th text-left"},"Employee Name"),e("th",{rowspan:"2",class:"th text-left"},"Designation"),e("th",{colspan:"5",class:"th"},"Attendance Summary"),e("th",{colspan:"2",class:"th"},"Actual Late"),e("th",{colspan:"2",class:"th"},"Remaining Late"),e("th",{colspan:"2",class:"th"},"Actual Early"),e("th",{colspan:"2",class:"th"},"Remaining Early"),e("th",{rowspan:"2",class:"th"},"Working Hour"),e("th",{colspan:"4",class:"th"},"Leave Day"),e("th",{colspan:"2",class:"th"},"Short Leave"),e("th",{rowspan:"2",class:"th"},"OT Hour"),e("th",{colspan:"4",class:"th"},"Deduction"),e("th",{rowspan:"2",class:"th"},"Action")]),e("tr",{class:"bg-gray-50 text-xs"},[e("th",{class:"th"},"TD"),e("th",{class:"th"},"TP"),e("th",{class:"th"},"TW"),e("th",{class:"th"},"TL"),e("th",{class:"th"},"TA"),e("th",{class:"th"},"Day"),e("th",{class:"th"},"Hour"),e("th",{class:"th"},"Day"),e("th",{class:"th"},"Hour"),e("th",{class:"th"},"Day"),e("th",{class:"th"},"Hour"),e("th",{class:"th"},"Day"),e("th",{class:"th"},"Hour"),e("th",{class:"th"},"CL"),e("th",{class:"th"},"ML"),e("th",{class:"th"},"SL"),e("th",{class:"th"},"WPL"),e("th",{class:"th"},"Delay"),e("th",{class:"th"},"Early"),e("th",{class:"th"},"Absent Hour"),e("th",{class:"th"},"WPL(Hour)"),e("th",{class:"th"},"Pay Cut"),e("th",{class:"th"},"Payable Hour")])],-1)),e("tbody",le,[(i(!0),c(A,null,$(h.value,(t,y)=>{var b;return i(),c("tr",{key:`${(t==null?void 0:t.user_id)||"u"}-${y}`,class:u(["border-b hover:bg-blue-50",{"table-row--alert":t==null?void 0:t.under_target}])},[e("td",de,s(y+1),1),e("td",ie,s(t==null?void 0:t.user),1),e("td",oe,s(t==null?void 0:t.designation),1),e("td",ce,s(t==null?void 0:t.total_monthly_days),1),e("td",ue,s(t==null?void 0:t.total_present),1),e("td",_e,s(t==null?void 0:t.total_weekend),1),e("td",pe,s(t==null?void 0:t.total_leave),1),e("td",ye,s(t==null?void 0:t.total_absent),1),e("td",me,s(t==null?void 0:t.actual_late_day),1),e("td",he,s(t==null?void 0:t.actual_late_hour),1),e("td",ve,s(t==null?void 0:t.total_remain_late_day),1),e("td",fe,s(t==null?void 0:t.total_remain_late_hour),1),e("td",be,s(t==null?void 0:t.actual_early_day),1),e("td",xe,s(t==null?void 0:t.actual_early_hour),1),e("td",we,s(t==null?void 0:t.total_remain_early_day),1),e("td",ke,s(t==null?void 0:t.total_remain_early_hour),1),e("td",He,[e("p",{class:u(["font-semibold",t!=null&&t.under_target?"text-red-600":"text-emerald-600"])},s(t==null?void 0:t.total_working_hours)+"h ",3),e("p",De," of "+s(t==null?void 0:t.total_shift_hours)+"h ",1)]),e("td",Ce,s(t==null?void 0:t.total_cl_leave),1),e("td",Se,s(t==null?void 0:t.total_ml_leave),1),e("td",Le,s(t==null?void 0:t.total_sl_leave),1),e("td",Me,s(t==null?void 0:t.total_wpl_leave),1),e("td",ze,[e("p",Fe,[k(s((t==null?void 0:t.total_first_short_leave)||0)+" of ",1),e("span",{class:u({"text-red-600 font-bold":(t==null?void 0:t.actual_late_day)>=4})},s((t==null?void 0:t.actual_late_day)||0),3)])]),e("td",Ae,[e("p",$e,[k(s((t==null?void 0:t.total_last_short_leave)||0)+" of ",1),e("span",{class:u({"text-red-600 font-bold":(t==null?void 0:t.actual_early_day)>=4})},s((t==null?void 0:t.actual_early_day)||0),3)])]),e("td",qe,s(t!=null&&t.total_overtime_hours?`${t==null?void 0:t.total_overtime_hours} H`:""),1),e("td",Te,s(o(t==null?void 0:t.total_absent)*9)+"H",1),e("td",Pe,s(t==null?void 0:t.total_wpl_hour)+"H",1),e("td",Ie,[e("div",Ee,[S(K,{workingHours:t==null?void 0:t.approved_paycut},null,8,["workingHours"]),((b=z(x).user)==null?void 0:b.id)===8?(i(),N(J,{key:0,class:"mr-2",userId:t==null?void 0:t.user_id,month:l.value,onUpdated:O},null,8,["userId","month"])):q("",!0)])]),e("td",Ne,s(t==null?void 0:t.payable_hour)+"H",1),e("td",Ue,[S(d,{to:{name:"EmployeeAttendance",query:{...z(_).query,employee_id:t==null?void 0:t.user_id,date:l.value}},target:"_blank",class:"inline-flex w-20 items-center gap-1 rounded-md bg-blue-50 px-1 py-1 font-medium text-blue-700 hover:bg-blue-100"},{default:U(()=>a[26]||(a[26]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M15 3h6v6"}),e("path",{d:"M10 14 21 3"}),e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"})],-1),k(" Job Card ")])),_:2,__:[26]},1032,["to"])])],2)}),128))]),e("tfoot",null,[e("tr",Re,[a[27]||(a[27]=e("td",{colspan:"17",class:"td"},"Total",-1)),e("td",Ve,s(f.value.cl),1),e("td",We,s(f.value.ml),1),e("td",Be,s(f.value.sl),1),e("td",je,s(f.value.wplDays),1),a[28]||(a[28]=e("td",{class:"td"},null,-1)),a[29]||(a[29]=e("td",{class:"td"},null,-1)),e("td",Oe,s(f.value.otHour),1),e("td",Je,s(f.value.absentDays)+" day",1),e("td",Ke,s(f.value.wplHour),1),e("td",Ye,s(f.value.paycutHour),1),e("td",Ge,s(f.value.payableHour),1),a[30]||(a[30]=e("td",{class:"td"},null,-1))])])])])],2))])):(i(),c("div",Et,a[14]||(a[14]=[e("p",{class:"text-base font-semibold text-red-500"},"Select a company to start the report.",-1),e("p",{class:"text-sm text-gray-500"},"Choose a company & filters above to preview this month.",-1)])))]))])}}},ca=yt(Xe,[["__scopeId","data-v-0db25030"]]);export{ca as default};
