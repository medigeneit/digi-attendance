import{r as O,c as d,o as a,a as e,g as l,h as $,v as q,F as B,b as M,u as P,d as V,a2 as F,n as E,t as r,x as z,f as G,k as b,p as j,i as W}from"./index-DWU35BE7.js";import{u as L}from"./overtime-D06-bGhq.js";import{_ as H}from"./AcceptAndRejectHandler-CFxvRSpF.js";const J={key:0,class:"fixed inset-0 z-50 flex justify-center items-center bg-black/50"},K={class:"modal-card max-w-sm"},Q={__name:"UpdateApprovalTime",props:{overtime:Object},setup(o){const u=o,x=L(),c=O(!1),i=O(parseInt(u.overtime.approval_overtime_hours||u.overtime.request_overtime_hours||"")),y=async()=>{if(!i.value)return alert("Please set approval time!");await x.updateApprovalTime(u.overtime.id,i.value),g()},g=()=>{c.value=!1};return(t,n)=>(a(),d(B,null,[e("i",{onClick:n[0]||(n[0]=p=>c.value=!c.value),class:"fa fa-edit cursor-pointer text-sky-600"}),c.value?(a(),d("div",J,[e("div",K,[n[2]||(n[2]=e("h3",{class:"title-lg"},"Update Approval Time",-1)),n[3]||(n[3]=e("hr",{class:"my-2"},null,-1)),$(e("input",{"onUpdate:modelValue":n[1]||(n[1]=p=>i.value=p),type:"number",class:"input-1",required:""},null,512),[[q,i.value]]),n[4]||(n[4]=e("hr",{class:"my-2"},null,-1)),e("div",{class:"flex justify-between gap-2 mt-4"},[e("button",{class:"btn-3",onClick:g},"Cancel"),e("button",{class:"btn-2-green",onClick:y},"Update Time")])])])):l("",!0)],64))}},X={class:"space-y-4"},Y={class:"card-bg p-4 gap-1"},Z={class:"flex flex-wrap gap-x-8 gap-y-2"},ee={key:0,class:"text-gray-700"},te={class:"ml-1"},se={key:1,class:"text-gray-700"},re={class:"ml-1"},oe={key:2,class:"text-gray-700"},ae={class:"ml-1"},ne={key:3,class:"text-gray-700"},de={class:"ml-1"},le={key:4,class:"text-gray-700"},ce={class:"ml-1"},ie={class:"overflow-x-auto"},ue={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},pe={class:"border border-gray-300 px-2 text-center"},xe={class:"border border-gray-300 px-2 text-center"},be={class:"border border-gray-300 px-2 text-center"},ye={class:"border border-gray-300 px-2 text-center"},ge={class:"border border-gray-300 px-2 text-center"},me={class:"border border-gray-300 px-2 text-center"},_e={class:"border border-gray-300 px-2 text-center"},he={class:"border border-gray-300 px-2 text-center"},fe={class:"border border-gray-300 px-2 text-center"},ve={class:"flex items-center justify-center gap-4"},ke={class:"border border-gray-300 px-2 text-center"},Se={class:"border border-gray-300 px-2 text-center"},we={class:"border border-gray-300 px-2 text-center !py-0.5"},Ae={class:"flex items-center justify-center gap-x-4"},Ce={key:0,class:"border border-dashed px-4 rounded-xl"},De={key:0},Ie={__name:"OvertimeDataList",props:{user:Object,onUpdate:{type:Function,default:null}},setup(o){M(),P();const u=V(),x=L(),c=F(),i=o,y=()=>{i.onUpdate?i.onUpdate():c.fetchCountNotifications()};return(g,t)=>{var p,m,_,h,f,v,k,S,w,A,C,D,N,T,U;const n=E("RouterLink");return a(),d("div",X,[e("div",Y,[e("div",Z,[(p=o.user)!=null&&p.employee_id?(a(),d("p",ee,[t[0]||(t[0]=e("span",{class:"text-gray-400"},"Employee ID:",-1)),e("strong",te,r(((m=o.user)==null?void 0:m.employee_id)||"N/A"),1)])):l("",!0),(_=o.user)!=null&&_.name?(a(),d("p",se,[t[1]||(t[1]=e("span",{class:"text-gray-400"},"Name:",-1)),e("strong",re,r((h=o.user)==null?void 0:h.name),1)])):l("",!0),(v=(f=o.user)==null?void 0:f.designation)!=null&&v.title?(a(),d("p",oe,[t[2]||(t[2]=e("span",{class:"text-gray-400"},"Designation:",-1)),e("strong",ae,r(((S=(k=o.user)==null?void 0:k.designation)==null?void 0:S.title)||"N/A"),1)])):l("",!0),(A=(w=o.user)==null?void 0:w.department)!=null&&A.name?(a(),d("p",ne,[t[3]||(t[3]=e("span",{class:"text-gray-400"},"Department:",-1)),e("strong",de,r(((D=(C=o.user)==null?void 0:C.department)==null?void 0:D.name)||"N/A"),1)])):l("",!0),(N=o.user)!=null&&N.phone?(a(),d("p",le,[t[4]||(t[4]=e("span",{class:"text-gray-400"},"Phone:",-1)),e("strong",ce,r((T=o.user)==null?void 0:T.phone),1)])):l("",!0)])]),e("div",ie,[e("table",ue,[t[7]||(t[7]=e("thead",null,[e("tr",{class:"bg-gray-200 *:py-1"},[e("th",{class:"border border-gray-300 px-2 text-center"},"#"),e("th",{class:"border border-gray-300 px-2 text-center"},"Date"),e("th",{class:"border border-gray-300 px-2 text-center"},"Type"),e("th",{class:"border border-gray-300 px-2 text-center"},"Shift"),e("th",{class:"border border-gray-300 px-2 text-center"},"Check-In"),e("th",{class:"border border-gray-300 px-2 text-center"},"Check-Out"),e("th",{class:"border border-gray-300 px-2 text-center"},"Working (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Request (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Approved (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Details"),e("th",{class:"border border-gray-300 px-2 text-center"},"Status"),e("th",{class:"border border-gray-300 px-2 text-center"},"Action")])],-1)),e("tbody",null,[(a(!0),d(B,null,z(b(x).overtimes,(s,R)=>{var I;return a(),d("tr",{key:s==null?void 0:s.id,class:"border-b border-gray-200 hover:bg-blue-200 *:py-2"},[e("td",pe,r(R+1),1),e("td",xe,r(new Date(s.date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})),1),e("td",be,r(s.duty_type),1),e("td",ye,r(s.shift),1),e("td",ge,r(s.check_in||"- : -"),1),e("td",me,r(s.check_out||"- : -"),1),e("td",_e,r(s.working_hours||"-"),1),e("td",he,r(parseInt(s.request_overtime_hours)||"-"),1),e("td",fe,[e("div",ve,[e("span",null,r(parseInt(s.approval_overtime_hours)||"-"),1),((I=b(u).user)==null?void 0:I.id)===8?(a(),G(Q,{key:0,overtime:s},null,8,["overtime"])):l("",!0)])]),e("td",ke,r(s.work_details||""),1),e("td",Se,r(s.status||"Pending"),1),e("td",we,[e("div",Ae,[b(c).applicationApprovalPermissions[s.id]?(a(),d("div",Ce,[j(H,{class:"ml-auto",notificationType:"overtime_applications",applicationId:s.id,onSuccess:y,variant:1},null,8,["applicationId"])])):l("",!0),j(n,{to:{name:"MyOvertimeShow",params:{id:s.id}},class:"text-blue-800"},{default:W(()=>t[5]||(t[5]=[e("i",{class:"far fa-eye text-lg"},null,-1)])),_:2,__:[5]},1032,["to"])])])])}),128)),((U=b(x).overtimes)==null?void 0:U.length)===0?(a(),d("tr",De,t[6]||(t[6]=[e("td",{colspan:"100",class:"p-2 text-center text-red-500"},"No overtimes found",-1)]))):l("",!0)])])])])}}};export{Ie as _};
