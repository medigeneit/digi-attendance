import{u as _}from"./useRequirementStore-CMHZTMb0.js";import{u as h,e as f,k as g,c as o,o as n,a as t,h as a,t as d,F as b,x as k,y as v,l as R,p as w,n as C}from"./index-CCxDPQYa.js";const T={class:"container mx-auto p-6"},L={key:0,class:"text-center py-4 text-gray-500"},A={key:1,class:"text-center py-4 text-red-500"},E={key:2,class:"min-w-full bg-white shadow rounded-lg overflow-hidden"},M={class:"px-4 py-2"},D={class:"px-4 py-2 font-medium"},H={class:"px-4 py-2"},I={class:"px-4 py-2"},N={class:"px-4 py-2"},B={key:0},V=["innerHTML"],F={key:1,class:"text-gray-400"},P={class:"px-4 py-2"},S={class:"flex gap-4 items-center"},j=["onClick"],$={__name:"RequirementList",setup(z){const i=_(),l=h();f(()=>{i.fetchRequirements()});const u=()=>{l.push({name:"RequirementAdd"})},x=r=>{l.push({name:"RequirementEdit",params:{id:r}})},y=r=>{switch(r){case"CRITICAL":return"border-red-700 text-red-700 font-semibold";case"HIGH":return"border-red-500 text-red-500";case"MEDIUM":return"border-yellow-500 text-yellow-500";default:return"border-gray-300 text-gray-500"}};return(r,s)=>{const m=g("RouterLink");return n(),o("div",T,[t("div",{class:"flex justify-between items-center mb-6"},[s[1]||(s[1]=t("h2",{class:"text-2xl font-bold text-gray-800"},"Requirements",-1)),t("button",{onClick:u,class:"btn-1"},"Add Requirement")]),a(i).loading?(n(),o("div",L,"Loading requirements...")):a(i).error?(n(),o("div",A,d(a(i).error),1)):(n(),o("table",E,[s[3]||(s[3]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left"},"#"),t("th",{class:"px-4 py-2 text-left"},"Title"),t("th",{class:"px-4 py-2 text-left"},"Department"),t("th",{class:"px-4 py-2 text-left"},"Priority"),t("th",{class:"px-4 py-2 text-left"},"Description"),t("th",{class:"px-4 py-2 text-left"},"Actions")])],-1)),t("tbody",null,[(n(!0),o(b,null,k(a(i).requirements,e=>{var c;return n(),o("tr",{key:e.id,class:"border-t hover:bg-gray-50"},[t("td",M,d(e.id),1),t("td",D,d(e==null?void 0:e.title),1),t("td",H,d((c=e==null?void 0:e.department)==null?void 0:c.name),1),t("td",I,[t("span",{class:v(["text-xs px-2 py-1 rounded border",y(e.priority)])},d(e.priority),3)]),t("td",N,[e!=null&&e.description.length?(n(),o("div",B,[t("div",{innerHTML:e==null?void 0:e.description},null,8,V)])):(n(),o("span",F,"No description"))]),t("td",P,[t("div",S,[t("button",{onClick:p=>x(e.id),class:"btn-2"},"Edit",8,j),R(m,{to:{name:"TaskAdd",query:{requirement_id:e==null?void 0:e.id}},class:"bg-indigo-500 hover:bg-indigo-600 text-white font-semibold px-3 py-1 rounded-full transition flex-shrink-0",onClick:s[0]||(s[0]=p=>p.stopPropagation())},{default:w(()=>s[2]||(s[2]=[C(" + Add Task ")])),_:2,__:[2]},1032,["to"])])])])}),128))])]))])}}};export{$ as default};
