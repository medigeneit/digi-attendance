import{L as V}from"./LoaderView-D2a7U-bJ.js";import{_ as E}from"./ShareComponent-CYY_Rldy.js";import{u as M}from"./notice-D5YGQOOw.js";import{i as R,r as p,b as j,c as i,a as e,j as H,t as l,F as I,x as $,e as A,l as g,m as D,n as P,o as a,k as h,f as U}from"./index-CxG37pJ2.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"my-container space-y-6"},z={class:"card-bg p-6"},G={key:1,class:"text-center text-red-500"},J={key:2,class:"grid gap-2"},K={class:"bg-gray-100 p-4 rounded-lg"},O={class:"grid md:grid-cols-2 gap-4"},Q={class:"text-lg text-gray-800"},W={class:"text-lg text-gray-800"},X={class:"text-lg text-gray-800"},Y={class:"text-lg text-gray-800"},Z={class:"text-lg text-gray-800"},tt={class:"col-span-full"},et=["innerHTML"],st={class:"flex justify-center mt-2 gap-4"},dt={__name:"NoticeShow",setup(ot){const B=M(),C=R(),F=U(),s=p(null),c=p(!0),r=p(null),m=o=>new Date(o).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),S=async()=>{var o,t;try{c.value=!0,r.value=null;const n=F.params.id;s.value=await B.fetchNotice(n)}catch(n){r.value=((t=(o=n.response)==null?void 0:o.data)==null?void 0:t.message)||"Failed to load notice details",C.error(r.value)}finally{c.value=!1}};j(async()=>{await S()});const T=async o=>{window.open(o,"_blank")};return(o,t)=>{var x,y,v,f,b,_,k,w,N;const n=P("RouterLink");return a(),i("div",q,[e("div",z,[t[12]||(t[12]=e("h2",{class:"title-lg text-center"},"Notice Details",-1)),c.value?(a(),H(V,{key:0,class:"shadow-none"})):r.value?(a(),i("div",G,[e("p",null,l(r.value),1)])):(a(),i("div",J,[e("div",K,[t[8]||(t[8]=e("p",{class:"title-md"},"Notice Info",-1)),t[9]||(t[9]=e("hr",{class:"mb-2"},null,-1)),e("div",O,[e("div",null,[t[1]||(t[1]=e("p",{class:"text-sm font-bold text-gray-600"},"Title:",-1)),e("p",Q,l((x=s.value)==null?void 0:x.title),1)]),e("div",null,[t[2]||(t[2]=e("p",{class:"text-sm font-bold text-gray-600"},"Company:",-1)),e("p",W,l(((v=(y=s.value)==null?void 0:y.company)==null?void 0:v.short_name)||"All Companies"),1)]),e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm font-bold text-gray-600"},"Department:",-1)),e("p",X,[(a(!0),i(I,null,$((f=s.value)==null?void 0:f.departments,(d,u)=>{var L;return a(),i("span",{key:d.id},l(d==null?void 0:d.name)+" "+l(u<((L=s.value)==null?void 0:L.departments.length)-1?", ":""),1)}),128))])]),e("div",null,[t[4]||(t[4]=e("p",{class:"text-sm font-bold text-gray-600"},"Published Date:",-1)),e("p",Y,l(m((b=s.value)==null?void 0:b.published_at)),1)]),e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm font-bold text-gray-600"},"Expired Date:",-1)),e("p",Z,l(m((_=s.value)==null?void 0:_.expired_at)),1)]),e("div",null,[t[6]||(t[6]=e("p",{class:"text-sm font-bold text-gray-600 mb-2"},"File:",-1)),(k=s.value)!=null&&k.file?(a(),i("button",{key:0,onClick:t[0]||(t[0]=d=>{var u;return T((u=s.value)==null?void 0:u.file)}),class:"btn-2"}," Download File ")):A("",!0)]),e("div",tt,[t[7]||(t[7]=e("p",{class:"text-sm font-bold text-gray-600"},"Description / Body:",-1)),e("p",{class:"text-lg text-gray-800",innerHTML:(w=s.value)==null?void 0:w.description},null,8,et)])])]),g(E),e("div",st,[g(n,{to:{name:"NoticeList"},type:"button",class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"},{default:D(()=>t[10]||(t[10]=[h(" Back to List ")])),_:1}),g(n,{to:{name:"NoticeEdit",params:{id:(N=s.value)==null?void 0:N.id}},class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},{default:D(()=>t[11]||(t[11]=[h(" Edit ")])),_:1},8,["to"])])]))])])}}};export{dt as default};
