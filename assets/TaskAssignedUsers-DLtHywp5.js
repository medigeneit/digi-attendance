import{p as w,x as p,c as n,g as T,o as s,q as m,a as l,M as C,j as N,t as y,R as S,F as b,y as k,f as h,i as g,n as v,T as z,U as B,G as _}from"./index-CvmXPPpp.js";import{_ as x}from"./UserChip-BGWpOA4X.js";const $=w({__name:"SubTaskProgress",props:{task:{}},setup(t,{expose:e}){const c=t,u=p(function(){return c.task.completed_count}),d=p(()=>c.task.children_task_count===0?c.task.status==="COMPLETED"?100:0:u.value/c.task.children_task_count*100),f=p(()=>{const a=d.value;let i,r,o;return a===100?(i="bg-green-50 ",r="bg-green-200",o="text-green-600 "):a<100&&(i="bg-red-50 border-red-400",r="bg-red-200",o="text-red-600 "),{container:i,bar:r,text:o}});return e({completedPercentage:d,completedSubTaskCount:u}),(a,i)=>a.task.children_task_count>0?(s(),n("div",{key:0,class:m(["rounded-full py-0.5 relative overflow-hidden h-6 min-w-40 border-2",f.value.container])},[l("div",{class:m(["z-10 absolute top-0 bottom-0",f.value.bar]),style:C(`width: ${d.value}%`)},null,6),l("span",{class:m(["z-20 absolute inset-0 gap-1 text-center h-full flex justify-center items-center",f.value.text])},[l("span",null,[l("span",null,y(u.value),1),i[0]||(i[0]=N(" / ")),l("span",null,y(a.task.children_task_count),1)])],2)],2)):T("",!0)}}),I={class:"relative"},A={key:0,class:"text-gray-400 text-xs whitespace-nowrap border py-1.5 rounded-full px-3 italic border-dashed"},L={class:"border rounded-full size-6 inline-flex justify-center items-center border-blue-300 bg-blue-100 flex-shrink-0"},P={key:0,class:"fas fa-user-cowboy text-blue-500"},U={key:1,class:"fas fa-user-crown text-blue-300"},V={key:2,class:"text-sm text-gray-500 group/users"},j={class:"cursor-pointer hover:underline text-blue-600 whitespace-nowrap"},D={class:"hidden absolute group-hover/users:block right-0 p-3 bg-white rounded shadow-lg z-30"},q={__name:"TaskAssignedUsers",props:{users:{type:Array,required:!0,default:()=>[]},maxItems:{type:Number,default:2},routeTo:{type:Function,default:null},isTargetTask:{Boolean,default:!1},listType:{String,default:"employee"},maxItem:{Number,default:2}},setup(t){const e=t,c=p(()=>e.users.slice(0,e.maxItem)),u=p(()=>e.users.slice(e.maxItem));function d(a){return typeof e.routeTo=="function"?e.routeTo(a):{}}const f=p(()=>typeof e.routeTo=="function"?S:"div");return(a,i)=>(s(),n("div",I,[e.users.length===0?(s(),n("div",A,y(t.listType=="supervisors"?"No Supervisor assigned":"Not Assigned To Anyone"),1)):(s(!0),n(b,{key:1},k(c.value,(r,o)=>(s(),h(_(f.value),B({key:o},{ref_for:!0},{...typeof e.routeTo=="function"?{to:d(r)}:{}}),{default:g(()=>[v(x,{class:m(["flex items-center border rounded-full border-gray-300 shadow-sm",{"!bg-yellow-400":t.isTargetTask," !bg-blue-100":!t.isTargetTask&&t.listType=="employee"&&o===0}]),user:r,"hide-employee-id":!0},z({_:2},[o===0||t.listType=="supervisors"?{name:"after",fn:g(()=>[l("div",L,[t.listType=="supervisors"?(s(),n("i",P)):(s(),n("i",U))])]),key:"0"}:void 0]),1032,["class","user"])]),_:2},1040))),128)),u.value.length>0?(s(),n("div",V,[l("div",j," + "+y(u.value.length),1),l("div",D,[(s(!0),n(b,null,k(u.value,(r,o)=>(s(),h(_(f.value),{key:o,to:d(r),class:"w-full block mb-2"},{default:g(()=>[v(x,{class:m(["flex items-center gap-2 border rounded-full border-gray-300 shadow-sm w-full",{"!bg-yellow-400":t.isTargetTask}]),user:r},null,8,["class","user"])]),_:2},1032,["to"]))),128))])])):T("",!0)]))}};export{$ as _,q as a};
