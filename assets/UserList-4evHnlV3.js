import{r as y,b as S,p as V,c as o,a as e,l as f,m as x,d as A,z as C,F as _,x as g,h as v,n as E,o as r,t as d,g as N}from"./index-BpJybqTi.js";import{L as B}from"./LoaderView-DLJMQF71.js";import{_ as D}from"./MultiselectDropdown-ChUmG3EC.js";import{u as R}from"./user-Dr4u2E1d.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vue-multiselect.esm-CeUCqOpS.js";const j={class:"space-y-2 px-4"},F={class:"flex items-center justify-between gap-2"},I={class:"flex items-center justify-start gap-2"},M={key:0,class:"text-center py-4"},q={key:1,class:"space-y-4"},z={class:"title-md"},G={class:"overflow-x-auto"},O={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},P={class:"border border-gray-300 px-2"},$={class:"border border-gray-300 px-2"},H={class:"border border-gray-300 px-2"},J={class:"border border-gray-300 px-2"},K={class:"border border-gray-300 px-2"},Q={class:"border border-gray-300 px-2"},T={class:"border border-gray-300 px-2"},W={class:"border border-gray-300 px-2"},X={key:0,class:"text-green-500"},Y={key:1,class:"text-red-500"},Z={class:"border border-gray-300 px-2"},ee={class:"flex gap-2"},ne={__name:"UserList",setup(te){const w=N(),m=R(),h=y([]),p=y("all"),b=y("");S(()=>{m.fetchUsers()});const k=()=>{w.go(-1)},U=V(()=>{var a;const i={},t=new Set;m.users.forEach(l=>{var c;const s=((c=l.company)==null?void 0:c.name)||"Unknown Company";i[s]||(i[s]=[]),i[s].push(l),t.add(s)}),h.value=Array.from(t);let n=i;if(p.value!=="all"&&(n={[p.value]:i[p.value]||[]}),(a=b.value)!=null&&a.id){const l={};for(const[s,c]of Object.entries(n)){const u=c.filter(L=>L.id===b.value.id);u.length&&(l[s]=u)}return l}return n});return(i,t)=>{const n=E("RouterLink");return r(),o("div",j,[e("div",F,[e("button",{class:"btn-3",onClick:k},t[2]||(t[2]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),t[4]||(t[4]=e("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Employee List",-1)),f(n,{to:{name:"UserAdd"},class:"btn-2"},{default:x(()=>t[3]||(t[3]=[e("span",{class:"hidden md:flex"},"Add New",-1),e("i",{class:"far fa-plus"},null,-1)])),_:1})]),e("div",I,[A(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>p.value=a),class:"input-1"},[t[5]||(t[5]=e("option",{value:"all",selected:""},"All Company",-1)),(r(!0),o(_,null,g(h.value,(a,l)=>(r(),o("option",{key:l},d(a),1))),128))],512),[[C,p.value]]),f(D,{modelValue:b.value,"onUpdate:modelValue":t[1]||(t[1]=a=>b.value=a),options:v(m).users,multiple:!1,class:"w-full",placeholder:"Select Employee"},null,8,["modelValue","options"])]),v(m).isLoading?(r(),o("div",M,[f(B)])):(r(),o("div",q,[(r(!0),o(_,null,g(U.value,(a,l)=>(r(),o("div",{key:l},[e("h2",z,d(l),1),e("div",G,[e("table",O,[t[8]||(t[8]=e("thead",null,[e("tr",{class:"bg-gray-200"},[e("th",{class:"border border-gray-300 px-2 text-left"},"#"),e("th",{class:"border border-gray-300 px-2 text-left"},"Name"),e("th",{class:"border border-gray-300 px-2 text-left"},"Designation"),e("th",{class:"border border-gray-300 px-2 text-left"},"Role"),e("th",{class:"border border-gray-300 px-2 text-left"},"Device ID"),e("th",{class:"border border-gray-300 px-2 text-left"},"Phone"),e("th",{class:"border border-gray-300 px-2 text-left"},"Email"),e("th",{class:"border border-gray-300 px-2 text-left"},"Status"),e("th",{class:"border border-gray-300 px-2 text-left"},"Action")])],-1)),e("tbody",null,[(r(!0),o(_,null,g(a,(s,c)=>{var u;return r(),o("tr",{key:s.id,class:"border-b border-gray-200 hover:bg-blue-200"},[e("td",P,d(c+1),1),e("td",$,d(s==null?void 0:s.name),1),e("td",H,d((u=s.designation)==null?void 0:u.title),1),e("td",J,d(s.role),1),e("td",K,d(s.device_user_id||"নেই"),1),e("td",Q,d(s.phone),1),e("td",T,d(s.email||"নেই"),1),e("td",W,[s.is_active?(r(),o("span",X,"Active")):(r(),o("span",Y,"Inactive"))]),e("td",Z,[e("div",ee,[f(n,{to:{name:"UserShow",params:{id:s.id}},class:"btn-icon"},{default:x(()=>t[6]||(t[6]=[e("i",{class:"far fa-eye"},null,-1)])),_:2},1032,["to"]),f(n,{to:{name:"UserEdit",params:{id:s.id}},class:"btn-icon"},{default:x(()=>t[7]||(t[7]=[e("i",{class:"far fa-edit"},null,-1)])),_:2},1032,["to"])])])])}),128))])])])]))),128))]))])}}};export{ne as default};
