import{s as b,r as k,b as u,p as L,c as o,a as e,d as S,A,F as y,x as m,h as c,l as R,f as B,o as r,t as a,g as C}from"./index-B8mSMKDk.js";import{L as U}from"./LoaderView-tnCXQklQ.js";import{u as D}from"./attendance-COyiE8rN.js";import{u as V}from"./company-wCYEeYru.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"space-y-2 px-4"},N={class:"flex items-center justify-between gap-2"},q=["value"],F={key:0,class:"text-center py-4"},M={key:1,class:"space-y-4"},T={class:"overflow-x-auto"},j={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},I={class:"border border-gray-300 px-2"},z={class:"border border-gray-300 px-2"},G={class:"border border-gray-300 px-2"},H={class:"border border-gray-300 px-2"},J={class:"border border-gray-300 px-2"},K={class:"border border-gray-300 px-2"},O={class:"border border-gray-300 px-2"},P={class:"border border-gray-300 px-2"},ee={__name:"LateAttendanceReport",setup(Q){const g=C(),x=B(),d=D(),i=V(),{dailyLateLogs:p,isLoading:_}=b(d),{companies:f}=b(i),n=k("");u(()=>{i.fetchCompanies()});const h=()=>{g.go(-1)},v=async()=>{n.value&&await d.getAttendanceLateReport(n.value)};return L(()=>[]),u(async()=>{var l;await d.getAttendanceLateReport({query:(l=x.query)==null?void 0:l.search})}),(l,s)=>(r(),o("div",E,[e("div",N,[e("button",{class:"btn-3",onClick:h},s[1]||(s[1]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),s[3]||(s[3]=e("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Late Reports",-1)),e("div",null,[S(e("select",{id:"user-filter","onUpdate:modelValue":s[0]||(s[0]=t=>n.value=t),class:"input-1",onChange:v},[s[2]||(s[2]=e("option",{value:""},"Select Company",-1)),(r(!0),o(y,null,m(c(f),t=>(r(),o("option",{key:t.id,value:t.id},a(t.name),9,q))),128))],544),[[A,n.value]])])]),c(_)?(r(),o("div",F,[R(U)])):(r(),o("div",M,[e("div",T,[e("table",j,[s[4]||(s[4]=e("thead",null,[e("tr",{class:"bg-gray-200"},[e("th",{class:"border border-gray-300 px-2 text-left"},"#"),e("th",{class:"border border-gray-300 px-2 text-left"},"Date"),e("th",{class:"border border-gray-300 px-2 text-left"},"Employee Name"),e("th",{class:"border border-gray-300 px-2 text-left"},"Company"),e("th",{class:"border border-gray-300 px-2 text-left"},"Department"),e("th",{class:"border border-gray-300 px-2 text-left"},"Entry Time"),e("th",{class:"border border-gray-300 px-2 text-left"},"Late Duration"),e("th",{class:"border border-gray-300 px-2 text-left"},"Shift")])],-1)),e("tbody",null,[(r(!0),o(y,null,m(c(p),(t,w)=>(r(),o("tr",{key:t.id,class:"border-b border-gray-200 hover:bg-gray-100"},[e("td",I,a(w+1),1),e("td",z,a(t==null?void 0:t.date),1),e("td",G,a((t==null?void 0:t.user_name)||"Unknown"),1),e("td",H,a((t==null?void 0:t.company_name)||"Unknown"),1),e("td",J,a((t==null?void 0:t.department_name)||"Unknown"),1),e("td",K,a(t.entry_time),1),e("td",O,a(t.late_duration),1),e("td",P,a(t.shift_name),1)]))),128))])])])]))]))}};export{ee as default};
