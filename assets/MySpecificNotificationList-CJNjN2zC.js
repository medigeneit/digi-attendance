import{_ as N}from"./AcceptAndRejectHandler-DIkk4Z3k.js";import{L as T}from"./LoaderView-Z2pHwuTZ.js";import{f as M,ab as C,D as A,h as R,q as V,x as H,p as B,c as s,o as a,a as t,j as p,b as d,t as l,m as n,d as m,F as x,e as h,l as D}from"./index-CP4b17qw.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"my-container space-y-6 px-4 py-4"},j={class:"md:text-2xl font-semibold capitalize text-gray-700"},z={key:0,class:"ml-auto text-xs bg-red-500 text-white rounded-full px-2 py-0.5 font-semibold"},F={key:0,class:"text-center text-red-500 py-10 text-xl italic"},I={key:1,class:"space-y-4"},O={class:"flex gap-2 md:gap-3 items-center"},$={class:"shrink-0 grow-0 btn-1 size-8 p-0"},q={class:"shrink grow font-semibold text-sm md:text-base"},U={class:"ml-auto shrink-0 grow-0 flex gap-2 md:gap-3 items-center"},Z=["href"],G=["innerHTML"],J={key:0,class:"flex flex-wrap gap-y-1 gap-x-3 items-center text-xs md:text-sm lg:text-base"},K={key:0},P={key:1},Q={key:1,class:"flex flex-wrap gap-y-1 gap-x-3 items-center text-xs md:text-sm lg:text-base"},W={key:2,class:"flex flex-wrap gap-y-1 gap-x-3 items-center text-xs md:text-sm lg:text-base"},X={class:"flex gap-3 items-center"},Y={class:"flex items-center gap-8"},ee={key:0,class:"flex flex-wrap flex-col md:flex-row gap-x-1 text-xs md:text-sm text-left"},te={key:0,class:"hidden md:inline font-bold"},se=["innerHTML"],le={__name:"MySpecificNotificationList",setup(ae){const r=M(),c=C(),{icons:g,loading:v,notifications:_,count_notifications:u}=A(c);R(()=>{r.params.type&&(c.fetchCountNotifications(),c.fetchSpecificNotifications(r.params.type))}),V(()=>r.params.type,(i,o)=>{i&&i!==o&&(c.fetchCountNotifications(),c.fetchSpecificNotifications(i))});const k=async()=>{await c.fetchSpecificNotifications(r.params.type)},b={leave_applications:"LeaveApplicationShow",short_leave_applications:"ShortLeaveShow",shift_exchange_applications:"ExchangeShiftShow",offday_exchange_applications:"ExchangeOffdayShow",manual_attendance_applications:"ManualAttendanceShow",overtime_applications:"OvertimeShow"},w=H(()=>r.params.type?r.params.type.replace(/[_-]/g," ").replace(/([A-Z])/g," $1").replace(/\s+/g," ").trim().split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" "):"");return(i,o)=>{const S=B("RouterLink");return a(),s("div",E,[t("h2",j,[d(l(w.value||"Notifications")+" ",1),n(u)[n(r).params.type]?(a(),s("span",z,l(n(u)[n(r).params.type]),1)):p("",!0)]),n(v)?(a(),s("div",F,[m(T)])):n(_).length?(a(),s("div",I,[(a(!0),s(x,null,h(n(_),e=>{var y;return a(),s("div",{key:e.application_id,class:"bg-white p-3 md:p-4 rounded-xl shadow border grid gap-2"},[t("div",O,[t("div",$,l(n(g)[n(r).params.type]),1),t("div",q,l(e.user_name),1),t("div",U,[e!=null&&e.attachment?(a(),s("a",{key:0,href:e.attachment,target:"_blank",class:"btn-4 px-2"},o[0]||(o[0]=[t("i",{class:"fad fa-link"},null,-1)]),8,Z)):p("",!0),m(S,{to:{name:b[n(r).params.type],params:{id:e.application_id}},class:"btn-1 px-3"},{default:D(()=>o[1]||(o[1]=[t("i",{class:"far fa-eye"},null,-1)])),_:2,__:[1]},1032,["to"])])]),t("div",{class:"flex items-center text-red-600 text-xs md:text-sm lg:text-base",innerHTML:e.message},null,8,G),e.type||e.duration?(a(),s("div",J,[e.type?(a(),s("div",K,[o[2]||(o[2]=t("span",{class:"text-gray-400"},"Type:",-1)),d(" "+l(e.type),1)])):p("",!0),e.duration?(a(),s("div",P,[o[3]||(o[3]=t("span",{class:"text-gray-400"},"Duration:",-1)),d(" "+l(e.duration),1)])):p("",!0)])):p("",!0),e.reason?(a(),s("div",Q,[t("div",null,[o[4]||(o[4]=t("span",{class:"text-gray-400"},"Reason:",-1)),d(" "+l(e.reason),1)])])):p("",!0),e.last_approver_note?(a(),s("div",W,[t("div",null,[o[5]||(o[5]=t("span",{class:"text-gray-400"},"Last Approver Note:",-1)),d(" "+l(e.last_approver_note),1)])])):p("",!0),t("div",X,[t("div",Y,[(y=e.messages)!=null&&y.length?(a(),s("p",ee,[(a(!0),s(x,null,h(e.messages,(L,f)=>(a(),s(x,{key:f},[f?(a(),s("span",te,"|")):p("",!0),t("span",{innerHTML:L,class:"text-black"},null,8,se)],64))),128))])):p("",!0)]),m(N,{class:"ml-auto",notificationType:n(r).params.type,applicationId:e.application_id,onSuccess:k,variant:2},null,8,["notificationType","applicationId"])])])}),128))])):p("",!0)])}}};export{le as default};
