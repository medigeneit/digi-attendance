import{r as w,q as p,c as g,g as x,o as y,a as s,h as l,j as a,I as d,v as k}from"./index-DIQ3TADa.js";import{d as b}from"./dayjs.min-Cbbdfn5l.js";import{u as h}from"./user-BMehSY-m.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={key:0,class:"flex items-center justify-center fixed top-0 left-0 w-full h-full z-50 bg-opacity-40 bg-black"},M={class:"modal-card relative bg-white p-6 rounded w-full max-w-xl"},U={class:"flex flex-wrap gap-2 md:gap-4 bg-white p-2 border rounded"},V={class:"flex items-center gap-1.5 md:gap-2"},O={class:"flex items-center gap-1.5 md:gap-2"},I={class:"flex items-center gap-1.5 md:gap-2"},Y={class:"flex items-center gap-1.5 md:gap-2"},D={class:"flex items-center gap-1.5 md:gap-2"},T={class:"flex items-center gap-1.5 md:gap-2"},W={class:"flex items-center gap-1.5 md:gap-2"},j={class:"mb-4 mt-4"},C={class:"mb-4"},N={__name:"WeekendAssignModal",props:{isOpen:Boolean,assign_weekend:{type:Object,default:()=>null},userId:String},emits:["close"],setup(r,{emit:v}){const m=v,o=r,t=w({weekends:[],start_month:new Date().toISOString().substring(0,7),end_month:""}),c=h();p(()=>o.isOpen,u=>{u&&(o.assign_weekend?(t.value.weekends=o.assign_weekend.weekends||[],t.value.start_month=o.assign_weekend.start_month?b(o.assign_weekend.start_month).format("YYYY-MM"):new Date().toISOString().substring(0,7),t.value.end_month=o.assign_weekend.end_month?b(o.assign_weekend.end_month).format("YYYY-MM"):""):(t.value.weekends=[],t.value.start_month=new Date().toISOString().substring(0,7),t.value.end_month=""))},{immediate:!0}),p(t,u=>{m("update",{...u})},{deep:!0});const i=()=>{m("close",!1)},f=async()=>{const u={weekends:t.value.weekends,start_month:t.value.start_month,end_month:t.value.end_month};try{const e=await c.updateOrCreateWeekend(o.userId,u);i(),console.log({message:e})}catch(e){console.error(e.message)}};return(u,e)=>r.isOpen?(y(),g("div",S,[s("div",M,[s("div",U,[s("label",V,[l(s("input",{type:"checkbox",value:"Saturday","onUpdate:modelValue":e[0]||(e[0]=n=>t.value.weekends=n),class:"form-checkbox"},null,512),[[d,t.value.weekends]]),e[9]||(e[9]=a(" SAT "))]),s("label",O,[l(s("input",{type:"checkbox",value:"Sunday","onUpdate:modelValue":e[1]||(e[1]=n=>t.value.weekends=n),class:"form-checkbox"},null,512),[[d,t.value.weekends]]),e[10]||(e[10]=a(" SUN "))]),s("label",I,[l(s("input",{type:"checkbox",value:"Monday","onUpdate:modelValue":e[2]||(e[2]=n=>t.value.weekends=n),class:"form-checkbox"},null,512),[[d,t.value.weekends]]),e[11]||(e[11]=a(" MON "))]),s("label",Y,[l(s("input",{type:"checkbox",value:"Tuesday","onUpdate:modelValue":e[3]||(e[3]=n=>t.value.weekends=n),class:"form-checkbox"},null,512),[[d,t.value.weekends]]),e[12]||(e[12]=a(" TUE "))]),s("label",D,[l(s("input",{type:"checkbox",value:"Wednesday","onUpdate:modelValue":e[4]||(e[4]=n=>t.value.weekends=n),class:"form-checkbox"},null,512),[[d,t.value.weekends]]),e[13]||(e[13]=a(" WED "))]),s("label",T,[l(s("input",{type:"checkbox",value:"Thursday","onUpdate:modelValue":e[5]||(e[5]=n=>t.value.weekends=n),class:"form-checkbox"},null,512),[[d,t.value.weekends]]),e[14]||(e[14]=a(" THU "))]),s("label",W,[l(s("input",{type:"checkbox",value:"Friday","onUpdate:modelValue":e[6]||(e[6]=n=>t.value.weekends=n),class:"form-checkbox"},null,512),[[d,t.value.weekends]]),e[15]||(e[15]=a(" FRI "))])]),s("div",j,[e[16]||(e[16]=s("label",{class:"block text-sm mb-1"},"Start Month:",-1)),l(s("input",{type:"month","onUpdate:modelValue":e[7]||(e[7]=n=>t.value.start_month=n),class:"w-full border rounded p-2"},null,512),[[k,t.value.start_month]])]),s("div",C,[e[17]||(e[17]=s("label",{class:"block text-sm mb-1"},"End Month (optional):",-1)),l(s("input",{type:"month","onUpdate:modelValue":e[8]||(e[8]=n=>t.value.end_month=n),class:"w-full border rounded p-2"},null,512),[[k,t.value.end_month]])]),s("div",{class:"flex justify-end gap-3 mt-4"},[s("button",{onClick:f,class:"btn-1"},"Done")]),s("button",{type:"button",onClick:i,class:"absolute top-1 right-2 text-red-500 text-xl"},e[18]||(e[18]=[s("i",{class:"far fa-times-circle"},null,-1)]))])])):x("",!0)}},q=_(N,[["__scopeId","data-v-107b7967"]]);export{q as S};
