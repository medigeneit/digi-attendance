import{u as xs,N as fs,r as w,x as as,b as gs,c as a,a as e,k as r,j as ks,t as l,F as g,q as A,h as b,e as d,p as rs,l as ws,d as As,v as hs,f as js,o,g as Ds}from"./index-C5LFIkSb.js";import{L as Ls}from"./LoaderView-BwxhhkgF.js";import{_ as Cs}from"./ShareComponent-CyefiNxX.js";import{u as Bs}from"./leave-application-Chhb9lNa.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Rs={class:"my-container max-w-3xl space-y-6"},Ns={key:1,class:"card-bg p-4 md:p-8"},Is={class:"title-lg text-center"},Ws={class:"text-center text-sm"},Ts={class:"space-y-4"},Ss={class:"grid md:grid-cols-2 print:grid-cols-2 gap-8"},$s={class:""},Ms={class:"text-sm"},Vs={class:"flex justify-end gap-4"},Hs={class:"table-auto border border-black bg-white text-xs"},Fs={class:"border border-black px-2"},Os={class:"border border-black px-2"},Ps={class:"border border-black px-2"},qs={class:"font-bold"},Es={class:"border border-black px-2"},Us={class:"table-auto border border-black bg-white text-xs"},zs={class:"border border-black"},Gs={colspan:"2",class:"border border-black px-2 w-32"},Js={class:"border border-black px-2"},Ks={class:"border border-black px-2"},Qs={class:"font-bold"},Xs={class:"border border-black px-2"},Ys={class:"grid print:grid-cols-2 md:grid-cols-2 text-sm"},Zs={class:"text-sm"},el={class:"pt-8 grid grid-cols-2"},tl={class:"text-sm"},sl={class:"flex flex-col justify-center items-center text-sm"},ll={key:0,class:"print:hidden"},ol={class:"text-xs text-center"},al={class:"flex justify-center gap-2"},rl={class:"font-bold"},nl={key:0,class:"text-green-600 print:text-black"},il={key:1,class:"pl-2 text-yellow-700"},dl={class:"overflow-x-auto"},ul={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},pl={class:"border border-gray-500 px-4 py-0.5 text-left"},cl={class:"border border-gray-500 px-4 py-0.5 text-center"},vl={class:"border border-gray-500 px-4 py-0.5 text-center"},bl={class:"space-y-14"},yl={class:"font-bold text-center text-lg"},_l={key:0},ml={class:"grid md:grid-cols-3 print:grid-cols-3 gap-4 text-sm items-end"},xl={class:"flex flex-col justify-center items-center"},fl={key:0},gl={key:1,class:"text-center"},kl={key:2,class:"print:hidden"},wl={class:"text-xs text-center text-blue-600"},Al={class:"flex justify-center gap-4"},hl={class:"font-bold"},jl={key:0,class:"text-green-600"},Dl={key:1,class:"pl-2 text-yellow-700"},Ll={class:"flex flex-col justify-center items-center"},Cl={key:0},Bl={key:1,class:"text-center"},Rl={key:2,class:"print:hidden"},Nl={class:"text-xs text-center text-blue-600"},Il={class:"flex justify-center gap-4"},Wl={class:"font-bold"},Tl={key:0,class:"text-green-600"},Sl={key:1,class:"pl-2 text-yellow-700"},$l={class:"flex flex-col justify-center items-center"},Ml={key:0},Vl={key:1,class:"text-center"},Hl={key:2,class:"print:hidden"},Fl={class:"text-xs text-center text-blue-600"},Ol={class:"flex justify-center gap-4"},Pl={class:"font-bold"},ql={key:0,class:"text-green-600"},El={key:1,class:"pl-2 text-yellow-700"},Ul={class:"flex justify-evenly text-sm items-end"},zl={class:"flex flex-col justify-center items-center"},Gl={key:0},Jl={key:1,class:"text-center"},Kl={key:2,class:"print:hidden"},Ql={class:"text-xs text-center text-blue-600"},Xl={class:"flex justify-center gap-4"},Yl={class:"font-bold"},Zl={key:0,class:"text-green-600"},eo={key:1,class:"pl-2 text-yellow-700"},to={class:"flex flex-col justify-center items-center"},so={key:0},lo={key:1,class:"text-center"},oo={key:2,class:"print:hidden"},ao={class:"text-xs text-center text-blue-600"},ro={class:"flex justify-center gap-4"},no={class:"font-bold"},io={key:0,class:"text-green-600"},uo={key:1,class:"pl-2 text-yellow-700"},po={key:0,class:"modal-bg"},co={class:"modal-card"},vo={class:"flex justify-end gap-2 mt-4"},go={__name:"LeaveApplicationShow",setup(bo){const v=xs(),ns=fs(),u=Bs(),is=Ds(),_=js(),h=w(!0),m=w(!1),x=w(""),s=as(()=>u.leaveApplication);gs(async()=>{const{id:i}=_.params;try{await u.fetchLeaveApplicationById(i)}catch(t){console.error("Failed to load leave application:",t)}finally{h.value=!1}});async function ds(){try{await u.rejectLeaveApplication(_.params.id,{rejection_reason:x.value}),alert("Leave application rejected successfully!"),m.value=!1,x.value="",await u.fetchLeaveApplicationById(_.params.id),p()}catch(i){alert(i.message)}}function y(){m.value=!0}async function us(i){try{confirm("Are you sure you want to approve?")&&(await u.acceptHandover(i),await u.fetchLeaveApplicationById(i),p())}catch(t){alert(t.message)}}async function ps(i){try{confirm("Are you sure you want to approve?")&&(await u.acceptInCharge(i),await u.fetchLeaveApplicationById(i),p())}catch(t){alert(t.message)}}async function cs(i){try{confirm("Are you sure you want to approve?")&&(await u.acceptCoordinator(i),await u.fetchLeaveApplicationById(i),p())}catch(t){alert(t.message)}}async function vs(i){try{confirm("Are you sure you want to approve?")&&(await u.acceptOperationalAdmin(i),await u.fetchLeaveApplicationById(i),p())}catch(t){alert(t.message)}}async function bs(i){try{confirm("Are you sure you want to approve?")&&(await u.acceptRecommendBy(i),await u.fetchLeaveApplicationById(i),p())}catch(t){alert(t.message)}}async function ys(i){try{confirm("Are you sure you want to approve?")&&(await u.acceptApprovedBy(i),p(),await u.fetchLeaveApplicationById(i))}catch(t){alert(t.message)}}async function p(){await ns.markAsRead(_.query.notifyId)}function _s(){window.print()}const ms=()=>is.go(-1),j=as(()=>{if(!s.value||!s.value.last_working_date||!s.value.resumption_date)return 0;const i=new Date(s==null?void 0:s.value.last_working_date),f=new Date(s==null?void 0:s.value.resumption_date)-i;return Math.ceil(f/(1e3*60*60*24))-1});return(i,t)=>{var f,k,D,L,C,B,R,N,I,W,T,S,$,M,V,H,F,O,P,q,E,U,z,G,J,K,Q,X,Y,Z,ee,te,se,le,oe,ae,re,ne,ie,de,ue,pe,ce,ve,be,ye,_e,me,xe,fe,ge,ke,we,Ae,he,je,De,Le,Ce,Be,Re,Ne,Ie,We,Te,Se,$e,Me,Ve,He,Fe,Oe,Pe,qe,Ee,Ue,ze,Ge,Je,Ke,Qe,Xe,Ye,Ze,et,tt,st,lt,ot,at,rt,nt,it,dt,ut,pt,ct,vt,bt,yt,_t,mt,xt,ft,gt,kt,wt,At,ht,jt,Dt,Lt,Ct,Bt,Rt,Nt,It,Wt,Tt,St,$t,Mt,Vt,Ht,Ft,Ot,Pt,qt,Et,Ut,zt,Gt,Jt,Kt,Qt,Xt,Yt,Zt,es,ts,ss,ls,os;return o(),a(g,null,[e("div",Rs,[e("div",{class:"flex items-center justify-between gap-2 print:hidden"},[e("button",{class:"btn-3",onClick:ms},t[8]||(t[8]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),t[10]||(t[10]=e("h1",{class:"title-md md:title-xl flex-wrap text-center"},"Leave Application",-1)),e("div",null,[e("button",{class:"btn-2",onClick:_s},t[9]||(t[9]=[e("i",{class:"far fa-print"},null,-1),r(" Print ")]))])]),h.value?(o(),ks(Ls,{key:0})):(o(),a("div",Ns,[e("div",null,[e("h1",Is,l((D=(k=(f=s.value)==null?void 0:f.user)==null?void 0:k.company)==null?void 0:D.name),1),e("p",Ws,l((C=(L=s.value)==null?void 0:L.user)==null?void 0:C.company.address),1)]),e("div",Ts,[e("div",Ss,[e("div",null,[t[11]||(t[11]=e("p",null,"To",-1)),t[12]||(t[12]=e("p",{class:"font-bold"},"Managing Director",-1)),e("p",$s,l((N=(R=(B=s.value)==null?void 0:B.user)==null?void 0:R.company)==null?void 0:N.name),1),e("p",Ms,l((W=(I=s.value)==null?void 0:I.user)==null?void 0:W.company.address),1),t[13]||(t[13]=e("div",null,[e("p",{class:"pt-6"},[e("b",null,"Subject:"),r(" Leave Application")])],-1))]),e("div",Vs,[e("div",null,[t[17]||(t[17]=e("h1",{class:"font-bold"},"Summary",-1)),e("table",Hs,[t[16]||(t[16]=e("thead",null,[e("tr",{class:"bg-gray-200 border border-black"},[e("th",{class:"border border-black px-2"},"Type"),e("th",{class:"border border-black px-2"},"Days")])],-1)),e("tbody",null,[(o(!0),a(g,null,A((T=s.value)==null?void 0:T.leave_types,(n,c)=>(o(),a("tr",{key:c,class:"border border-black"},[e("td",Fs,l(n.type),1),e("td",Os,l(n.days),1)]))),128)),e("tr",null,[t[14]||(t[14]=e("td",{class:"border-black px-2"},"WL/GHD",-1)),e("td",Ps,l(j.value-(($=(S=s.value)==null?void 0:S.leave_days)==null?void 0:$.length)),1)]),e("tr",qs,[t[15]||(t[15]=e("td",{class:"border border-black px-2"},"Total",-1)),e("td",Es,l(j.value),1)])])])]),e("div",null,[t[21]||(t[21]=e("h1",{class:"font-bold"},"Last Leave",-1)),e("div",null,[e("table",Us,[e("thead",null,[t[18]||(t[18]=e("tr",{class:"bg-gray-200 border border-black"},[e("th",{colspan:"2",class:"border border-black px-2"},"Date")],-1)),e("tr",zs,[e("td",Gs,l(((V=(M=s.value)==null?void 0:M.last_leave)==null?void 0:V.date)||"N/A"),1)]),t[19]||(t[19]=e("tr",{class:"bg-gray-200 border border-black"},[e("th",{class:"border border-black px-2"},"Type"),e("th",{class:"border border-black px-2"},"Days")],-1))]),e("tbody",null,[(o(!0),a(g,null,A((F=(H=s.value)==null?void 0:H.last_leave)==null?void 0:F.types,(n,c)=>(o(),a("tr",{key:c,class:"border border-black"},[e("td",Js,l(n==null?void 0:n.type),1),e("td",Ks,l(n==null?void 0:n.days),1)]))),128)),e("tr",Qs,[t[20]||(t[20]=e("td",{class:"border border-black px-2"},"Total",-1)),e("td",Xs,l((P=(O=s.value)==null?void 0:O.last_leave)!=null&&P.types?s.value.last_leave.types.reduce((n,c)=>n+c.days,0):0),1)])])])])])])]),e("div",null,[t[28]||(t[28]=e("h3",{class:"font-bold"},"Leave Details:",-1)),e("div",Ys,[e("li",null,[t[22]||(t[22]=e("strong",null,"Reason: ",-1)),r(l(((q=s.value)==null?void 0:q.reason)||"No reason provided"),1)]),e("li",null,[t[23]||(t[23]=e("strong",null,"Leave Days:",-1)),r(" "+l((E=s.value)==null?void 0:E.leave_period),1)]),e("li",null,[t[24]||(t[24]=e("strong",null,"Total Days:",-1)),r(" "+l((U=s.value)==null?void 0:U.total_leave_days),1)]),e("li",null,[t[25]||(t[25]=e("strong",null,"Weekends:",-1)),r(" "+l((z=s.value)==null?void 0:z.user.weekends.join(", ")),1)]),e("li",null,[t[26]||(t[26]=e("strong",null,"Last Working Date:",-1)),r(" "+l((G=s.value)==null?void 0:G.last_working_date),1)]),e("li",null,[t[27]||(t[27]=e("strong",null,"Resumption Date:",-1)),r(" "+l((J=s.value)==null?void 0:J.resumption_date),1)])])]),e("div",Zs,[e("p",null,[t[29]||(t[29]=e("strong",null,"Works in Hand: ",-1)),r(l(((K=s.value)==null?void 0:K.works_in_hand)||"No details provided"),1)])]),e("div",el,[e("div",null,[e("div",tl,[t[34]||(t[34]=e("hr",{class:"w-44 border-black hidden print:block"},null,-1)),e("p",null,[t[30]||(t[30]=e("strong",null,"Applicant:",-1)),r(" "+l((X=(Q=s.value)==null?void 0:Q.user)==null?void 0:X.name),1)]),e("p",null,[t[31]||(t[31]=e("strong",null,"Designation:",-1)),r(" "+l((ee=(Z=(Y=s.value)==null?void 0:Y.user)==null?void 0:Z.designation)==null?void 0:ee.title),1)]),e("p",null,[t[32]||(t[32]=e("strong",null,"Department:",-1)),r(" "+l((le=(se=(te=s.value)==null?void 0:te.user)==null?void 0:se.department)==null?void 0:le.name),1)]),e("p",null,[t[33]||(t[33]=e("strong",null,"Phone:",-1)),r(" "+l((ae=(oe=s.value)==null?void 0:oe.user)==null?void 0:ae.phone),1)])])]),e("div",sl,[e("p",null,l(((ne=(re=s.value)==null?void 0:re.handover_user)==null?void 0:ne.name)||"Not assigned"),1),!((ie=s.value)!=null&&ie.status)&&s.value.handover_user_id===b(v).user.id?(o(),a("div",ll,[e("p",ol,[r(l((ue=(de=s.value)==null?void 0:de.user)==null?void 0:ue.name)+" has assigned you for his handover. ",1),t[35]||(t[35]=e("br",null,null,-1)),t[36]||(t[36]=r(" Do you agree? "))]),e("div",al,[e("button",{class:"font-bold text-lg text-green-600 px-2",onClick:t[0]||(t[0]=n=>us(s.value.id))}," ✔ "),t[37]||(t[37]=e("button",{class:"px-2"},"❌",-1))])])):d("",!0),t[40]||(t[40]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("h4",rl,[t[39]||(t[39]=r(" Handover ")),(pe=s.value)!=null&&pe.handover_user_id&&((ce=s.value)!=null&&ce.status)?(o(),a("span",nl," (✔) ")):d("",!0),(ve=s.value)!=null&&ve.handover_user_id&&!((be=s.value)!=null&&be.status)?(o(),a("span",il,t[38]||(t[38]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)])])]),e("div",null,[t[42]||(t[42]=e("h1",{class:"font-bold"},"Leave Balance",-1)),e("div",dl,[e("table",ul,[t[41]||(t[41]=e("thead",null,[e("tr",{class:"bg-gray-200"},[e("th",{class:"border border-gray-500 px-4 py-0.5 text-left"},"Leave Type"),e("th",{class:"border border-gray-500 px-4 py-0.5 text-center"},"Total Days"),e("th",{class:"border border-gray-500 px-4 py-0.5 text-center"},"Used Days"),e("th",{class:"border border-gray-500 px-4 py-0.5 text-center"},"Remaining Days")])],-1)),e("tbody",null,[(o(!0),a(g,null,A((ye=s.value)==null?void 0:ye.leave_balance,(n,c)=>(o(),a("tr",{key:c,class:"hover:bg-blue-200"},[e("td",pl,l(n.leave_type),1),e("td",cl,l(n.total_leave_days),1),e("td",vl,l(n.used_days),1),e("td",{class:rs(["border border-gray-500 px-4 py-0.5 text-center",{"text-green-600 font-bold":n.remaining_days>0,"text-red-600 font-bold":n.remaining_days===0}])},l(n.remaining_days),3)]))),128))])])])])]),e("div",bl,[e("p",yl,[t[43]||(t[43]=r(" Leave Approval: ")),e("b",{class:rs({"text-yellow-600":((_e=s.value)==null?void 0:_e.status)==="Pending","text-green-600":((me=s.value)==null?void 0:me.status)==="Approved","text-red-600":((xe=s.value)==null?void 0:xe.status)==="Rejected"})},l(((fe=s.value)==null?void 0:fe.status)||"N/A"),3)]),((ge=s.value)==null?void 0:ge.status)==="Rejected"?(o(),a("div",_l,[e("p",null,[t[44]||(t[44]=e("b",null,"Rejected by: ",-1)),r(" "+l((we=(ke=s.value)==null?void 0:ke.rejected_by_user)==null?void 0:we.name),1)]),e("p",null,[t[45]||(t[45]=e("b",null,"rejection Reason: ",-1)),r(" "+l(s.value.rejection_reason),1)])])):d("",!0),e("div",ml,[e("div",xl,[(Ae=s.value)!=null&&Ae.in_charge_user?(o(),a("p",fl,l(((je=(he=s.value)==null?void 0:he.in_charge_user)==null?void 0:je.name)||""),1)):(o(),a("p",gl,l(((Be=(Ce=(Le=(De=s.value)==null?void 0:De.user)==null?void 0:Le.leave_approval)==null?void 0:Ce.in_charge_user)==null?void 0:Be.name)||"N/A"),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((Re=s.value)!=null&&Re.in_charge_user_id)&&((We=(Ie=(Ne=s.value)==null?void 0:Ne.user)==null?void 0:Ie.leave_approval)==null?void 0:We.in_charge_user_id)===b(v).user.id?(o(),a("div",kl,[e("p",wl,[r(l((Se=(Te=s.value)==null?void 0:Te.user)==null?void 0:Se.name)+" has submitted an application. ",1),t[46]||(t[46]=e("br",null,null,-1)),t[47]||(t[47]=r(" Will you forward it? "))]),e("div",Al,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[1]||(t[1]=n=>ps(s.value.id))}," ✔ "),e("button",{class:"",onClick:y},"❌")])])):d("",!0),t[50]||(t[50]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("h4",hl,[e("p",null,[t[49]||(t[49]=r(" In-Charge ")),($e=s.value)!=null&&$e.in_charge_user_id?(o(),a("span",jl,"(✔)")):d("",!0),!((Me=s.value)!=null&&Me.in_charge_user_id)&&((Fe=(He=(Ve=s.value)==null?void 0:Ve.user)==null?void 0:He.leave_approval)!=null&&Fe.in_charge_user)?(o(),a("span",Dl,t[48]||(t[48]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)])])]),e("div",Ll,[(Oe=s.value)!=null&&Oe.coordinator_user?(o(),a("p",Cl,l(((qe=(Pe=s.value)==null?void 0:Pe.coordinator_user)==null?void 0:qe.name)||"N/A"),1)):(o(),a("p",Bl,l(((Ge=(ze=(Ue=(Ee=s.value)==null?void 0:Ee.user)==null?void 0:Ue.leave_approval)==null?void 0:ze.coordinator_user)==null?void 0:Ge.name)||"N/A"),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((Je=s.value)!=null&&Je.coordinator_user_id)&&((Xe=(Qe=(Ke=s.value)==null?void 0:Ke.user)==null?void 0:Qe.leave_approval)==null?void 0:Xe.coordinator_user_id)===b(v).user.id?(o(),a("div",Rl,[e("p",Nl,[r(l((Ze=(Ye=s.value)==null?void 0:Ye.user)==null?void 0:Ze.name)+" has submitted an application. ",1),t[51]||(t[51]=e("br",null,null,-1)),t[52]||(t[52]=r(" Will you recommend it? "))]),e("div",Il,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[2]||(t[2]=n=>cs(s.value.id))}," ✔ "),e("button",{class:"",onClick:y},"❌")])])):d("",!0),t[55]||(t[55]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("p",Wl,[t[54]||(t[54]=r(" Coordinator ")),(et=s.value)!=null&&et.coordinator_user_id?(o(),a("span",Tl,"(✔)")):d("",!0),!((tt=s.value)!=null&&tt.coordinator_user_id)&&((ot=(lt=(st=s.value)==null?void 0:st.user)==null?void 0:lt.leave_approval)!=null&&ot.coordinator_user)?(o(),a("span",Sl,t[53]||(t[53]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)])]),e("div",$l,[(at=s.value)!=null&&at.operational_admin_user?(o(),a("p",Ml,l(((nt=(rt=s.value)==null?void 0:rt.operational_admin_user)==null?void 0:nt.name)||""),1)):(o(),a("p",Vl,l(((pt=(ut=(dt=(it=s.value)==null?void 0:it.user)==null?void 0:dt.leave_approval)==null?void 0:ut.operational_admin_user)==null?void 0:pt.name)||"N/A"),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((ct=s.value)!=null&&ct.operational_admin_user_id)&&((yt=(bt=(vt=s.value)==null?void 0:vt.user)==null?void 0:bt.leave_approval)==null?void 0:yt.operational_admin_user_id)===b(v).user.id?(o(),a("div",Hl,[e("p",Fl,[r(l((mt=(_t=s.value)==null?void 0:_t.user)==null?void 0:mt.name)+" has submitted an application.",1),t[56]||(t[56]=e("br",null,null,-1)),t[57]||(t[57]=r(" Will you recommend it? "))]),e("div",Ol,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[3]||(t[3]=n=>vs(s.value.id))}," ✔ "),e("button",{class:"",onClick:y},"❌")])])):d("",!0),t[60]||(t[60]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("p",Pl,[t[59]||(t[59]=r(" Operational Admin ")),(xt=s.value)!=null&&xt.operational_admin_user_id?(o(),a("span",ql,"(✔)")):d("",!0),!((ft=s.value)!=null&&ft.operational_admin_user_id)&&((wt=(kt=(gt=s.value)==null?void 0:gt.user)==null?void 0:kt.leave_approval)!=null&&wt.operational_admin_user)?(o(),a("span",El,t[58]||(t[58]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)])])]),e("div",Ul,[e("div",zl,[(At=s.value)!=null&&At.recommend_by_user?(o(),a("p",Gl,l(((jt=(ht=s.value)==null?void 0:ht.recommend_by_user)==null?void 0:jt.name)||"N/A"),1)):(o(),a("p",Jl,l(((Bt=(Ct=(Lt=(Dt=s.value)==null?void 0:Dt.user)==null?void 0:Lt.leave_approval)==null?void 0:Ct.recommend_by_user)==null?void 0:Bt.name)||"N/A"),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((Rt=s.value)!=null&&Rt.recommend_by_user_id)&&((Wt=(It=(Nt=s.value)==null?void 0:Nt.user)==null?void 0:It.leave_approval)==null?void 0:Wt.recommend_by_user_id)===b(v).user.id?(o(),a("div",Kl,[e("p",Ql,[r(l((St=(Tt=s.value)==null?void 0:Tt.user)==null?void 0:St.name)+" has submitted an application.",1),t[61]||(t[61]=e("br",null,null,-1)),t[62]||(t[62]=r(" Will you recommend it? "))]),e("div",Xl,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[4]||(t[4]=n=>bs(s.value.id))}," ✔ "),e("button",{class:"",onClick:y},"❌")])])):d("",!0),t[65]||(t[65]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("p",Yl,[t[64]||(t[64]=r(" Recommend By ")),($t=s.value)!=null&&$t.recommend_by_user_id?(o(),a("span",Zl,"(✔)")):d("",!0),!((Mt=s.value)!=null&&Mt.recommend_by_user_id)&&((Ft=(Ht=(Vt=s.value)==null?void 0:Vt.user)==null?void 0:Ht.leave_approval)!=null&&Ft.recommend_by_user)?(o(),a("span",eo,t[63]||(t[63]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)])]),e("div",to,[(Ot=s.value)!=null&&Ot.approved_by_user?(o(),a("p",so,l(((qt=(Pt=s.value)==null?void 0:Pt.approved_by_user)==null?void 0:qt.name)||"N/A"),1)):(o(),a("p",lo,l(((Gt=(zt=(Ut=(Et=s.value)==null?void 0:Et.user)==null?void 0:Ut.leave_approval)==null?void 0:zt.approved_by_user)==null?void 0:Gt.name)||"N/A"),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((Jt=s.value)!=null&&Jt.approved_by_user_id)&&((Xt=(Qt=(Kt=s.value)==null?void 0:Kt.user)==null?void 0:Qt.leave_approval)==null?void 0:Xt.approved_by_user_id)===b(v).user.id?(o(),a("div",oo,[e("p",ao,[r(l((Zt=(Yt=s.value)==null?void 0:Yt.user)==null?void 0:Zt.name)+" has submitted an application.",1),t[66]||(t[66]=e("br",null,null,-1)),t[67]||(t[67]=r(" Will you accept it? "))]),e("div",ro,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[5]||(t[5]=n=>ys(s.value.id))}," ✔ "),e("button",{class:"",onClick:y},"❌")])])):d("",!0),t[70]||(t[70]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("p",no,[t[69]||(t[69]=r(" Approved By ")),(es=s.value)!=null&&es.approved_by_user_id?(o(),a("span",io,"(✔)")):d("",!0),!((ts=s.value)!=null&&ts.approved_by_user_id)&&((os=(ls=(ss=s.value)==null?void 0:ss.user)==null?void 0:ls.leave_approval)!=null&&os.approved_by_user)?(o(),a("span",uo,t[68]||(t[68]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)])])])])])),ws(Cs)]),m.value?(o(),a("div",po,[e("div",co,[t[71]||(t[71]=e("h3",{class:"title-lg"},"Reject Application",-1)),As(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=n=>x.value=n),rows:"4",placeholder:"Enter rejection reason...",class:"w-full border rounded-lg p-2 text-gray-700"},null,512),[[hs,x.value]]),e("div",vo,[e("button",{class:"btn-3",onClick:t[7]||(t[7]=n=>m.value=!1)},"Cancel"),e("button",{class:"btn-2 bg-red-500 text-white",onClick:ds},"Confirm")])])])):d("",!0)],64)}}};export{go as default};
