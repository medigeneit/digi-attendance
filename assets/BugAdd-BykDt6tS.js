import{u as S,r as s,D as B,h as k,c as a,o as n,a as t,w as E,j as D,k as u,H as f,F as O,e as P,t as v,m as i,v as x}from"./index-CKfTIQ62.js";import{u as V}from"./useBugStore-BS_hYFDw.js";import{u as j}from"./useProjectStore-Ba7BTgxw.js";const L={class:"container mx-auto p-6"},N={class:"max-w-xl mx-auto bg-white shadow-lg rounded-lg p-6"},C={class:"mb-4"},M=["value"],U={class:"mb-4"},_={class:"mb-4"},T={key:0,class:"mb-4 text-red-500 font-medium"},A={class:"flex items-center gap-4"},F=["disabled"],z={__name:"BugAdd",setup(R){const c=j(),l=V(),g=S(),d=s(""),m=s(""),p=s("OPEN"),b=s(""),r=s(!1),{projects:y}=B(c);k(()=>{c.fetchProjects()});const w=async()=>{r.value=!0,await l.createBug({project_id:m.value,title:d.value,status:p.value,description:b.value}),r.value=!1,l.error||g.push({name:"BugList"})};return(q,e)=>(n(),a("div",L,[t("div",N,[e[11]||(e[11]=t("h2",{class:"text-2xl font-semibold text-gray-800 mb-4"},"Add New Bug",-1)),t("form",{onSubmit:E(w,["prevent"]),class:"space-y-6"},[t("div",C,[e[6]||(e[6]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Project",-1)),u(t("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>m.value=o),class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},[e[5]||(e[5]=t("option",{value:""},"Select Project",-1)),(n(!0),a(O,null,P(i(y),o=>(n(),a("option",{key:o.id,value:o.id},v(o.name),9,M))),128))],512),[[f,m.value]])]),t("div",U,[e[7]||(e[7]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Bug Title",-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>d.value=o),required:"",placeholder:"Enter bug title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-red-500"},null,512),[[x,d.value]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Status",-1)),u(t("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>p.value=o),class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},e[8]||(e[8]=[t("option",{value:"OPEN"},"OPEN",-1),t("option",{value:"SOLVED"},"SOLVED",-1),t("option",{value:"CLOSED"},"CLOSED",-1)]),512),[[f,p.value]])]),t("div",_,[e[10]||(e[10]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Description (Optional)",-1)),u(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=o=>b.value=o),rows:"4",placeholder:"Enter bug description",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-red-500"},null,512),[[x,b.value]])]),i(l).error?(n(),a("div",T,v(i(l).error),1)):D("",!0),t("div",A,[t("button",{disabled:r.value,type:"submit",class:"bg-red-500 hover:bg-red-600 text-white font-semibold px-5 py-2 rounded transition"},v(r.value?"Saving...":"Save Bug"),9,F),t("button",{type:"button",onClick:e[4]||(e[4]=o=>i(g).push({name:"BugList"})),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel ")])],32)])]))}};export{z as default};
