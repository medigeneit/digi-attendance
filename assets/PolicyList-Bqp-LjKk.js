import{u as _}from"./notice-krtpWLRz.js";import{D as h,h as b,x as r,p as f,c as l,o as a,a as e,t as o,m as i,j as p,F as v,e as w,d as y,l as k,s as L}from"./index-rim-Johs.js";const C={class:"relative overflow-hidden px-4 py-6 md:px-6"},N={class:"relative mx-auto max-w-5xl"},R={class:"mb-6 flex flex-col gap-3 md:flex-row md:items-end md:justify-between"},S={class:"flex items-center gap-3"},D={class:"rounded-xl bg-white/80 px-4 py-2 shadow ring-1 ring-slate-200"},P={class:"text-lg font-semibold text-slate-900"},j={class:"rounded-xl bg-slate-900 px-4 py-2 shadow"},B={class:"text-lg font-semibold text-white"},U={key:0,class:"grid gap-3 md:grid-cols-2"},V={key:1,class:"rounded-2xl bg-rose-50 p-4 text-rose-700 ring-1 ring-rose-200"},F={key:2,class:"grid gap-3 md:grid-cols-2"},T={class:"flex items-start justify-between gap-4"},z={class:"text-base font-semibold text-slate-900"},E={class:"text-xs text-slate-500 mt-1"},H={key:0,class:"absolute top-3 right-3"},K={key:0,class:"md:col-span-2"},q={__name:"PolicyList",setup(M){const d=_(),{policies:n}=h(d);b(()=>{d.fetchPolices()});const x=r(()=>d.isLoading),u=r(()=>d.error),m=r(()=>n.value.filter(c=>!c.user_feedback).length);return(c,s)=>{const g=f("RouterLink");return a(),l("section",C,[e("div",N,[e("div",R,[s[2]||(s[2]=e("div",null,[e("p",{class:"text-xs uppercase tracking-[0.3em] text-slate-500 font-semibold"}," Policies "),e("h1",{class:"text-2xl md:text-3xl font-serif font-semibold text-slate-900"}," Office policies and guidelines "),e("p",{class:"text-sm md:text-base text-slate-600"}," Keep up with company rules, HR updates, and compliance notes. ")],-1)),e("div",S,[e("div",D,[s[0]||(s[0]=e("p",{class:"text-xs uppercase text-slate-500"},"Total",-1)),e("p",P,o(i(n).length),1)]),e("div",j,[s[1]||(s[1]=e("p",{class:"text-xs uppercase text-slate-300"},"Unread",-1)),e("p",B,o(m.value),1)])])]),x.value?(a(),l("div",U,s[3]||(s[3]=[e("div",{class:"h-24 rounded-2xl bg-slate-100 animate-pulse"},null,-1),e("div",{class:"h-24 rounded-2xl bg-slate-100 animate-pulse"},null,-1),e("div",{class:"h-24 rounded-2xl bg-slate-100 animate-pulse"},null,-1),e("div",{class:"h-24 rounded-2xl bg-slate-100 animate-pulse"},null,-1)]))):u.value?(a(),l("div",V,o(u.value),1)):(a(),l("ul",F,[(a(!0),l(v,null,w(i(n),t=>(a(),l("li",{key:t.id},[y(g,{to:{name:"PolicyDetails",params:{id:t.id}},class:"group relative block overflow-hidden rounded-2xl bg-white/80 p-4 shadow-lg ring-1 ring-slate-200 transition duration-300 hover:-translate-y-1 hover:shadow-xl"},{default:k(()=>[e("div",T,[e("div",null,[e("h3",z,o(t==null?void 0:t.title),1),e("p",E,o(new Date(t.created_at).toLocaleString("en-US")),1)]),e("span",{class:L([t.user_feedback?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700","rounded-full px-2.5 py-1 text-xs font-semibold"])},o(t.user_feedback?"Read":"Unread"),3)]),t.user_feedback?p("",!0):(a(),l("div",H,s[4]||(s[4]=[e("span",{class:"relative flex h-2.5 w-2.5"},[e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-rose-400 opacity-75"}),e("span",{class:"relative inline-flex rounded-full h-2.5 w-2.5 bg-rose-500"})],-1)])))]),_:2},1032,["to"])]))),128)),i(n).length===0?(a(),l("li",K,s[5]||(s[5]=[e("div",{class:"rounded-2xl bg-white/80 p-6 text-center ring-1 ring-slate-200"},[e("p",{class:"text-slate-600"},"No policies found. You are all caught up.")],-1)]))):p("",!0)]))])])}}};export{q as default};
