import{_ as w}from"./CommentModal-C-uKwhuv.js";import{u as C}from"./useMeetingStore-Bd_P0gjX.js";import{u as M,r as x,e as T,n as A,c as e,o as a,a as s,p,k as r,t as n,F as L,q as g,i as f,j as S}from"./index-CCrG_n-q.js";import"./useCommentStore-i_0w1LlN.js";const E={class:"container mx-auto p-6"},B={key:0,class:"text-center py-4 text-gray-500"},D={key:1,class:"text-center py-4 text-red-500"},N={key:2,class:"min-w-full bg-white shadow rounded-lg overflow-hidden"},R={class:"px-4 py-2"},V={class:"px-4 py-2 font-medium"},$={class:"px-4 py-2"},j={class:"px-4 py-2"},q={class:"px-4 py-2"},F={class:"px-4 py-2 flex gap-3"},I=["onClick"],U=["onClick"],z=1,P={__name:"MeetingList",setup(G){const l=C(),u=M(),i=x(!1),c=x(null);T(()=>{l.fetchMeetings()});const y=()=>{u.push({name:"MeetingAdd"})},h=d=>{u.push({name:"MeetingEdit",params:{id:d}})},m=d=>{c.value=d,i.value=!0},b=()=>{i.value=!1,c.value=null};return(d,o)=>{const _=A("RouterLink");return a(),e("div",E,[s("div",{class:"flex justify-between items-center mb-6"},[o[0]||(o[0]=s("h2",{class:"text-2xl font-bold text-gray-800"},"Meetings",-1)),s("button",{onClick:y,class:"btn-1"},"Add Meeting")]),r(l).loading?(a(),e("div",B,"Loading meetings...")):r(l).error?(a(),e("div",D,n(r(l).error),1)):(a(),e("table",N,[o[4]||(o[4]=s("thead",{class:"bg-gray-100"},[s("tr",null,[s("th",{class:"px-4 py-2 text-left"},"#"),s("th",{class:"px-4 py-2 text-left"},"Title"),s("th",{class:"px-4 py-2 text-left"},"Start Time"),s("th",{class:"px-4 py-2 text-left"},"End Time"),s("th",{class:"px-4 py-2 text-left"},"Todo"),s("th",{class:"px-4 py-2 text-left"},"Actions")])],-1)),s("tbody",null,[(a(!0),e(L,null,g(r(l).meetings,(t,v)=>(a(),e("tr",{key:t.id,class:"border-t hover:bg-gray-50"},[s("td",R,n(v+1),1),s("td",V,n(t.title),1),s("td",$,n(t!=null&&t.start_time?new Date(t==null?void 0:t.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""),1),s("td",j,n(t!=null&&t.end_time?new Date(t==null?void 0:t.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""),1),s("td",q,[p(_,{to:{name:"TodoAdd",params:{todoable_id:t==null?void 0:t.id},query:{todoable_type:"meeting"}},class:"main-button py-1"},{default:f(()=>o[1]||(o[1]=[s("i",{class:"fas fa-plus-circle"},null,-1)])),_:2,__:[1]},1032,["to"])]),s("td",F,[s("button",{onClick:k=>h(t.id),class:"btn-3 !px-2"},o[2]||(o[2]=[s("i",{class:"far fa-edit"},null,-1)]),8,I),p(_,{to:{name:"MeetingUserAssign",params:{id:t==null?void 0:t.id}},class:"btn-3 md:text-base text-xs"},{default:f(()=>o[3]||(o[3]=[S(" Assign Users ")])),_:2,__:[3]},1032,["to"]),s("button",{onClick:k=>m(t.id),class:"bg-indigo-500 text-white px-3 py-1 rounded-full"}," + Comment ",8,U)])]))),128))])])),p(w,{show:i.value,"commentable-id":c.value,"commentable-type":"meeting","user-id":z,"on-close":b},null,8,["show","commentable-id"])])}}};export{P as default};
