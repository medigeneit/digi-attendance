import{_ as m}from"./ApprovalItem-CAEt3MvQ.js";import{L as H}from"./LoaderView-Bu3vsHDy.js";import{_ as J}from"./ShareComponent-CiLZ-RbT.js";import{u as K}from"./manual-attendance-B8SteNd4.js";import{u as Q,f as U,x as i,h as X,c as r,o,a as e,j as Y,d,b as s,k as u,t as l,s as Z}from"./index-_fMFsOvU.js";import"./AcceptAndRejectHandler-DAI1C91U.js";const tt={class:"my-container max-w-3xl space-y-6"},et={key:1,class:"card-bg p-4 md:p-8 space-y-6"},nt={class:"flex flex-col md:flex-row md:items-start md:justify-between gap-4"},at={class:"text-sm text-slate-600"},st={class:"text-slate-900"},lt={class:"text-sm md:text-base"},ot={class:"grid md:grid-cols-2 gap-3 text-sm md:text-base"},it={key:0},rt={key:1},ut={key:2},dt={key:3},ct={class:"md:col-span-2"},pt={class:"pt-6"},mt={class:"text-sm text-slate-700"},vt={class:"space-y-2"},ft={key:0,class:"rounded-lg bg-red-50 border border-red-200 p-3"},yt={key:0,class:"grid grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-5 items-end"},Nt={__name:"ManualAttendanceShow",setup(_t){const M=Q(),v=U(),c=K(),O=i(()=>c.loading),a=i(()=>c.manualAttendance),V=n=>n?new Date(n).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",f=n=>n?new Date(n).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A",F=i(()=>{var n,t;return((n=a.value)==null?void 0:n.check_in)||((t=a.value)==null?void 0:t.check_out)||null}),E=i(()=>{var n;return((n=a.value)==null?void 0:n.type)==="Forget Punch"}),I=i(()=>{var n;return((n=a.value)==null?void 0:n.type)==="Offsite Work"}),W=i(()=>{var t;const n=(t=a.value)==null?void 0:t.punch_type;return n?n==="entry"?"Entry":n==="exit"?"Exit":"Both":"N/A"}),$=i(()=>{var t;const n=(t=a.value)==null?void 0:t.offsite_type;return n?n==="pre"?"Before Office (Pre)":n==="post"?"After Office (Post)":"Both":"N/A"}),q=i(()=>{var t;const n=(t=a.value)==null?void 0:t.status;return n==="Pending"?"text-yellow-500":n==="Approved"?"text-green-500":n==="Rejected"?"text-red-500":"text-slate-500"});X(async()=>{const{id:n}=v.params;try{await c.fetchManualAttendanceById(n)}catch(t){console.error("Failed to fetch manual attendance details:",t)}});const z=()=>M.go(-1),G=()=>window.print(),p=async()=>{await c.fetchManualAttendanceById(v.params.id)};return(n,t)=>{var y,_,b,g,x,k,A,w,N,B,h,D,T,j,R,C,P,S,L;return o(),r("div",tt,[e("div",{class:"flex items-center justify-between gap-2"},[e("button",{class:"btn-3",onClick:z},t[0]||(t[0]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),t[2]||(t[2]=e("h1",{class:"title-lg text-center"},"Manual Attendance Details",-1)),e("button",{class:"btn-2",onClick:G},t[1]||(t[1]=[e("i",{class:"far fa-print"},null,-1),s(" Print ")]))]),O.value?(o(),Y(H,{key:0})):(o(),r("div",et,[e("div",nt,[e("div",null,[e("p",at,[t[3]||(t[3]=s(" Date: ")),e("b",st,l(V(F.value)),1)])]),e("div",lt,[t[4]||(t[4]=e("span",{class:"font-semibold"},"Status: ",-1)),e("span",{class:Z(q.value)},"("+l(((y=a.value)==null?void 0:y.status)||"N/A")+")",3)])]),e("div",ot,[e("div",null,[t[5]||(t[5]=e("b",null,"Type:",-1)),s(" "+l(((_=a.value)==null?void 0:_.type)||"N/A"),1)]),E.value?(o(),r("div",it,[t[6]||(t[6]=e("b",null,"Forget Punch Type:",-1)),s(" "+l(W.value),1)])):u("",!0),I.value?(o(),r("div",rt,[t[7]||(t[7]=e("b",null,"Offsite Work Type:",-1)),s(" "+l($.value),1)])):u("",!0),(b=a.value)!=null&&b.check_in?(o(),r("div",ut,[t[8]||(t[8]=e("b",null,"Check-In:",-1)),s(" "+l(f((g=a.value)==null?void 0:g.check_in)),1)])):u("",!0),(x=a.value)!=null&&x.check_out?(o(),r("div",dt,[t[9]||(t[9]=e("b",null,"Check-Out:",-1)),s(" "+l(f((k=a.value)==null?void 0:k.check_out)),1)])):u("",!0),e("div",ct,[t[10]||(t[10]=e("b",null,"Reason:",-1)),s(" "+l(((A=a.value)==null?void 0:A.description)||"N/A"),1)])]),e("div",pt,[t[14]||(t[14]=e("hr",{class:"w-44 border-black mb-2"},null,-1)),e("p",null,[t[11]||(t[11]=s(" Name: ")),e("b",null,l(((N=(w=a.value)==null?void 0:w.user)==null?void 0:N.name)||"N/A"),1)]),e("div",mt,[e("p",null,[t[12]||(t[12]=s("Designation: ")),e("b",null,l(((D=(h=(B=a.value)==null?void 0:B.user)==null?void 0:h.designation)==null?void 0:D.title)||"N/A"),1)]),e("p",null,[t[13]||(t[13]=s("Department: ")),e("b",null,l(((R=(j=(T=a.value)==null?void 0:T.user)==null?void 0:j.department)==null?void 0:R.name)||"N/A"),1)])])]),t[17]||(t[17]=e("hr",null,null,-1)),e("div",vt,[((C=a.value)==null?void 0:C.status)==="Rejected"?(o(),r("div",ft,[e("div",null,[t[15]||(t[15]=e("b",null,"Rejected By:",-1)),s(" "+l(((S=(P=a.value)==null?void 0:P.rejected_by_user)==null?void 0:S.name)||"N/A"),1)]),e("div",null,[t[16]||(t[16]=e("b",null,"Rejection Reason:",-1)),s(" "+l(((L=a.value)==null?void 0:L.rejection_reason)||"N/A"),1)])])):u("",!0)]),a.value?(o(),r("div",yt,[d(m,{application:a.value,type:"manual_attendance_applications",item:"in_charge",onAction:p},null,8,["application"]),d(m,{application:a.value,type:"manual_attendance_applications",item:"operational_admin",onAction:p},null,8,["application"]),d(m,{application:a.value,type:"manual_attendance_applications",item:"recommend_by",onAction:p},null,8,["application"]),d(m,{application:a.value,type:"manual_attendance_applications",item:"approved_by",onAction:p},null,8,["application"])])):u("",!0)])),d(J)])}}};export{Nt as default};
