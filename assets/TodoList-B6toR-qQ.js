import{b as B,u as N,x as T,e as V,c as g,o as w,g as M,n as C,k as t,t as y,i as k,a as o,q as I,w as S,h as R,B as z}from"./index-DmCKkijE.js";import{_ as D}from"./EmployeeFilter-DA2Z9xGk.js";import{a as A}from"./TodoSection-D7kznOFw.js";import{u as E}from"./useTodoStore-CoWb45os.js";import"./company-C3y3EF8r.js";import"./department-BoZTIFnp.js";import"./EmployeeDropdownInput-8vZG6sdx.js";import"./SelectDropdown-CALNdlZG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UserChip-DUkAJMuo.js";import"./LoaderView-tNmOihNT.js";import"./datetime-DcVwRp76.js";import"./TodoCreateEditShow-DHqqsW_Z.js";import"./OverlyModal-DGZOkjeQ.js";import"./useTaskStore-27uui8b3.js";import"./DraggableList.vue_vue_type_script_setup_true_lang-B4ocNJ4h.js";import"./DepartmentChip-B7oG-AVa.js";import"./url-CePbr-gY.js";const F={class:"container mx-auto px-4"},H={key:0,class:"text-center py-4 text-red-500"},L={class:"flex gap-4 items-center flex-wrap ml-auto"},U={class:"relative h-[32px] md:w-40"},j={class:"flex items-center gap-2 ml-auto md:ml-0"},G=["onClick"],J=["onClick"],me={__name:"TodoList",setup(K){const d=E(),e=B(),c=N();function _(n){c.push({query:{...e.query,...n}})}const p=T({get:()=>{var n;return((n=e.query)==null?void 0:n.status)||""},set:n=>{c.push({query:{...e.query,status:n||void 0}})}});return V(()=>{p.value="not-completed"}),(n,i)=>{var v,x,f,h;return w(),g("div",F,[t(d).error&&!t(d).loading?(w(),g("div",H,y(t(d).error),1)):M("",!0),C(A,{year:t(e).query.year,month:t(e).query.month,day:t(e).query.day,type:t(e).query.type,companyId:(v=t(e).query)==null?void 0:v.company_id,departmentId:(x=t(e).query)==null?void 0:x.department_id,employeeId:(f=t(e).query)==null?void 0:f.employee_id,lineType:(h=t(e).query)==null?void 0:h.line_type,status:p.value,onChangeInput:_,userRole:"admin",class:"rounded-md"},{afterHeader:k(()=>{var a,s,r,l;return[o("div",L,[C(D,{company_id:(a=t(e).query)==null?void 0:a.company_id,department_id:(s=t(e).query)==null?void 0:s.department_id,employee_id:(r=t(e).query)==null?void 0:r.employee_id,line_type:(l=t(e).query)==null?void 0:l.line_type,"with-type":!0,"initial-value":n.$route.query,onFilterChange:_,class:"!flex flex-wrap *:max-w-48"},null,8,["company_id","department_id","employee_id","line_type","initial-value"]),o("div",U,[i[2]||(i[2]=o("div",{class:"absolute text-xs left-3 -top-1.5 bg-slate-100 text-blue-500 leading-none z-30"}," Status ",-1)),R(o("select",{class:"border-2 border-gray-300 rounded-md cursor-pointer relative block px-4 text-gray-800 text-sm h-full w-full","onUpdate:modelValue":i[0]||(i[0]=m=>p.value=m)},i[1]||(i[1]=[o("option",{value:""},"--All Status--",-1),o("option",{value:"not-completed"},"Not Completed",-1),o("option",{value:"completed"},"Completed",-1)]),512),[[z,p.value]])])])]}),typeSelection:k(({types:a,changeType:s,selected:r})=>{var l,m,q,b;return[o("div",j,[o("button",{onClick:S($=>{var u;return s((u=a[0])==null?void 0:u.value)},["prevent"]),class:I(["rounded text-sm w-20 h-[32px] ",(r==null?void 0:r.type)==((l=a[0])==null?void 0:l.value)?"btn-2":"btn-3"])},y((m=a[0])==null?void 0:m.label),11,G),o("button",{onClick:S($=>{var u;return s((u=a[1])==null?void 0:u.value)},["prevent"]),class:I(["rounded text-sm  w-20 h-[32px] ",(r==null?void 0:r.type)==((q=a[1])==null?void 0:q.value)?"btn-2 ":"btn-3"])},y((b=a[1])==null?void 0:b.label),11,J)])]}),_:1},8,["year","month","day","type","companyId","departmentId","employeeId","lineType","status"])])}}};export{me as default};
