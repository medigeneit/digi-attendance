import{j as C,$ as h,r as f,q as p,c as i,o as l,a as e,f as o,y as b,w,g as A,t as m,v as N,n as S}from"./index-8rR3QT3M.js";const R={key:0,class:"font-bold text-lg text-green-600"},q={key:1,class:"btn-2"},T={key:0,class:"text-base"},M={key:1,class:"btn-1"},V={class:"modal-card"},z={class:"title-lg"},B=["placeholder","required"],_={class:"flex justify-between gap-2 mt-4"},$={class:"capitalize hidden md:inline"},I={__name:"AcceptAndRejectHandler",props:{notificationType:{type:String,required:!0},applicationId:{type:[String,Number],required:!0},onSuccess:{type:Function,default:()=>{}},variant:{type:Number,default:1}},setup(a){const r=a,y=C(),x=h(),n=f(null),s=f(""),g=p(()=>n.value!==null),j=p(()=>n.value==="accept"?"Accept Application":"Reject Application");p(()=>n.value==="accept"?"btn-2":"btn-2 bg-red-500 text-white");function v(c){(c==="accept"||c==="reject")&&(n.value=c,s.value="")}function u(){n.value=null,s.value=""}async function k(){if(n.value==="reject"&&!s.value)return y.error("Rejection Reason is required!");await x.updateSpecificNotification(r.notificationType,r.applicationId,n.value,s.value),r.onSuccess(),u()}return(c,t)=>(l(),i("div",null,[e("div",{class:b(["flex justify-center items-center",a.variant===1?"gap-5":"gap-2"])},[e("button",{onClick:t[0]||(t[0]=d=>v("accept"))},[a.variant===1?(l(),i("span",R,"✔")):o("",!0),a.variant===2?(l(),i("span",q,t[3]||(t[3]=[e("span",{class:"text-base scale-110"},"✔",-1),e("span",{class:"hidden md:inline"},"Approve",-1)]))):o("",!0)]),e("button",{onClick:t[1]||(t[1]=d=>v("reject"))},[a.variant===1?(l(),i("span",T,"❌")):o("",!0),a.variant===2?(l(),i("span",M,t[4]||(t[4]=[e("span",{class:"text-base"},"❌",-1),e("span",{class:"hidden md:inline"},"Reject",-1)]))):o("",!0)])],2),g.value?(l(),i("div",{key:0,class:"fixed inset-0 z-50 flex justify-center items-center bg-black/50",onClick:w(u,["self"])},[e("div",V,[e("h3",z,m(j.value),1),A(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=d=>s.value=d),rows:"7",placeholder:n.value==="accept"?"Accept Note...":"Rejection Reason...",class:"w-full border rounded-lg p-2 text-gray-700",required:n.value==="reject"},null,8,B),[[N,s.value]]),e("div",_,[e("button",{class:"btn-3",onClick:u},"Cancel"),e("button",{class:b(n.value==="reject"?"btn-2-red":"btn-2-green"),onClick:k},[t[5]||(t[5]=S(" Confirm ")),e("span",$,m(n.value),1)],2)])])])):o("",!0)]))}};export{I as _};
