import{g as N,p,c as n,o as a,d as w,a as o,k as s,s as E,t as r,b as m,j as T,m as I,w as d,n as u,F as L}from"./index-OGDxsZv4.js";import{f as R,j,k as M}from"./datetime-y2WWmmYq.js";import{_ as P}from"./DepartmentChip-C1L115BC.js";import{_ as W}from"./UserChip-CKiim8Wf.js";import{_ as $}from"./TodoStatusIcon-BC517JCS.js";const G={class:""},K={class:"flex items-center gap-1"},V={class:"font-semibold"},q={class:"line-clamp-1"},z={key:0,class:"text-[11px] font-semibold text-blue-600 mt-0.5"},F={key:0,class:"mt-1 flex items-center gap-2"},U={key:0,class:"line-clamp-2 text-gray-500 whitespace-nowrap mr-2"},A={key:1,class:"md:ml-auto w-full md:w-auto flex items-center justify-center gap-2"},H={key:0,class:"flex items-center gap-1 text-red-600"},tt={__name:"TodoItemCard",props:{todoDate:{type:Object,required:!0},hideDepartment:{type:Boolean,default:!1},hideUser:{type:Boolean,default:!1},hideSortingBtn:{type:Boolean,default:!1},hideBtns:{type:Boolean,default:!1},userRole:{type:String,default:"employee"}},emits:["clickTodo","clickEdit","clickDelete","clickChangeStatus","clickDelete"],setup(t,{emit:B}){const O=N(),l=B;return(J,e)=>{var c,f,g,D,k,x,b,y,v,h;const S=p("RouterLink");return a(),n("div",{class:E(["px-4 py-4 md:py-2 cursor-pointer flex flex-wrap items-center gap-y-2 gap-x-4 text-sm",{"bg-green-100":t.todoDate.status=="COMPLETED","hover:bg-gray-50":t.todoDate.status!="COMPLETED","bg-orange-100 text-orange-800 border-b border-orange-200 hover:bg-orange-100":t.todoDate.status=="WORKING"&&u(M)(t.todoDate.date)}]),onClick:e[4]||(e[4]=d(i=>l("clickTodo",t.todoDate),["prevent"]))},[w($,{todoDate:t.todoDate},null,8,["todoDate"]),o("div",G,[o("div",{class:E(["",{"text-green-800":t.todoDate.status=="COMPLETED","text-blue-800":t.todoDate.status!="COMPLETED"}])},[o("div",K,[o("span",V,r((c=t.todoDate.todo)==null?void 0:c.id)+" -",1),o("span",q,r(t.todoDate.title),1)]),(g=(f=t.todoDate.todo)==null?void 0:f.todo_project)!=null&&g.title?(a(),n("div",z,[e[5]||(e[5]=o("i",{class:"fas fa-project-diagram mr-1 text-[10px]"},null,-1)),m(" "+r(t.todoDate.todo.todo_project.title),1)])):s("",!0)],2),t.todoDate.user?(a(),n("div",F,[t.hideUser?s("",!0):(a(),T(W,{key:0,user:t.todoDate.user,"avatar-size":"xsmall"},null,8,["user"])),t.hideDepartment?s("",!0):(a(),T(P,{key:1,department:(k=(D=t.todoDate)==null?void 0:D.user)==null?void 0:k.department},null,8,["department"]))])):s("",!0)]),(x=t.todoDate.todo)!=null&&x.todo_type&&((b=t.todoDate.todo)!=null&&b.todo_type_id)?(a(),n("div",U,[m(r((y=t.todoDate.todo)==null?void 0:y.todo_type)+" ",1),w(S,{class:"text-blue-600 font-semibold underline hover:text-sky-400",onClick:d(i=>null,["stop"]),to:{name:"RequirementTaskShow",params:{id:(v=t.todoDate.todo)==null?void 0:v.todo_type_id}}},{default:I(()=>{var i;return[e[6]||(e[6]=o("i",{class:"fas fa-link"},null,-1)),m(" "+r((i=t.todoDate.todo)==null?void 0:i.todo_type_id),1)]}),_:1,__:[6]},8,["to"])])):s("",!0),t.hideBtns?s("",!0):(a(),n("div",A,[t.todoDate.status=="WORKING"&&u(R)(t.todoDate.date)?(a(),n("div",H,e[7]||(e[7]=[o("span",{class:"fas fa-circle animate-pulse text-xs"},null,-1),o("span",{class:"text-xs"},"Working",-1)]))):s("",!0),t.todoDate.user_id===((h=u(O).user)==null?void 0:h.id)?(a(),n(L,{key:1},[t.todoDate.status==="WORKING"?(a(),n("button",{key:0,title:"Mark as Completed",class:"btn-icon bg-transparent text-green-400 border-green-400 border hover:bg-green-400 hover:text-white",onClick:e[0]||(e[0]=d(()=>l("clickChangeStatus",t.todoDate,"COMPLETED"),["prevent","stop"]))},e[8]||(e[8]=[o("i",{class:"fas fa-check"},null,-1)]))):s("",!0),t.todoDate.status==="PENDING"&&u(j)(t.todoDate.date)?(a(),n("button",{key:1,title:"Start Working",class:"btn-icon bg-transparent text-red-400 border-red-400 border hover:bg-red-400 hover:text-white",onClick:e[1]||(e[1]=d(()=>l("clickChangeStatus",t.todoDate,"WORKING"),["prevent","stop"]))},e[9]||(e[9]=[o("i",{class:"fas fa-play ml-[4px]"},null,-1)]))):s("",!0),o("button",{class:"btn-icon bg-sky-400 text-white hover:bg-sky-600 hover:text-white",onClick:e[2]||(e[2]=d(i=>{var C;return l("clickEdit",(C=t.todoDate)==null?void 0:C.todo)},["prevent","stop"]))},e[10]||(e[10]=[o("i",{class:"fas fa-pen"},null,-1)])),o("button",{class:"btn-icon bg-red-400 text-white hover:bg-red-600 hover:text-white",onClick:e[3]||(e[3]=d(()=>l("clickDelete",t.todoDate),["prevent","stop"]))},e[11]||(e[11]=[o("i",{class:"fas fa-trash-alt"},null,-1)]))],64)):s("",!0),t.hideSortingBtn?s("",!0):(a(),n("button",{key:2,onClick:d(()=>null,["stop","prevent"]),class:"btn-icon bg-gray-400 text-white hover:bg-gray-600 hover:text-white handle"},e[12]||(e[12]=[o("i",{class:"fas fa-arrows-alt-v"},null,-1)])))]))],2)}}};export{tt as _};
