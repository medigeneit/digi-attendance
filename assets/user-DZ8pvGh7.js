import{E as m,r as c,p as i,G as o}from"./index-Blm2jhaf.js";const I=m("user",()=>{const l=c([]),v=c({}),d=c({}),r=c(null),n=c(!1),p=i(()=>l.value),g=i(()=>v.value),h=i(()=>r.value);return{users:l,user:v,error:r,isLoading:n,allUsers:p,singleUser:g,errorMessage:h,dashboardInfo:d,fetchUsers:async()=>{var s,a;try{n.value=!0;const e=await o.get("/users");l.value=e.data,r.value=null}catch(e){r.value=((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"Something went wrong"}finally{n.value=!1}},fetchUser:async s=>{var a,e;try{n.value=!0;const u=(await o.get(`/users/${s}`)).data;return u&&(v.value=u),r.value=null,u}catch(t){r.value=((e=(a=t.response)==null?void 0:a.data)==null?void 0:e.message)||"Something went wrong"}finally{n.value=!1}},createUser:async s=>{var a,e;try{n.value=!0;const t=await o.post("/users",s);l.value.push(t.data.user),r.value=null}catch(t){r.value=((e=(a=t.response)==null?void 0:a.data)==null?void 0:e.message)||"Something went wrong"}finally{n.value=!1}},updateUser:async(s,a)=>{var e,t;try{n.value=!0;const u=await o.put(`/users/${s}`,a),f=l.value.findIndex(y=>y.id===s);f!==-1&&(l.value[f]=u.data.user),r.value=null}catch(u){r.value=((t=(e=u.response)==null?void 0:e.data)==null?void 0:t.message)||"Something went wrong"}finally{n.value=!1}},deleteUser:async s=>{var a,e;try{n.value=!0,await o.delete(`/users/${s}`),l.value=l.value.filter(t=>t.id!==s),r.value=null}catch(t){r.value=((e=(a=t.response)==null?void 0:a.data)==null?void 0:e.message)||"Something went wrong"}finally{n.value=!1}},fetchUserDashboardData:async()=>{var s,a;try{n.value=!0;const t=(await o.get("/dashboard")).data;return t&&(d.value=t),r.value=null,t}catch(e){r.value=((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"Something went wrong"}finally{n.value=!1}},fetchDepartmentWiseEmployees:async()=>{var s,a;try{n.value=!0;const e=await o.get("/department-wise-employees");l.value=e.data,r.value=null}catch(e){r.value=((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"Something went wrong"}finally{n.value=!1}}}});export{I as u};
