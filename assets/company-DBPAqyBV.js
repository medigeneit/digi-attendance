import{B as D,r as u,x as p,C as l}from"./index-DWilJPrr.js";const B=D("company",()=>{const c=u([]),i=u([]),m=u([]),y=u(null),r=u(!1),t=u(null),f=async(a={})=>{var s,n;r.value=!0,t.value=null;try{const e=await l.get("/companies",{params:a});c.value=e.data}catch(e){t.value=((n=(s=e.response)==null?void 0:s.data)==null?void 0:n.message)||"কোম্পানি লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching companies:",e)}finally{r.value=!1}},d=async(a={})=>{var s,n;r.value=!0,t.value=null;try{const e=await l.get("/companies",{params:{...a,ignore_permission:!1}});i.value=e.data}catch(e){t.value=((n=(s=e.response)==null?void 0:s.data)==null?void 0:n.message)||"কোম্পানি লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching companies:",e)}finally{r.value=!1}},g=async a=>{var s,n;r.value=!0,t.value=null;try{const e=await l.get(`/companies/${a}`);y.value=e.data}catch(e){t.value=((n=(s=e.response)==null?void 0:s.data)==null?void 0:n.message)||`কোম্পানি (ID: ${a}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching company with id ${a}:`,e)}finally{r.value=!1}},h=async a=>{var s,n;r.value=!0,t.value=null;try{const e=await l.post("/companies",a);return c.value.push(e.data),e.data}catch(e){t.value=((n=(s=e.response)==null?void 0:s.data)==null?void 0:n.message)||"কোম্পানি তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating company:",e)}finally{r.value=!1}},$=async(a,s)=>{var n,e;r.value=!0,t.value=null;try{const o=await l.put(`/companies/${a}`,s),v=c.value.findIndex(x=>x.id===a);return v!==-1&&(c.value[v]=o.data),o.data}catch(o){t.value=((e=(n=o.response)==null?void 0:n.data)==null?void 0:e.message)||`কোম্পানি (ID: ${a}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating company with id ${a}:`,o)}finally{r.value=!1}},w=async(a,s)=>{var n,e;r.value=!0,t.value=null;try{const o=await l.get(`/companies/${a}/employees`,{params:s});return m.value=o.data,o.data}catch(o){t.value=((e=(n=o.response)==null?void 0:n.data)==null?void 0:e.message)||`কোম্পানি (ID: ${a}) এর এমপ্লয়ী লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching department with id ${a}:`,o)}finally{r.value=!1}},C=async a=>{var s,n;r.value=!0,t.value=null;try{await l.delete(`/companies/${a}`),c.value=c.value.filter(e=>e.id!==a)}catch(e){t.value=((n=(s=e.response)==null?void 0:s.data)==null?void 0:n.message)||`কোম্পানি (ID: ${a}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting company with id ${a}:`,e)}finally{r.value=!1}},E=async a=>await l.get(`/companies/${a}/employees`),I=async a=>await l.get(`/company-leave-types/${a}`);return{companies:p(()=>c.value),myCompanies:p(()=>i.value),company:p(()=>y.value),loading:p(()=>r.value),error:p(()=>t.value),employees:m,fetchEmployee:w,fetchCompanies:f,fetchMyCompanies:d,fetchCompany:g,createCompany:h,updateCompany:$,deleteCompany:C,fetchEmployees:E,fetchCompanyLeaveTypes:I}});export{B as u};
