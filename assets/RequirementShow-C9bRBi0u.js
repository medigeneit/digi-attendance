import{r as w,e as V,c as o,o as s,a as e,f as N,g as b,w as $,F as j,h as U,j as T,n as S,v as L,i as D,B as we,t as h,d as Ie,x as G,m as _e,y as H,q as F,k as Q,N as Se,K as he,J as De,A as Te,b as Ee,u as Ae,z as M}from"./index-Cd4VWL73.js";import{L as B}from"./LoaderView-CPXVE8EI.js";import{O}from"./OverlyModal-JSam_IuL.js";import{_ as W}from"./DescriptionView-CVmiIUnm.js";import{R as qe}from"./RequiredIcon-BWiXZtW-.js";import{f as J,s as Ne}from"./requirement-Bh4k_VY-.js";import{a as je,f as X,d as Ue,u as Fe,b as Le,_ as Pe}from"./TaskAddForm-DbX43yAF.js";import{u as $e}from"./department-fUTdIkCk.js";import{S as Ce}from"./SelectDropdown-DE-6QAM1.js";import{_ as K}from"./UserChip-CgjdktaJ.js";import{u as Re}from"./user-DEhMCJyq.js";import{_ as Ve}from"./TaskUserChip-BIbV3Hio.js";import{u as Me}from"./useTaskStore-DTZKnrYW.js";import{_ as ke}from"./TaskStatus-C7PAPMYV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./company-Cc92O76O.js";import"./url-CePbr-gY.js";import"./CompanyDepartmentSelectInput-D0h-Ug_n.js";import"./SectionLoading-BOSMFsCs.js";import"./TextWithHr-CBvlNdp_.js";import"./TaskUrgencyInput-D8n-7n6u.js";const Oe={class:"sticky top-0 pt-4 bg-white z-10"},Be={class:"mb-4"},ze={class:"block text-gray-600 text-sm mb-1 font-medium"},Ge={class:"mb-4"},He={class:"mb-4"},We={class:"mb-4"},Ke={class:"mb-4"},Je={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},Ye={key:0,class:"mb-4 text-red-500 font-medium"},Qe={key:1,class:"mb-4"},Xe={class:"flex items-center justify-between gap-4"},Ze=["disabled"],et={__name:"RequirementDetailAddForm",props:{requirementId:{type:[Number,String],required:!0}},emits:["create","closeClick","error"],setup(v,{emit:A}){const y=v,f=A,a=$e(),g=w(),d=w(""),m=w(),r=w({title:"",description:"",priority:"",better_to_complete_on:"",supervisor_id:null}),x=w([]);async function l(){var t,u;d.value="submitting";const n={...r.value};console.log({payload:n});try{const R=await je(y.requirementId,n);f("create",R),d.value="create"}catch(R){d.value="error",m.value=((u=(t=R.response)==null?void 0:t.data)==null?void 0:u.message)||"Failed to create requirement detail",f("error",m.value)}}return V(async()=>{var t;const n=((t=(await J(y.requirementId)).data)==null?void 0:t.requirement)||{};x.value=await a.fetchDepartmentEmployee([n.from_department_id])}),(n,t)=>(s(),o("div",{class:"max-h-[90vh] overflow-auto w-full mx-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative",ref_key:"formContainerRef",ref:g},[e("div",Oe,[t[7]||(t[7]=e("h2",{class:"text-2xl font-semibold text-gray-800"},"Add Requirement",-1)),t[8]||(t[8]=e("hr",{class:"mb-4"},null,-1)),e("div",{class:"text-purple-600/80 mb-4 text-xs border-b border-dashed",onClick:t[0]||(t[0]=$(u=>f("ok"),["prevent"]))}," Fields that must be filled in will be marked with an asterisk. ")]),e("form",{onSubmit:$(l,["prevent"]),class:"z-0"},[d.value!=="loading"?(s(),o(j,{key:0},[e("div",Be,[e("label",ze,[t[9]||(t[9]=T("Title ")),S(qe)]),U(e("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>r.value.title=u),required:"",placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[L,r.value.title]])]),e("div",Ge,[t[10]||(t[10]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Details",-1)),U(e("textarea",{rows:"10","onUpdate:modelValue":t[2]||(t[2]=u=>r.value.description=u),placeholder:"Enter requirement description",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[L,r.value.description]])]),e("div",He,[t[12]||(t[12]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Supervisor",-1)),S(Ce,{modelValue:r.value.supervisor_id,"onUpdate:modelValue":t[3]||(t[3]=u=>r.value.supervisor_id=u),options:x.value,placeholder:"--NO SUPERVISOR--",containment:g.value,clearable:"",class:"h-10"},{"list-header":D(()=>t[11]||(t[11]=[e("div",{class:"px-3 pt-2 pb-1 shadow-md text-xs uppercase bg-gray-50 text-gray-500"}," Employees ",-1)])),option:D(({option:u})=>[S(K,{user:u||{},class:"pr-5 -mx-1"},null,8,["user"])]),"selected-option":D(({option:u})=>[u?(s(),N(K,{key:0,user:u||{},class:"pr-4"},null,8,["user"])):b("",!0)]),_:1},8,["modelValue","options","containment"])]),e("div",We,[t[14]||(t[14]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Priority ",-1)),U(e("select",{class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500","onUpdate:modelValue":t[4]||(t[4]=u=>r.value.priority=u)},t[13]||(t[13]=[e("option",{value:""},"NORMAL",-1),e("option",null,"IMPORTANT",-1),e("option",null,"URGENT",-1)]),512),[[we,r.value.priority]])]),e("div",Ke,[t[15]||(t[15]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Better to Complete ",-1)),U(e("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=u=>r.value.better_to_complete_on=u),placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[L,r.value.better_to_complete_on]])])],64)):b("",!0),e("div",Je,[m.value?(s(),o("div",Ye,h(m.value),1)):b("",!0),m.value?(s(),o("hr",Qe)):b("",!0),e("div",Xe,[e("button",{type:"button",onClick:t[6]||(t[6]=$(u=>f("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:d.value=="loading"||d.value=="submitting",type:"submit",class:"bg-blue-500 hover:bg-blue-600 text-white font-semibold px-5 py-2 rounded transition"},h(d.value=="submitting"?"Saving...":"Add Requirement"),9,Ze)])])],32),d.value==="loading"||d.value==="submitting"?(s(),N(B,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):b("",!0)],512))}},tt={class:"max-h-[90vh] overflow-auto w-full mx-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative"},st={class:"mb-4"},nt={class:"font-semibold"},rt={class:"mb-4"},lt={class:"line-clamp-2"},it={key:1,class:"min-h-40"},ot={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},at={key:0,class:"mb-4 text-red-500 font-medium"},dt={key:1,class:"mb-4"},ut={class:"flex items-center justify-between gap-4"},mt=["disabled"],ct={__name:"RequirementDetailDeleteForm",props:{requirementId:{type:[Number,String],required:!0},detailId:{type:[Number,String],required:!0}},emits:["delete","closeClick","error"],setup(v,{emit:A}){const y=v,f=A,a=Re(),g=w(null),d=w(""),m=w(),r=w([]);async function x(){var l,n;d.value="submitting";try{const t=await Ue(y.requirementId,y.detailId);f("delete",t),d.value="create"}catch(t){d.value="error",m.value=((n=(l=t.response)==null?void 0:l.data)==null?void 0:n.message)||"Failed to update requirement detail: "+t,f("error",m.value)}}return V(async()=>{var l,n,t;d.value="loading";try{r.value=await a.fetchDepartmentWiseEmployees(),g.value=(l=(await X(y.requirementId,y.detailId)).data)==null?void 0:l.detail}catch(u){m.value=((t=(n=u.response)==null?void 0:n.data)==null?void 0:t.message)||"Failed to fetch requirement detail"}finally{d.value=""}}),(l,n)=>{var t,u;return s(),o("div",tt,[n[4]||(n[4]=e("div",{class:"sticky top-0 -mx-6 px-6 z-10 bg-gray-50"},[e("h2",{class:"text-xl font-semibold text-gray-800 py-2"},"Delete Requirement Details"),e("hr",{class:"mb-4 -mx-6"})],-1)),e("form",{onSubmit:$(x,["prevent"]),class:"z-0"},[d.value!=="loading"?(s(),o(j,{key:0},[e("div",st,[n[1]||(n[1]=e("div",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Title",-1)),e("div",nt,h((t=g.value)==null?void 0:t.title),1)]),e("div",rt,[n[2]||(n[2]=e("div",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Description",-1)),e("div",lt,h((u=g.value)==null?void 0:u.description),1)]),n[3]||(n[3]=e("div",{class:"my-8 text-center text-xl text-red-600"},"Are you sure want to delete?",-1))],64)):(s(),o("div",it)),e("div",ot,[m.value?(s(),o("div",at,h(m.value),1)):b("",!0),m.value?(s(),o("hr",dt)):b("",!0),e("div",ut,[e("button",{type:"button",onClick:n[0]||(n[0]=$(R=>f("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:d.value=="loading"||d.value=="submitting",type:"submit",class:"bg-red-700 hover:bg-red-500 text-white font-semibold px-5 py-2 rounded transition"},h(d.value=="submitting"?"Deleting...":"Delete"),9,mt)])])],32),d.value==="loading"||d.value==="submitting"?(s(),N(B,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):b("",!0)])}}},pt={class:"sticky top-0 pt-4 bg-white z-10"},bt={class:"mb-4"},vt={class:"block text-gray-600 text-sm mb-1 font-medium"},ft={class:"mb-4"},xt={class:"mb-4"},yt={key:0,class:"relative w-full"},gt={key:0,class:"absolute right-1 text-xl top-0 bottom-0 flex items-center"},kt={class:"mb-4"},wt={class:"mb-4"},_t={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},ht={key:0,class:"mb-4 text-red-500 font-medium"},qt={key:1,class:"mb-4"},$t={class:"flex items-center justify-between gap-4"},Ct=["disabled"],Rt={__name:"RequirementDetailEditForm",props:{requirementId:{type:[Number,String],required:!0},detailId:{type:[Number,String],required:!0}},emits:["update","closeClick","error"],setup(v,{emit:A}){const y=v,f=A,a=w(),g=Re(),d=$e(),m=w(null),r=w(""),x=w(),l=w({title:"",description:"",priority:"",better_to_complete_on:"",supervisor_id:null}),n=w([]),t=w([]);async function u(){var c,E;r.value="submitting";const R={...l.value};try{const k=await Fe(y.requirementId,y.detailId,R);f("update",k),r.value="create"}catch(k){r.value="error",x.value=((E=(c=k.response)==null?void 0:c.data)==null?void 0:E.message)||"Failed to update requirement detail",f("error",x.value)}}return V(async()=>{var R,c,E,k,p,q,I,_;r.value="loading";try{n.value=await g.fetchDepartmentWiseEmployees();const i=((R=(await J(y.requirementId)).data)==null?void 0:R.requirement)||{};t.value=await d.fetchDepartmentEmployee([i.from_department_id]),m.value=(c=(await X(y.requirementId,y.detailId)).data)==null?void 0:c.detail,l.value={title:(E=m.value)==null?void 0:E.title,description:(k=m.value)==null?void 0:k.description,priority:(p=m.value)==null?void 0:p.priority,supervisor_id:(q=m.value)==null?void 0:q.supervisor_id};const Y=new Date(m.value.better_to_complete_on);l.value.better_to_complete_on=Y.toISOString().split("T")[0]}catch(i){x.value=((_=(I=i.response)==null?void 0:I.data)==null?void 0:_.message)||"Failed to fetch requirement detail"}finally{r.value=""}}),(R,c)=>{var E;return s(),o("div",{ref_key:"formContainerRef",ref:a,class:"max-h-[90vh] w-full mx-auto overflow-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative"},[e("div",pt,[c[8]||(c[8]=e("h2",{class:"text-2xl font-semibold text-gray-800"},"Edit Requirement",-1)),c[9]||(c[9]=e("hr",{class:"mb-4"},null,-1)),e("div",{class:"text-purple-600/80 mb-4 text-xs border-b border-dashed",onClick:c[0]||(c[0]=$(k=>f("ok"),["prevent"]))}," Fields that must be filled in will be marked with an asterisk. ")]),e("form",{onSubmit:$(u,["prevent"]),class:"z-0"},[r.value!=="loading"?(s(),o(j,{key:0},[e("div",bt,[e("label",vt,[c[10]||(c[10]=T("Title ")),S(qe)]),U(e("input",{"onUpdate:modelValue":c[1]||(c[1]=k=>l.value.title=k),required:"",placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[L,l.value.title]])]),e("div",ft,[c[11]||(c[11]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Description",-1)),U(e("textarea",{rows:"10","onUpdate:modelValue":c[2]||(c[2]=k=>l.value.description=k),placeholder:"Enter requirement description",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[L,l.value.description]])]),e("div",xt,[c[12]||(c[12]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Supervisor",-1)),S(Ce,{modelValue:l.value.supervisor_id,"onUpdate:modelValue":c[4]||(c[4]=k=>l.value.supervisor_id=k),options:[...t.value,...t.value.find(k=>{var p,q;return k.id==((q=(p=m.value)==null?void 0:p.supervisor)==null?void 0:q.id)})?[]:[(E=m.value)==null?void 0:E.supervisor]],containment:a.value,placeholder:"--NO SUPERVISOR--",class:"h-10"},{option:D(({option:k})=>[S(K,{user:k||{}},null,8,["user"])]),"selected-option":D(({option:k})=>[k?(s(),o("div",yt,[S(K,{user:k||{}},null,8,["user"]),l.value.supervisor_id?(s(),o("div",gt,[e("button",{onClick:c[3]||(c[3]=$(p=>l.value.supervisor_id=null,["prevent"])),class:"text-gray-6 font-semibold 00 hover:text-red-700"}," × ")])):b("",!0)])):b("",!0)]),_:1},8,["modelValue","options","containment"])]),e("div",kt,[c[14]||(c[14]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Priority ",-1)),U(e("select",{class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500","onUpdate:modelValue":c[5]||(c[5]=k=>l.value.priority=k)},c[13]||(c[13]=[e("option",{value:null},"NORMAL",-1),e("option",null,"IMPORTANT",-1),e("option",null,"URGENT",-1)]),512),[[we,l.value.priority]])]),e("div",wt,[c[15]||(c[15]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Better to Complete ",-1)),U(e("input",{type:"date","onUpdate:modelValue":c[6]||(c[6]=k=>l.value.better_to_complete_on=k),placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[L,l.value.better_to_complete_on]])])],64)):b("",!0),e("div",_t,[x.value?(s(),o("div",ht,h(x.value),1)):b("",!0),x.value?(s(),o("hr",qt)):b("",!0),e("div",$t,[e("button",{type:"button",onClick:c[7]||(c[7]=$(k=>f("closeClick"),["prevent"])),class:"btn-3"},"Cancel"),e("button",{disabled:r.value=="loading"||r.value=="submitting",type:"submit",class:"btn-2"},h(r.value=="submitting"?"Saving...":"Edit"),9,Ct)])])],32),r.value==="loading"||r.value==="submitting"?(s(),N(B,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):b("",!0)],512)}}},It=["rowspan"],St={class:"text-2xl font-medium"},Dt=["rowspan"],Tt={class:"text-lg font-semibold mb-2 flex items-start gap-3"},Et={key:0},At={key:0,class:"mb-5"},Nt=["innerHTML"],jt={class:"flex items-end"},Ut={key:0,class:"mt-4 flex justify-between items-end print:pb-0"},Ft={class:""},Lt={key:1,class:"ml-auto flex gap-6 items-center"},Pt=["rowspan"],Vt={class:"text-center print:text-xs"},Mt={class:"border-2 border-gray-700 p-3 text-center"},Ot=["title"],Bt={class:"border-2 border-gray-700 p-3"},zt={class:"whitespace-nowrap text-center print:whitespace-break-spaces"},Gt={key:0,class:"print:text-xs"},Ht={key:1,class:"text-gray-500"},Wt={key:0,colspan:"2",class:"border-2 border-gray-700 p-3 text-center"},Kt={key:1,class:"text-red-400"},Jt={key:2,class:"text-blue-400"},Yt={key:0},Qt={colspan:"2",class:"border-2 border-gray-700 p-3 text-center"},Xt={key:1,class:"text-red-400"},Zt={key:2,class:"text-blue-400"},es={__name:"RequirementDetailTableRow",props:{detail:{type:Object},requirement:{type:Object},serial:{type:Number},isPrinting:{type:Boolean}},emits:["editClick","deleteClick","taskCreateClick"],setup(v,{emit:A}){const y=v,f=A,a=Ie(),g=G(()=>{var m,r,x;return((r=(m=y.detail)==null?void 0:m.tasks)==null?void 0:r.length)>0?(x=y.detail)==null?void 0:x.tasks:[{id:0}]});function d(){var m,r,x,l,n;if(a.user.role!=="super_admin"&&((m=a.user)==null?void 0:m.id)!==((x=(r=y.requirement)==null?void 0:r.to_department)==null?void 0:x.incharge_id))return alert(`You can't create or assign task for this requirement. 
Only ${(n=(l=y.requirement)==null?void 0:l.to_department)==null?void 0:n.name}'s In charge can create or assign.`);f("taskCreateClick",y.detail)}return(m,r)=>{const x=_e("RouterLink");return s(),o(j,null,[(s(!0),o(j,null,H(g.value,(l,n)=>{var t,u,R,c,E,k,p,q,I;return s(),o("tr",{key:l.id,class:"group/item border text-gray-800 py-4 shadow-sm mb-4 px-4 rounded-md hover:bg-blue-50"},[n===0?(s(),o(j,{key:0},[e("td",{class:"border-2 border-gray-700 p-3 align-top",rowspan:(((u=(t=v.detail)==null?void 0:t.tasks)==null?void 0:u.length)||1)+(v.isPrinting?0:1)},[e("span",St,h(v.serial),1)],8,It),e("td",{class:"border-2 border-gray-700 p-3",rowspan:(((c=(R=v.detail)==null?void 0:R.tasks)==null?void 0:c.length)||1)+(v.isPrinting?0:1)},[e("div",null,[e("div",Tt,[S(W,{"line-clamp":"3",class:"grow"},{default:D(()=>[T(h(v.detail.title),1)]),btnText:D(({lineClampClass:_})=>[T(h(_?"More":"Less"),1)]),_:1}),v.detail.priority?(s(),o("div",Et,[e("span",{class:F(["font-semibold text-sm",{"text-yellow-600 ":v.detail.priority=="IMPORTANT","text-red-700 ":v.detail.priority=="URGENT"}])},h(v.detail.priority),3)])):b("",!0)]),r[3]||(r[3]=e("hr",{class:"mb-4 -mx-4"},null,-1)),v.detail.description?(s(),o("div",At,[r[2]||(r[2]=e("div",{class:"text-gray-400 mr-2 text-xs uppercase font-semibold"},"Description",-1)),S(W,{"line-clamp":4,"class-name":{button:"group-hover/item:underline"}},{default:D(()=>[e("p",{innerHTML:v.detail.description,class:"text-justify"},null,8,Nt)]),_:1})])):b("",!0)]),e("div",jt,[v.detail.supervisor?(s(),o("div",Ut,[e("div",Ft,[r[4]||(r[4]=e("div",{class:"text-gray-400 mr-2 text-xs uppercase font-semibold"},"Supervisor:",-1)),S(Ve,{user:v.detail.supervisor},null,8,["user"])])])):b("",!0),m.state!="loading"&&!((E=v.requirement)!=null&&E.status)||((p=(k=Q(a))==null?void 0:k.user)==null?void 0:p.role)=="super_admin"?(s(),o("div",Lt,[e("button",{class:"btn-2",onClick:r[0]||(r[0]=$(_=>f("editClick",v.detail),["prevent"]))},r[5]||(r[5]=[e("i",{class:"fas fa-edit"},null,-1),T("Edit ")])),e("button",{class:"btn-2-red",onClick:r[1]||(r[1]=$(_=>f("deleteClick",v.detail),["prevent"]))},r[6]||(r[6]=[e("i",{class:"fas fa-trash-alt"},null,-1),T("Delete ")]))])):b("",!0)])],8,Dt),e("td",{class:"border-2 border-gray-700 p-3 whitespace-nowrap print:whitespace-break-spaces print:px-0",rowspan:(((I=(q=v.detail)==null?void 0:q.tasks)==null?void 0:I.length)||1)+(v.isPrinting?0:1)},[e("div",Vt,h(new Date(v.detail.better_to_complete_on).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",weekday:"short"})),1)],8,Pt)],64)):b("",!0),l.id?(s(),o(j,{key:1},[e("td",Mt,[S(x,{to:{name:"TaskShow",params:{id:l.id}},class:"hover:underline text-gray-900 hover:text-blue-600 whitespace-nowrap block",target:"_blank"},{default:D(()=>[T(h(l.id)+" ",1),e("i",{title:l.status,class:F(["ml-1",{"fad fa-exclamation-circle text-red-600":l.status=="PENDING","fad fa-exclamation-square text-yellow-600":l.status=="IN_PROGRESS","fad fa-check-circle text-green-600":l.status=="COMPLETED"}])},null,10,Ot)]),_:2},1032,["to"])]),e("td",Bt,[e("div",zt,[l.deadline?(s(),o("div",Gt,h(new Date(l.deadline).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",weekday:"short"})),1)):(s(),o("div",Ht,"-"))])])],64)):(s(),o(j,{key:2},[v.isPrinting?(s(),o("td",Wt,[v.requirement.status=="approved"?(s(),o("button",{key:0,onClick:$(d,["prevent"]),class:"print:hidden border-2 border-transparent group-hover/item:bg-blue-200 hover:border-blue-700 text-blue-500 hover:text-white hover:!bg-blue-500 rounded-md px-4 py-1 whitespace-nowrap"},r[7]||(r[7]=[e("i",{class:"fas fa-plus-circle"},null,-1),T(" Create / Assign Task ")]))):v.requirement.status=="rejected"?(s(),o("div",Kt,"Task Rejected")):(s(),o("div",Jt,"Approval Pending"))])):b("",!0)],64))])}),128)),v.isPrinting?b("",!0):(s(),o("tr",Yt,[e("td",Qt,[v.requirement.status=="approved"?(s(),o("button",{key:0,onClick:$(d,["prevent"]),class:"print:hidden border-2 border-transparent group-hover/item:bg-blue-200 hover:border-blue-700 text-blue-500 hover:text-white hover:!bg-blue-500 rounded-md px-4 py-1 whitespace-nowrap"},r[8]||(r[8]=[e("i",{class:"fas fa-plus-circle"},null,-1),T(" Create / Assign Task ")]))):v.requirement.status=="rejected"?(s(),o("div",Xt,"Task Rejected")):(s(),o("div",Zt,"Approval Pending"))])]))],64)}}},ts={class:"sticky top-0 pt-4 bg-white z-10"},ss={class:"mb-4"},ns={class:"mb-4"},rs={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},ls={key:0,class:"mb-4 text-red-500 font-medium"},is={key:1,class:"mb-4"},os={class:"flex items-center justify-between gap-4"},as=["disabled"],ds={__name:"RequirementFeedbackEditForm",props:{requirementId:{type:[Number,String],required:!0},detailId:{type:[Number,String],required:!0}},emits:["update","closeClick","error"],setup(v,{emit:A}){const y=v,f=A,a=w(),g=w(null),d=w(""),m=w(),r=w({feedback:""});async function x(){var l,n;d.value="submitting";try{const t=await Le(y.requirementId,y.detailId,r.value.feedback);f("update",t),d.value="create"}catch(t){d.value="error",m.value=((n=(l=t.response)==null?void 0:l.data)==null?void 0:n.message)||"Failed to update requirement detail",f("error",m.value)}}return V(async()=>{var l,n,t,u;d.value="loading";try{await J(y.requirementId),g.value=(l=(await X(y.requirementId,y.detailId)).data)==null?void 0:l.detail,r.value={feedback:(n=g.value)==null?void 0:n.feedback}}catch(R){m.value=((u=(t=R.response)==null?void 0:t.data)==null?void 0:u.message)||"Failed to fetch requirement detail"}finally{d.value=""}}),(l,n)=>{var t;return s(),o("div",{ref_key:"formContainerRef",ref:a,class:"max-h-[90vh] w-full mx-auto overflow-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative"},[e("div",ts,[n[3]||(n[3]=e("h2",{class:"text-2xl font-semibold text-gray-800"},"Requirement Feedback",-1)),n[4]||(n[4]=e("hr",{class:"mb-4"},null,-1)),e("div",{class:"text-purple-600/80 mb-4 text-xs border-b border-dashed",onClick:n[0]||(n[0]=$(u=>f("ok"),["prevent"]))}," Fields that must be filled in will be marked with an asterisk. ")]),e("form",{onSubmit:$(x,["prevent"]),class:"z-0"},[d.value!=="loading"?(s(),o(j,{key:0},[e("div",ss,[n[5]||(n[5]=e("label",{class:"block text-gray-600 text-sm font-medium"},"Title ",-1)),S(W,{"line-clamp":"1",className:{paragraph:"whitespace-pre-wrap text-justify ",button:"mt-0"}},{default:D(()=>{var u;return[T(h((u=g.value)==null?void 0:u.title),1)]}),_:1})]),e("div",ns,[n[6]||(n[6]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Feedback",-1)),U(e("textarea",{rows:"5","onUpdate:modelValue":n[1]||(n[1]=u=>r.value.feedback=u),placeholder:"Enter requirement feedback",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[L,r.value.feedback]])])],64)):b("",!0),e("div",rs,[m.value?(s(),o("div",ls,h(m.value),1)):b("",!0),m.value?(s(),o("hr",is)):b("",!0),e("div",os,[e("button",{type:"button",onClick:n[2]||(n[2]=$(u=>f("closeClick"),["prevent"])),class:"btn-3"},"Cancel"),e("button",{disabled:d.value=="loading"||d.value=="submitting",type:"submit",class:"btn-2"},h(d.value=="submitting"?"Saving...":(t=g.value)!=null&&t.feedback?"Update Feedback":"Add Feedback"),9,as)])])],32),d.value==="loading"||d.value==="submitting"?(s(),N(B,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):b("",!0)],512)}}},us={class:"flex justify-center items-center"},ms={class:"modal-card"},cs=["required"],ps={class:"flex"},bs={class:"flex justify-between gap-2 mt-4"},vs=["disabled"],fs=["disabled"],xs={__name:"RequirementSubmissionHandler",props:{requirementId:{type:[String,Number],required:!0}},emits:["loading","success","error"],setup(v,{emit:A}){const y=v,f=A,a=w(255),g=G(()=>a.value-l.value.length),d=Se(),m=w(null),r=w(null),x=w(null),l=w(""),n=w(!1),t=G(()=>x.value!==null);function u(p){x.value=p,l.value="",k()}function R(){x.value=null,l.value=""}async function c(){var p,q;if(x.value==="reject"&&!l.value)return d.error("Rejection Reason is required!");if(typeof y.onSubmit=="function")return y.onSubmit({note:l.value,action:x.value});f("loading",!0),n.value=!0;try{await Ne(y.requirementId,{note:l.value}),f("success"),R()}catch(I){return f("error",I),d.error(((q=(p=I==null?void 0:I.response)==null?void 0:p.data)==null?void 0:q.message)||"Submission failed!")}finally{f("loading",!1),n.value=!1}}function E(p){var q,I;t.value&&(p.key==="ArrowLeft"?(q=r.value)==null||q.focus():p.key==="ArrowRight"&&((I=m.value)==null||I.focus()))}function k(){De(()=>{var p;(p=m.value)==null||p.focus()})}return V(()=>{window.addEventListener("keydown",E)}),he(()=>{window.removeEventListener("keydown",E)}),(p,q)=>(s(),o("div",null,[e("div",us,[e("button",{onClick:q[0]||(q[0]=I=>u("accept"))},q[3]||(q[3]=[e("span",{class:"btn-2"},[e("span",{class:"fas fa-paper-plane"}),e("span",{class:"hidden md:inline"},"Submit Requirement")],-1)]))]),t.value?(s(),o("div",{key:0,class:"fixed inset-0 z-50 flex justify-center items-center bg-black/50",onClick:$(R,["self"])},[e("div",ms,[q[4]||(q[4]=e("h3",{class:"title-lg"},"Requirement Submission",-1)),e("div",null,[U(e("textarea",{"onUpdate:modelValue":q[1]||(q[1]=I=>l.value=I),rows:"4",placeholder:"Note...",class:"w-full border rounded-lg p-2 text-gray-700",required:x.value==="reject",onInput:q[2]||(q[2]=I=>l.value.length>a.value?l.value=l.value.slice(0,a.value):null)},null,40,cs),[[L,l.value]]),e("div",ps,[e("div",{class:F(["ml-auto inline-block text-sm text-gray-500",l.value.length>=a.value?"text-red-500":""])}," left "+h(g.value)+"/"+h(a.value)+" words ",3)])]),e("div",bs,[e("button",{ref_key:"cancelBtnRef",ref:r,class:"btn-3 focus:ring-2 ring-offset-2 disabled:opacity-30",onClick:R,disabled:n.value}," Cancel ",8,vs),e("button",{ref_key:"confirmBtnRef",ref:m,class:F(["focus:ring-2 ring-offset-2 disabled:opacity-30",x.value==="reject"?"btn-2-red":"btn-2-green"]),onClick:c,disabled:n.value}," Confirm Submission ",10,fs)])])])):b("",!0)]))}},ys={class:"text-left p-4"},gs={class:"flex items-center gap-6 justify-center my-16"},ks={key:0},ws={class:"bg-blue-50 px-6 py-4 rounded text-blue-500"},_s={class:"text-left text-base w-full font-semibold group flex items-center gap-2 mb-5 border-b border-blue-100 py-4"},hs={class:"flex items-center w-full"},qs={class:"grow"},$s={class:"text-center text-red-500 text-sm font-semibold mb-4"},Cs={class:"flex items-center justify-between"},Rs={key:1,class:"border rounded-md"},Is={class:"flex flex-col justify-start items-start min-h-28 max-h-[70vh] overflow-y-auto"},Ss=["onClick"],Ds={class:"flex items-center w-full"},Ts={class:"grow"},Es={class:"line-clamp-1"},As={__name:"TaskParentIdSelector",props:{fromDepartmentId:{type:Number},requirementDetail:{type:Object}},emits:["parentIdSelect","cancelClick","assignTask"],setup(v,{emit:A}){const y=v,f=A,a=Me(),g=w(""),d=w(null);Te(()=>g.value,(l,n)=>{n||a.fetchTasks({"from-department-id":y.fromDepartmentId})},{immediate:!0});function m(l){g.value=="sub-task"?f("parentIdSelect",l.id):d.value=l}async function r(){await a.setTaskRequirement(d.value.id,y.requirementDetail.id),f("assignTask")}const x=G(()=>(a==null?void 0:a.tasks)||[]);return(l,n)=>{var t;return s(),o("div",ys,[e("div",gs,[e("button",{onClick:n[0]||(n[0]=$(u=>f("parentIdSelect",0,g.value),["prevent"])),class:"btn-3"}," Add as Main Task "),e("button",{class:F({"btn-3":g.value!=="sub-task","btn-2":g.value=="sub-task"}),onClick:n[1]||(n[1]=$(()=>{g.value="sub-task",d.value=null},["prevent"]))}," Add as Sub Task ",2),e("button",{class:F({"btn-3":g.value!=="direct-assign","btn-2":g.value=="direct-assign"}),onClick:n[2]||(n[2]=$(()=>g.value="direct-assign",["prevent"]))}," Assign Task ",2)]),g.value=="direct-assign"&&d.value?(s(),o("div",ks,[e("div",ws,[e("div",_s,[e("i",{class:F(["fad text-xl group:hover-text-white",((t=d.value)==null?void 0:t.children_task_count)>0?"fa-folder text-blue-800/70":"fa-file-alt text-gray-400"])},null,2),e("div",hs,[e("div",qs,h(d.value.title),1),S(ke,{status:d.value.status,class:"ml-auto"},null,8,["status"])])]),e("div",$s,h(Q(a).error),1),e("div",Cs,[e("button",{onClick:$(r,["prevent"]),class:"btn-2"},"Assign"),e("button",{onClick:n[3]||(n[3]=$(u=>f("cancelClick"),["prevent"])),class:"btn-3"},"Cancel")])])])):b("",!0),g.value&&!d.value?(s(),o("div",Rs,[n[4]||(n[4]=e("div",{class:"py-2 px-4 font-bold text-center border-b shadow"},"Click to select task",-1)),e("div",Is,[(s(!0),o(j,null,H(x.value,u=>(s(),o("div",{key:u.id,class:"w-full mb-2"},[e("button",{type:"button",class:"text-left text-base w-full bg-blue-50 px-2 hover:bg-blue-500 hover:text-white py-2 text-blue-500 font-semibold group flex items-center gap-2",onClick:$(()=>m(u),["prevent"])},[e("i",{class:F(["fad text-xl group:hover-text-white",(u==null?void 0:u.children_task_count)>0?"fa-folder text-blue-800/70":"fa-file-alt text-gray-400"])},null,2),e("div",Ds,[e("div",Ts,[e("div",Es,h(u.title),1)]),S(ke,{status:u.status,class:"ml-auto"},null,8,["status"])])],8,Ss)]))),128))])])):b("",!0)])}}},Ns={class:"container mx-auto p-6 print:p-0 w-full print:max-w-full"},js={class:"bg-white rounded shadow print:shadow-none p-4 print:p-0 relative"},Us={class:"flex items-start"},Fs={class:"mb-4 text-lg print:black print:font-bold"},Ls={class:"ml-auto print:hidden flex gap-2 items-center"},Ps={class:"mb-4 flex items-center gap-1 print:mb-1"},Vs={class:"font-bold print:text-gray-900"},Ms={class:"mb-3 flex items-center gap-3 print:mb-1"},Os={class:"print:text-gray-900"},Bs={key:0,class:"mb-3 flex items-center gap-3 print:mb-1"},zs={class:"flex items-center gap-2 print:text-gray-900 flex-wrap"},Gs={key:1,class:"mb-3 flex items-center gap-3 print:mb-1"},Hs={class:"print:text-gray-900"},Ws={key:0,class:"overflow-x-auto print:overflow-visible"},Ks={class:"w-full table-auto print:table-fixed"},Js={colspan:"2",class:"w-[30%] border-2 border-gray-800 text-center text-gray-800 print:text-black text-base font-semibold whitespace-nowrap px-3 py-1 print:whitespace-normal"},Ys={class:""},Qs={class:"p-3 border-2 border-gray-800",colspan:"5"},Xs={class:"font-semibold text-gray-500 print:text-gray-800 text-sm mb-1"},Zs={key:0},en=["innerHTML"],tn=["onClick"],sn={key:1,class:"mt-8 border rounded-md p-8 flex items-start justify-between bg-gray-50 print:hidden"},nn={class:"flex flex-col items-end"},rn={key:2,class:"mt-2 text-right print:hidden"},Rn={__name:"RequirementShow",setup(v){const A=Ee(),y=Ae(),f=w(""),a=w(null),g=M({open:!1}),d=M({detail:null,open:!1}),m=M({detail:null,open:!1}),r=M({detail:null,open:!1}),x=w(!1),l=()=>x.value=!0,n=()=>x.value=!1;V(async()=>{await t(),window.addEventListener("beforeprint",l),window.addEventListener("afterprint",n)}),he(()=>{window.removeEventListener("beforeprint",l),window.removeEventListener("afterprint",n)});async function t(){var _;f.value="loading",a.value=(_=(await J(A.params.id)).data)==null?void 0:_.requirement,f.value=""}function u(_){console.log({detail:_}),p.modalShown=!0,p.from_department_id=a.value.from_department_id,p.to_department_id=a.value.to_department_id,p.taskDefaultValues={title:_.title,description:_.description,from_department_id:a.value.from_department_id,to_department_id:a.value.to_department_id,is_important:(_==null?void 0:_.priority)=="IMPORTANT",is_urgent:(_==null?void 0:_.priority)=="URGENT",supervisor_ids:_!=null&&_.supervisor_id?[_==null?void 0:_.supervisor_id]:[]},p.requirementDetail=_}function R(){g.open=!0}function c(_){d.open=!0,d.detail=_}function E(_){r.open=!0,r.detail=_}function k(){setTimeout(()=>window.print()),x.value=!0}const p=M({parentId:null,modalShown:!1,requirementId:0,taskDefaultValues:{},requirementDetail:null});async function q(){p.parentId=0,p.parentId=null,p.modalShown=!1,p.requirementDetail=null,f.value="loading",await t()}async function I(){p.parentId=null,p.modalShown=!1,p.requirementDetail=null}return(_,i)=>{var Z,ee,te,se,ne,re,le,ie,oe,ae,de,ue,me,ce,pe,be,ve,fe,xe;const Y=_e("RouterLink");return s(),o("div",Ns,[g.open?(s(),N(O,{key:0,class:"*:max-w-4xl"},{default:D(()=>[S(et,{requirementId:a.value.id,onCloseClick:i[0]||(i[0]=C=>g.open=!1),onCreate:i[1]||(i[1]=async()=>{g.open=!1,await t()})},null,8,["requirementId"])]),_:1})):b("",!0),d.open?(s(),N(O,{key:1},{default:D(()=>{var C;return[S(Rt,{requirementId:a.value.id,detailId:(C=d.detail)==null?void 0:C.id,onCloseClick:i[2]||(i[2]=P=>d.open=!1),onUpdate:i[3]||(i[3]=async()=>{d.open=!1,await t()})},null,8,["requirementId","detailId"])]}),_:1})):b("",!0),m.open?(s(),N(O,{key:2},{default:D(()=>{var C;return[S(ds,{requirementId:a.value.id,detailId:(C=m.detail)==null?void 0:C.id,onCloseClick:i[4]||(i[4]=P=>m.open=!1),onUpdate:i[5]||(i[5]=async()=>{m.open=!1,await t()})},null,8,["requirementId","detailId"])]}),_:1})):b("",!0),r.open?(s(),N(O,{key:3},{default:D(()=>{var C;return[S(ct,{requirementId:a.value.id,detailId:(C=r.detail)==null?void 0:C.id,onCloseClick:i[6]||(i[6]=P=>r.open=!1),onDelete:i[7]||(i[7]=async()=>{r.open=!1,await t()})},null,8,["requirementId","detailId"])]}),_:1})):b("",!0),p.modalShown?(s(),N(O,{key:4,class:"*:relative"},{default:D(()=>{var C,P;return[e("button",{onClick:$(I,["prevent"]),class:"absolute right-3 top-2 text-xl text-red-500 hover:text-red-400"},i[10]||(i[10]=[e("i",{class:"fas fa-times-circle"},null,-1)])),p.parentId===null?(s(),N(As,{key:0,"from-department-id":(C=a.value)==null?void 0:C.from_department_id,requirementDetail:p==null?void 0:p.requirementDetail,onParentIdSelect:i[8]||(i[8]=z=>p.parentId=z),onCancelClick:I,onAssignTask:q},null,8,["from-department-id","requirementDetail"])):(s(),N(Pe,{key:1,parentTaskId:p.parentId,requirementDetailId:(P=p==null?void 0:p.requirementDetail)==null?void 0:P.id,requirementId:a.value.id,onClose:I,onTaskCreated:q,defaultValues:p.taskDefaultValues,readonlyFields:{from_department_id:!0,to_department_id:!0}},null,8,["parentTaskId","requirementDetailId","requirementId","defaultValues"]))]}),_:1})):b("",!0),e("div",js,[e("div",Us,[e("div",Fs,[i[11]||(i[11]=e("div",{class:"text-gray-800 leading-none"},"To",-1)),e("div",null,h((ee=(Z=a.value)==null?void 0:Z.to_department)==null?void 0:ee.name),1)]),e("div",Ls,[(((te=a.value)==null?void 0:te.details)||[]).length>0?(s(),o("button",{key:0,class:"btn-3 font-semibold !pl-2 !pr-4",onClick:$(k,["prevent"])},i[12]||(i[12]=[e("i",{class:"fad fa-print text-xl"},null,-1),T("Print ")]))):b("",!0),e("button",{class:"btn-3",onClick:i[9]||(i[9]=$(()=>Q(y).back(),["prevent"]))},"Back"),S(Y,{class:"btn-2",to:`/requirements/edit/${(se=a.value)==null?void 0:se.id}`},{default:D(()=>i[13]||(i[13]=[T("Edit")])),_:1,__:[13]},8,["to"])])]),i[28]||(i[28]=e("div",{class:"text-center text-xl font-bold mb-2 underline"},"Requirement Form",-1)),e("div",Ps,[i[14]||(i[14]=e("div",{class:"text-gray-500 text-sm"},"Requirement ID:",-1)),e("div",Vs,h((ne=a.value)==null?void 0:ne.id),1)]),e("div",Ms,[i[15]||(i[15]=e("div",{class:"text-gray-500 text-sm"},"From",-1)),e("div",Os,h((le=(re=a.value)==null?void 0:re.from_department)==null?void 0:le.name),1)]),((oe=(ie=a.value)==null?void 0:ie.website_tags)==null?void 0:oe.length)>0?(s(),o("div",Bs,[i[16]||(i[16]=e("div",{class:"text-gray-500 text-sm"},"Website",-1)),e("div",zs,[(s(!0),o(j,null,H(((ae=a.value)==null?void 0:ae.website_tags)||[],C=>(s(),o("div",{key:C.id,class:"border px-2 rounded-md bg-gray-50 shadow-sm whitespace-nowrap"},h(C.name),1))),128))])])):b("",!0),(de=a.value)!=null&&de.submission_date?(s(),o("div",Gs,[i[17]||(i[17]=e("div",{class:"text-gray-500 text-sm"},"Submission Date",-1)),e("div",Hs,h(new Date((ue=a.value)==null?void 0:ue.submission_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})),1)])):b("",!0),i[29]||(i[29]=e("hr",{class:"mb-4"},null,-1)),e("div",null,[i[27]||(i[27]=e("div",{class:"flex items-end mb-3"},[e("h2",{class:"text-xl font-semibold"},"Requirements"),e("div",{class:"ml-auto print:hidden flex gap-2 text-sm"})],-1)),(((me=a.value)==null?void 0:me.details)||[]).length>0?(s(),o("div",Ws,[e("table",Ks,[e("thead",null,[e("tr",null,[i[18]||(i[18]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-left px-4 print:px-2 text-gray-800 print:text-black text-xl font-semibold whitespace-nowrap w-[8%]"}," SL ",-1)),i[19]||(i[19]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base font-semibold whitespace-nowrap print:whitespace-normal w-[65%]"}," Requirement Details ",-1)),i[20]||(i[20]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base px-3 font-semibold whitespace-nowrap print:whitespace-normal print:p-0 w-[15%]"}," Better To Complete ",-1)),e("th",Js," For '"+h(((ce=a.value.to_department)==null?void 0:ce.short_name)||((pe=a.value.to_department)==null?void 0:pe.name))+"' Use ",1)]),i[21]||(i[21]=e("tr",null,[e("td",{class:"whitespace-nowrap border-2 border-gray-800 text-center text-gray-800 print:text-black text-sm font-semibold print:text-xs"}," Task No "),e("td",{class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-sm font-semibold whitespace-nowrap p-3 print:text-xs print:p-0"}," Expected Date ")],-1))]),e("tbody",null,[(s(!0),o(j,null,H(((be=a.value)==null?void 0:be.details)||[],(C,P)=>{var z,ye,ge;return s(),o(j,{key:C.id},[S(es,{requirement:a.value,detail:C,serial:P+1,onEditClick:c,onDeleteClick:E,onTaskCreateClick:u,isPrinting:x.value},null,8,["requirement","detail","serial","isPrinting"]),e("tr",Ys,[e("td",Qs,[e("div",Xs," '"+h(((z=a.value.to_department)==null?void 0:z.short_name)||((ye=a.value.to_department)==null?void 0:ye.name))+"' Feedback ",1),f.value!="loading"&&((ge=a.value)!=null&&ge.status)?(s(),o("div",Zs,[C!=null&&C.feedback?(s(),N(W,{key:0,lineClamp:"2",className:{button:"  underline"},class:"mb-4 print:mb-0"},{default:D(()=>[e("p",{class:"text-sky-800 text-sm text-justify",innerHTML:C==null?void 0:C.feedback},null,8,en)]),_:2},1024)):b("",!0),e("div",null,[e("button",{class:"btn-3 print:hidden",onClick:$(()=>{m.open=!0,m.detail=C},["prevent"])},h(C.feedback?"Update Feedback":"Add feedback"),9,tn)])])):b("",!0)])])],64)}),128))])])])):b("",!0),f.value!="loading"&&!((ve=a.value)!=null&&ve.status)?(s(),o("div",sn,[e("button",{class:"btn-2 pl-2 text-base",onClick:$(R,["prevent"])},i[22]||(i[22]=[e("i",{class:"fad fa-plus-circle text-2xl mr-2"},null,-1),T("Add Requirement ")])),e("div",nn,[S(xs,{"requirement-id":(fe=a.value)==null?void 0:fe.id,onSuccess:t},{heading:D(()=>i[23]||(i[23]=[T(" Requirement Submission ")])),acceptButtonLabel:D(()=>i[24]||(i[24]=[e("span",{class:"btn-2 pl-2 text-base"},[e("i",{class:"fad fa-paper-plane text-lg mr-2"}),T("Submit Requirement ")],-1)])),submitButtonLabel:D(()=>i[25]||(i[25]=[T(" Submit Requirement ")])),_:1},8,["requirement-id"])])])):b("",!0),f.value!="loading"&&!((xe=a.value)!=null&&xe.status)?(s(),o("div",rn,i[26]||(i[26]=[e("p",{class:"text-yellow-800 text-sm"},[e("span",{class:"fas fa-exclamation-circle"}),T(" After submitting you cannot add requirement no more ")],-1)]))):b("",!0)]),f.value==="loading"?(s(),N(B,{key:2,class:"absolute inset-0 bg-opacity-90"})):b("",!0)])])}}};export{Rn as default};
