import{r as i,s as y,b as w,q as k,c as p,a as s,d as h,A as S,F as l,x as b,h as c,v as L,j as A,o as a,t as e,g as D}from"./index-CK_A_oVz.js";import{L as M}from"./LoaderView-BgomZ1kq.js";import{u as C}from"./attendance-DhDtNKDx.js";import{u as T}from"./company-oQl-Q5rp.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"px-4 space-y-4"},B={class:"flex gap-4"},E=["value"],H={key:1,class:"space-y-4"},V={class:"overflow-x-auto card-bg"},W={class:"min-w-full table-auto border-collapse border border-gray-300 bg-white"},j={class:"text-center text-sm"},F={class:"border px-2 py-0.5"},N={class:"border px-2 py-0.5"},P={class:"border px-2 py-0.5"},U={class:"border px-2 py-0.5"},q={class:"border px-2 py-0.5"},I={class:"border px-2 py-0.5"},O={class:"border px-2 py-0.5"},z={class:"border px-2 py-0.5"},G={class:"border px-2 py-0.5"},J={class:"border px-2 py-0.5"},K={class:"border px-2 py-0.5"},Q={class:"border px-2 py-0.5"},X={class:"border px-2 py-0.5"},Y={class:"border px-2 py-0.5"},Z={class:"border px-2 py-0.5"},$={class:"border px-2 py-0.5"},g={class:"border px-2 py-0.5"},tt={class:"border px-2 py-0.5"},st={class:"border px-2 py-0.5"},et={class:"border px-2 py-0.5"},rt={class:"border px-2 py-0.5"},at={class:"border px-2 py-0.5"},dt={class:"border px-2 py-0.5"},ht={__name:"MonthlyAttendanceSummaryReport",setup(pt){const x=D(),_=T(),d=C(),n=i(""),u=i(""),{companies:m}=y(_),{monthly_company_summary:v}=y(d),o=async()=>{n.value&&await d.getMonthlyAttendanceSummaryReport(n.value,d.selectedMonth)};w(async()=>{await _.fetchCompanies()}),k([n,u],o);const f=()=>x.go(-1);return(nt,r)=>(a(),p("div",R,[s("div",{class:"flex items-center justify-between gap-2"},[s("button",{class:"btn-3",onClick:f},r[2]||(r[2]=[s("i",{class:"far fa-arrow-left"},null,-1),s("span",{class:"hidden md:flex"},"Back",-1)])),r[3]||(r[3]=s("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Today Attendance Report Summary",-1)),r[4]||(r[4]=s("div",null,null,-1))]),s("div",B,[s("div",null,[h(s("select",{id:"userSelect","onUpdate:modelValue":r[0]||(r[0]=t=>n.value=t),onChange:o,class:"input-1"},[r[5]||(r[5]=s("option",{value:"",disabled:""},"Select a Company",-1)),(a(!0),p(l,null,b(c(m),t=>(a(),p("option",{key:t==null?void 0:t.id,value:t==null?void 0:t.id},e(t==null?void 0:t.name),9,E))),128))],544),[[S,n.value]])]),s("div",null,[h(s("input",{type:"month","onUpdate:modelValue":r[1]||(r[1]=t=>c(d).selectedMonth=t),onChange:o,class:"input-1"},null,544),[[L,c(d).selectedMonth]])])]),c(d).isLoading?(a(),A(M,{key:0})):(a(),p("div",H,[s("div",V,[s("table",W,[r[7]||(r[7]=s("thead",null,[s("tr",{class:"bg-gray-100 text-sm"},[s("th",{rowspan:"2",class:"border px-1 py-0.5"},"Employee Name"),s("th",{rowspan:"2",class:"border px-1 py-0.5"},"Designation"),s("th",{colspan:"4",class:"border px-1 py-0.5"},"Attendance Summary"),s("th",{colspan:"2",class:"border px-1 py-0.5"},"Actual Late"),s("th",{colspan:"2",class:"border px-1 py-0.5"},"Remaining Late"),s("th",{colspan:"2",class:"border px-1 py-0.5"},"Actual Early"),s("th",{colspan:"2",class:"border px-1 py-0.5"},"Remaining Early"),s("th",{rowspan:"2",class:"border px-1 py-0.5"},"Working Hour"),s("th",{rowspan:"2",class:"border px-1 py-0.5"},"OT Hour"),s("th",{colspan:"4",class:"border px-1 py-0.5"},"Leave Day"),s("th",{colspan:"2",class:"border px-1 py-0.5"},"Short Leave"),s("th",{rowspan:"2",class:"border px-1 py-0.5"},"Duty in Weekend"),s("th",{rowspan:"2",class:"border px-2 py-0.5"},"Comment")]),s("tr",{class:"bg-gray-100 text-xs"},[s("th",{class:"border px-2 py-0.5"},"TD"),s("th",{class:"border px-2 py-0.5"},"TP"),s("th",{class:"border px-2 py-0.5"},"TW"),s("th",{class:"border px-2 py-0.5"},"TA"),s("th",{class:"border px-1 py-0.5"},"Day"),s("th",{class:"border px-2 py-0.5"},"Hour"),s("th",{class:"border px-1 py-0.5"},"Day"),s("th",{class:"border px-2 py-0.5"},"Hour"),s("th",{class:"border px-1 py-0.5"},"Day"),s("th",{class:"border px-2 py-0.5"},"Hour"),s("th",{class:"border px-2 py-0.5"},"Day"),s("th",{class:"border px-2 py-0.5"},"Hour"),s("th",{class:"border px-2 py-0.5"},"CL"),s("th",{class:"border px-2 py-0.5"},"ML"),s("th",{class:"border px-2 py-0.5"},"SL"),s("th",{class:"border px-2 py-0.5"},"WPL"),s("th",{class:"border px-2 py-0.5"},"Entry"),s("th",{class:"border px-2 py-0.5"},"Exist")])],-1)),s("tbody",j,[(a(!0),p(l,null,b(c(v),t=>(a(),p("tr",{key:t==null?void 0:t.date,class:"hover:bg-blue-500 hover:text-white"},[s("td",F,e(t==null?void 0:t.user),1),s("td",N,e(t==null?void 0:t.designation),1),s("td",P,e(t==null?void 0:t.total_monthly_days),1),s("td",U,e(t==null?void 0:t.total_present),1),s("td",q,e(t==null?void 0:t.total_weekend),1),s("td",I,e(t==null?void 0:t.total_absent),1),s("td",O,e(t==null?void 0:t.actual_late_day),1),s("td",z,e(t==null?void 0:t.actual_late_hour),1),s("td",G,e(t==null?void 0:t.total_remain_late_day),1),s("td",J,e(t==null?void 0:t.total_remain_late_hour),1),s("td",K,e(t==null?void 0:t.actual_early_day),1),s("td",Q,e(t==null?void 0:t.actual_early_hour),1),s("td",X,e(t==null?void 0:t.total_remain_early_day),1),s("td",Y,e(t==null?void 0:t.total_remain_early_hour),1),s("td",Z,e((t==null?void 0:t.total_working_hours)||0)+" / "+e((t==null?void 0:t.total_shift_hour)||0),1),s("td",$,e(t==null?void 0:t.total_overtime_hours),1),s("td",g,e(t==null?void 0:t.total_cl_leave),1),s("td",tt,e(t==null?void 0:t.total_ml_leave),1),s("td",st,e(t==null?void 0:t.total_sl_leave),1),s("td",et,e(t==null?void 0:t.total_wpl_leave),1),s("td",rt,e(t==null?void 0:t.total_first_short_leave),1),s("td",at,e(t==null?void 0:t.total_last_short_leave),1),s("td",dt,e(t.total_present_in_weekend),1),r[6]||(r[6]=s("td",{class:"border px-2 py-0.5"},null,-1))]))),128))])])])]))]))}};export{ht as default};
