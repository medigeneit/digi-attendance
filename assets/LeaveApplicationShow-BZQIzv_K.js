import{u as Bs,N as Rs,r as f,x as vs,b as Ns,c as o,a as e,k as n,j as Is,t as l,F as j,q as L,h as y,e as d,p as bs,l as Ws,d as _s,v as ys,f as Ss,o as a,g as Ts}from"./index-Dw-AN0sg.js";import{L as $s}from"./LoaderView-C67zHB74.js";import{_ as Hs}from"./ShareComponent-kYpCrz9H.js";import{u as Ms}from"./leave-application-C5_kjpmo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Vs={class:"my-container max-w-3xl space-y-6"},Os={key:1,class:"card-bg p-4 md:p-8"},Us={class:"title-lg text-center"},qs={class:"text-center text-sm"},Es={class:"space-y-4"},Fs={class:"grid md:grid-cols-2 print:grid-cols-2 gap-8"},Ps={class:""},zs={class:"text-sm"},Gs={class:"flex justify-end gap-4"},Js={class:"table-auto border border-black bg-white text-xs"},Ks={class:"border border-black px-2"},Qs={class:"border border-black px-2"},Xs={class:"border border-black px-2"},Ys={class:"font-bold"},Zs={class:"border border-black px-2"},el={class:"table-auto border border-black bg-white text-xs"},tl={class:"border border-black"},sl={colspan:"2",class:"border border-black px-2 w-32"},ll={class:"border border-black px-2"},al={class:"border border-black px-2"},ol={class:"font-bold"},nl={class:"border border-black px-2"},rl={class:"grid print:grid-cols-2 md:grid-cols-2 text-sm"},il={class:"text-sm"},dl={class:"pt-8 grid grid-cols-2"},ul={class:"text-sm"},pl={class:"flex flex-col justify-center items-center text-sm"},cl={key:0,class:"print:hidden"},vl={class:"text-xs text-center"},bl={class:"flex justify-center gap-2"},_l={class:"font-bold"},yl={key:0,class:"text-green-600 print:text-black"},ml={key:1,class:"pl-2 text-yellow-700"},xl={class:"text-xs text-gray-500"},fl={class:"overflow-x-auto"},gl={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},kl={class:"border border-gray-500 px-4 py-0.5 text-left"},Al={class:"border border-gray-500 px-4 py-0.5 text-center"},wl={class:"border border-gray-500 px-4 py-0.5 text-center"},hl={class:"space-y-14"},jl={class:"font-bold text-center text-lg"},Cl={key:0},Ll={class:"grid md:grid-cols-3 print:grid-cols-3 gap-4 text-sm items-end"},Dl={class:"flex flex-col justify-center items-center"},Bl={key:0},Rl={key:1,class:"text-center"},Nl={key:2,class:"print:hidden"},Il={class:"text-xs text-center text-blue-600"},Wl={class:"flex justify-center gap-4"},Sl={class:"font-bold"},Tl={key:0,class:"text-green-600"},$l={key:1,class:"pl-2 text-yellow-700"},Hl={class:"text-xs text-gray-500"},Ml={class:"flex flex-col justify-center items-center"},Vl={key:0},Ol={key:1,class:"text-center"},Ul={key:2,class:"print:hidden"},ql={class:"text-xs text-center text-blue-600"},El={class:"flex justify-center gap-4"},Fl={class:"font-bold"},Pl={key:0,class:"text-green-600"},zl={key:1,class:"pl-2 text-yellow-700"},Gl={class:"flex flex-col justify-center items-center"},Jl={key:0},Kl={key:1,class:"text-center"},Ql={key:2,class:"print:hidden"},Xl={class:"text-xs text-center text-blue-600"},Yl={class:"flex justify-center gap-4"},Zl={class:"font-bold"},ea={key:0,class:"text-green-600"},ta={key:1,class:"pl-2 text-yellow-700"},sa={class:"flex justify-evenly text-sm items-end"},la={class:"flex flex-col justify-center items-center"},aa={key:0},oa={key:1,class:"text-center"},na={key:2,class:"print:hidden"},ra={class:"text-xs text-center text-blue-600"},ia={class:"flex justify-center gap-4"},da={class:"font-bold"},ua={key:0,class:"text-green-600"},pa={key:1,class:"pl-2 text-yellow-700"},ca={class:"text-xs text-gray-500"},va={class:"flex flex-col justify-center items-center"},ba={key:0},_a={key:1,class:"text-center"},ya={key:2,class:"print:hidden"},ma={class:"text-xs text-center text-blue-600"},xa={class:"flex justify-center gap-4"},fa={class:"font-bold"},ga={key:0,class:"text-green-600"},ka={key:1,class:"pl-2 text-yellow-700"},Aa={class:"text-xs text-gray-500"},wa={key:0,class:"modal-bg"},ha={class:"modal-card"},ja={class:"flex justify-end gap-2 mt-4"},Ca={key:1,class:"modal-bg"},La={class:"modal-card"},Da={class:"flex justify-end gap-2 mt-4"},Ta={__name:"LeaveApplicationShow",setup(Ba){const _=Bs(),ms=Rs(),u=Ms(),xs=Ts(),p=Ss(),D=f(!0),g=f(!1),k=f(""),A=f(!1),c=f(""),s=vs(()=>u.leaveApplication);Ns(async()=>{const{id:i}=p.params;try{await u.fetchLeaveApplicationById(i)}catch(t){console.error("Failed to load leave application:",t)}finally{D.value=!1}});async function fs(){try{await u.rejectLeaveApplication(p.params.id,{rejection_reason:k.value}),alert("Leave application rejected successfully!"),g.value=!1,k.value="",await u.fetchLeaveApplicationById(p.params.id),v()}catch(i){alert(i.message)}}function m(){g.value=!0}let x="";function w(i){A.value=!0,x=i}async function gs(){x==="acceptApprovedByApplication"&&Cs(p.params.id),x==="acceptHandoverApplication"&&ks(p.params.id),x==="acceptInChargeApplication"&&As(p.params.id),x==="acceptRecommendByApplication"&&js(p.params.id),A.value=!1}async function ks(i){try{await u.acceptHandover({id:i,note:c.value}),alert("Handover accepted successfully!"),await u.fetchLeaveApplicationById(i),v()}catch(t){alert(t.message)}}async function As(i){try{await u.acceptInCharge({id:i,note:c.value}),alert("Leave Application Successfully Accepted!"),await u.fetchLeaveApplicationById(i),v()}catch(t){alert(t.message)}}async function ws(i){try{await u.acceptCoordinator({id:i,note:c.value}),alert("Coordinator accepted successfully!"),await u.fetchLeaveApplicationById(i),v()}catch(t){alert(t.message)}}async function hs(i){try{await u.acceptOperationalAdmin({id:i,note:c.value}),alert("Operational Admin accepted successfully!"),await u.fetchLeaveApplicationById(i),v()}catch(t){alert(t.message)}}async function js(i){try{await u.acceptRecommendBy({id:i,note:c.value}),alert("Recommendation accepted successfully!"),await u.fetchLeaveApplicationById(i),v()}catch(t){alert(t.message)}}async function Cs(i){console.log(c.value);try{await u.acceptApprovedBy({id:i,note:c.value}),alert("Leave Application approved successfully!"),v(),await u.fetchLeaveApplicationById(i)}catch(t){alert(t.message)}}async function v(){var i,t;(i=p==null?void 0:p.query)!=null&&i.notifyId&&await ms.markAsRead((t=p==null?void 0:p.query)==null?void 0:t.notifyId)}function Ls(){window.print()}const Ds=()=>xs.go(-1),B=vs(()=>{if(!s.value||!s.value.last_working_date||!s.value.resumption_date)return 0;const i=new Date(s==null?void 0:s.value.last_working_date),h=new Date(s==null?void 0:s.value.resumption_date)-i;return Math.ceil(h/(1e3*60*60*24))-1});return(i,t)=>{var h,C,R,N,I,W,S,T,$,H,M,V,O,U,q,E,F,P,z,G,J,K,Q,X,Y,Z,ee,te,se,le,ae,oe,ne,re,ie,de,ue,pe,ce,ve,be,_e,ye,me,xe,fe,ge,ke,Ae,we,he,je,Ce,Le,De,Be,Re,Ne,Ie,We,Se,Te,$e,He,Me,Ve,Oe,Ue,qe,Ee,Fe,Pe,ze,Ge,Je,Ke,Qe,Xe,Ye,Ze,et,tt,st,lt,at,ot,nt,rt,it,dt,ut,pt,ct,vt,bt,_t,yt,mt,xt,ft,gt,kt,At,wt,ht,jt,Ct,Lt,Dt,Bt,Rt,Nt,It,Wt,St,Tt,$t,Ht,Mt,Vt,Ot,Ut,qt,Et,Ft,Pt,zt,Gt,Jt,Kt,Qt,Xt,Yt,Zt,es,ts,ss,ls,as,os,ns,rs,is,ds,us,ps,cs;return a(),o(j,null,[e("div",Vs,[e("div",{class:"flex items-center justify-between gap-2 print:hidden"},[e("button",{class:"btn-3",onClick:Ds},t[10]||(t[10]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),t[12]||(t[12]=e("h1",{class:"title-md md:title-xl flex-wrap text-center"},"Leave Application",-1)),e("div",null,[e("button",{class:"btn-2",onClick:Ls},t[11]||(t[11]=[e("i",{class:"far fa-print"},null,-1),n(" Print ")]))])]),D.value?(a(),Is($s,{key:0})):(a(),o("div",Os,[e("div",null,[e("h1",Us,l((R=(C=(h=s.value)==null?void 0:h.user)==null?void 0:C.company)==null?void 0:R.name),1),e("p",qs,l((I=(N=s.value)==null?void 0:N.user)==null?void 0:I.company.address),1)]),e("div",Es,[e("div",Fs,[e("div",null,[t[13]||(t[13]=e("p",null,"To",-1)),t[14]||(t[14]=e("p",{class:"font-bold"},"Managing Director",-1)),e("p",Ps,l((T=(S=(W=s.value)==null?void 0:W.user)==null?void 0:S.company)==null?void 0:T.name),1),e("p",zs,l((H=($=s.value)==null?void 0:$.user)==null?void 0:H.company.address),1),t[15]||(t[15]=e("div",null,[e("p",{class:"pt-6"},[e("b",null,"Subject:"),n(" Leave Application")])],-1))]),e("div",Gs,[e("div",null,[t[19]||(t[19]=e("h1",{class:"font-bold"},"Summary",-1)),e("table",Js,[t[18]||(t[18]=e("thead",null,[e("tr",{class:"bg-gray-200 border border-black"},[e("th",{class:"border border-black px-2"},"Type"),e("th",{class:"border border-black px-2"},"Days")])],-1)),e("tbody",null,[(a(!0),o(j,null,L((M=s.value)==null?void 0:M.leave_types,(r,b)=>(a(),o("tr",{key:b,class:"border border-black"},[e("td",Ks,l(r.type),1),e("td",Qs,l(r.days),1)]))),128)),e("tr",null,[t[16]||(t[16]=e("td",{class:"border-black px-2"},"WL/GHD",-1)),e("td",Xs,l(B.value-((O=(V=s.value)==null?void 0:V.leave_days)==null?void 0:O.length)),1)]),e("tr",Ys,[t[17]||(t[17]=e("td",{class:"border border-black px-2"},"Total",-1)),e("td",Zs,l(B.value),1)])])])]),e("div",null,[t[23]||(t[23]=e("h1",{class:"font-bold"},"Last Leave",-1)),e("div",null,[e("table",el,[e("thead",null,[t[20]||(t[20]=e("tr",{class:"bg-gray-200 border border-black"},[e("th",{colspan:"2",class:"border border-black px-2"},"Date")],-1)),e("tr",tl,[e("td",sl,l(((q=(U=s.value)==null?void 0:U.last_leave)==null?void 0:q.date)||"N/A"),1)]),t[21]||(t[21]=e("tr",{class:"bg-gray-200 border border-black"},[e("th",{class:"border border-black px-2"},"Type"),e("th",{class:"border border-black px-2"},"Days")],-1))]),e("tbody",null,[(a(!0),o(j,null,L((F=(E=s.value)==null?void 0:E.last_leave)==null?void 0:F.types,(r,b)=>(a(),o("tr",{key:b,class:"border border-black"},[e("td",ll,l(r==null?void 0:r.type),1),e("td",al,l(r==null?void 0:r.days),1)]))),128)),e("tr",ol,[t[22]||(t[22]=e("td",{class:"border border-black px-2"},"Total",-1)),e("td",nl,l((z=(P=s.value)==null?void 0:P.last_leave)!=null&&z.types?s.value.last_leave.types.reduce((r,b)=>r+b.days,0):0),1)])])])])])])]),e("div",null,[t[30]||(t[30]=e("h3",{class:"font-bold"},"Leave Details:",-1)),e("div",rl,[e("li",null,[t[24]||(t[24]=e("strong",null,"Reason: ",-1)),n(l(((G=s.value)==null?void 0:G.reason)||"No reason provided"),1)]),e("li",null,[t[25]||(t[25]=e("strong",null,"Leave Days:",-1)),n(" "+l((J=s.value)==null?void 0:J.leave_period),1)]),e("li",null,[t[26]||(t[26]=e("strong",null,"Total Days:",-1)),n(" "+l((K=s.value)==null?void 0:K.total_leave_days),1)]),e("li",null,[t[27]||(t[27]=e("strong",null,"Weekends:",-1)),n(" "+l((Q=s.value)==null?void 0:Q.user.weekends.join(", ")),1)]),e("li",null,[t[28]||(t[28]=e("strong",null,"Last Working Date:",-1)),n(" "+l((X=s.value)==null?void 0:X.last_working_date),1)]),e("li",null,[t[29]||(t[29]=e("strong",null,"Resumption Date:",-1)),n(" "+l((Y=s.value)==null?void 0:Y.resumption_date),1)])])]),e("div",il,[e("p",null,[t[31]||(t[31]=e("strong",null,"Works in Hand: ",-1)),n(l(((Z=s.value)==null?void 0:Z.works_in_hand)||"No details provided"),1)])]),e("div",dl,[e("div",null,[e("div",ul,[t[36]||(t[36]=e("hr",{class:"w-44 border-black hidden print:block"},null,-1)),e("p",null,[t[32]||(t[32]=e("strong",null,"Applicant:",-1)),n(" "+l((te=(ee=s.value)==null?void 0:ee.user)==null?void 0:te.name),1)]),e("p",null,[t[33]||(t[33]=e("strong",null,"Designation:",-1)),n(" "+l((ae=(le=(se=s.value)==null?void 0:se.user)==null?void 0:le.designation)==null?void 0:ae.title),1)]),e("p",null,[t[34]||(t[34]=e("strong",null,"Department:",-1)),n(" "+l((re=(ne=(oe=s.value)==null?void 0:oe.user)==null?void 0:ne.department)==null?void 0:re.name),1)]),e("p",null,[t[35]||(t[35]=e("strong",null,"Phone:",-1)),n(" "+l((de=(ie=s.value)==null?void 0:ie.user)==null?void 0:de.phone),1)])])]),e("div",pl,[e("p",null,l(((pe=(ue=s.value)==null?void 0:ue.handover_user)==null?void 0:pe.name)||"Not assigned"),1),!((ce=s.value)!=null&&ce.status)&&s.value.handover_user_id===y(_).user.id?(a(),o("div",cl,[e("p",vl,[n(l((be=(ve=s.value)==null?void 0:ve.user)==null?void 0:be.name)+" has assigned you for his handover. ",1),t[37]||(t[37]=e("br",null,null,-1)),t[38]||(t[38]=n(" Do you agree? "))]),e("div",bl,[e("button",{class:"font-bold text-lg text-green-600 px-2",onClick:t[0]||(t[0]=r=>w("acceptHandoverApplication"))}," ✔ "),t[39]||(t[39]=e("button",{class:"px-2"},"❌",-1))])])):d("",!0),t[42]||(t[42]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("h4",_l,[t[41]||(t[41]=n(" Handover ")),(_e=s.value)!=null&&_e.handover_user_id&&((ye=s.value)!=null&&ye.status)?(a(),o("span",yl," (✔) ")):d("",!0),(me=s.value)!=null&&me.handover_user_id&&!((xe=s.value)!=null&&xe.status)?(a(),o("span",ml,t[40]||(t[40]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)]),e("p",xl,l((fe=s.value)==null?void 0:fe.handover_note),1)])]),e("div",null,[t[44]||(t[44]=e("h1",{class:"font-bold"},"Leave Balance",-1)),e("div",fl,[e("table",gl,[t[43]||(t[43]=e("thead",null,[e("tr",{class:"bg-gray-200"},[e("th",{class:"border border-gray-500 px-4 py-0.5 text-left"},"Leave Type"),e("th",{class:"border border-gray-500 px-4 py-0.5 text-center"},"Total Days"),e("th",{class:"border border-gray-500 px-4 py-0.5 text-center"},"Used Days"),e("th",{class:"border border-gray-500 px-4 py-0.5 text-center"},"Remaining Days")])],-1)),e("tbody",null,[(a(!0),o(j,null,L((ge=s.value)==null?void 0:ge.leave_balance,(r,b)=>(a(),o("tr",{key:b,class:"hover:bg-blue-200"},[e("td",kl,l(r.leave_type),1),e("td",Al,l(r.total_leave_days),1),e("td",wl,l(r.used_days),1),e("td",{class:bs(["border border-gray-500 px-4 py-0.5 text-center",{"text-green-600 font-bold":r.remaining_days>0,"text-red-600 font-bold":r.remaining_days===0}])},l(r.remaining_days),3)]))),128))])])])])]),e("div",hl,[e("p",jl,[t[45]||(t[45]=n(" Leave Approval: ")),e("b",{class:bs({"text-yellow-600":((ke=s.value)==null?void 0:ke.status)==="Pending","text-green-600":((Ae=s.value)==null?void 0:Ae.status)==="Approved","text-red-600":((we=s.value)==null?void 0:we.status)==="Rejected"})},l(((he=s.value)==null?void 0:he.status)||"N/A"),3)]),((je=s.value)==null?void 0:je.status)==="Rejected"?(a(),o("div",Cl,[e("p",null,[t[46]||(t[46]=e("b",null,"Rejected by: ",-1)),n(" "+l((Le=(Ce=s.value)==null?void 0:Ce.rejected_by_user)==null?void 0:Le.name),1)]),e("p",null,[t[47]||(t[47]=e("b",null,"rejection Reason: ",-1)),n(" "+l(s.value.rejection_reason),1)])])):d("",!0),e("div",Ll,[e("div",Dl,[(De=s.value)!=null&&De.in_charge_user?(a(),o("p",Bl,l(((Re=(Be=s.value)==null?void 0:Be.in_charge_user)==null?void 0:Re.name)||""),1)):(a(),o("p",Rl,l(((Se=(We=(Ie=(Ne=s.value)==null?void 0:Ne.user)==null?void 0:Ie.leave_approval)==null?void 0:We.in_charge_user)==null?void 0:Se.name)||"N/A"),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((Te=s.value)!=null&&Te.in_charge_user_id)&&((Me=(He=($e=s.value)==null?void 0:$e.user)==null?void 0:He.leave_approval)==null?void 0:Me.in_charge_user_id)===y(_).user.id?(a(),o("div",Nl,[e("p",Il,[n(l((Oe=(Ve=s.value)==null?void 0:Ve.user)==null?void 0:Oe.name)+" has submitted an application. ",1),t[48]||(t[48]=e("br",null,null,-1)),t[49]||(t[49]=n(" Will you forward it? "))]),e("div",Wl,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[1]||(t[1]=r=>w("acceptInChargeApplication"))}," ✔ "),e("button",{class:"",onClick:m},"❌")])])):d("",!0),t[52]||(t[52]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("h4",Sl,[e("p",null,[t[51]||(t[51]=n(" In-Charge ")),(Ue=s.value)!=null&&Ue.in_charge_user_id?(a(),o("span",Tl,"(✔)")):d("",!0),!((qe=s.value)!=null&&qe.in_charge_user_id)&&((Pe=(Fe=(Ee=s.value)==null?void 0:Ee.user)==null?void 0:Fe.leave_approval)!=null&&Pe.in_charge_user)?(a(),o("span",$l,t[50]||(t[50]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)])]),e("p",Hl,l((ze=s.value)==null?void 0:ze.in_charge_note),1)]),e("div",Ml,[(Ge=s.value)!=null&&Ge.coordinator_user?(a(),o("p",Vl,l(((Ke=(Je=s.value)==null?void 0:Je.coordinator_user)==null?void 0:Ke.name)||"N/A"),1)):(a(),o("p",Ol,l(((Ze=(Ye=(Xe=(Qe=s.value)==null?void 0:Qe.user)==null?void 0:Xe.leave_approval)==null?void 0:Ye.coordinator_user)==null?void 0:Ze.name)||"N/A"),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((et=s.value)!=null&&et.coordinator_user_id)&&((lt=(st=(tt=s.value)==null?void 0:tt.user)==null?void 0:st.leave_approval)==null?void 0:lt.coordinator_user_id)===y(_).user.id?(a(),o("div",Ul,[e("p",ql,[n(l((ot=(at=s.value)==null?void 0:at.user)==null?void 0:ot.name)+" has submitted an application. ",1),t[53]||(t[53]=e("br",null,null,-1)),t[54]||(t[54]=n(" Will you recommend it? "))]),e("div",El,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[2]||(t[2]=r=>ws(s.value.id))}," ✔ "),e("button",{class:"",onClick:m},"❌")])])):d("",!0),t[57]||(t[57]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("p",Fl,[t[56]||(t[56]=n(" Coordinator ")),(nt=s.value)!=null&&nt.coordinator_user_id?(a(),o("span",Pl,"(✔)")):d("",!0),!((rt=s.value)!=null&&rt.coordinator_user_id)&&((ut=(dt=(it=s.value)==null?void 0:it.user)==null?void 0:dt.leave_approval)!=null&&ut.coordinator_user)?(a(),o("span",zl,t[55]||(t[55]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)])]),e("div",Gl,[(pt=s.value)!=null&&pt.operational_admin_user?(a(),o("p",Jl,l(((vt=(ct=s.value)==null?void 0:ct.operational_admin_user)==null?void 0:vt.name)||""),1)):(a(),o("p",Kl,l(((mt=(yt=(_t=(bt=s.value)==null?void 0:bt.user)==null?void 0:_t.leave_approval)==null?void 0:yt.operational_admin_user)==null?void 0:mt.name)||"N/A"),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((xt=s.value)!=null&&xt.operational_admin_user_id)&&((kt=(gt=(ft=s.value)==null?void 0:ft.user)==null?void 0:gt.leave_approval)==null?void 0:kt.operational_admin_user_id)===y(_).user.id?(a(),o("div",Ql,[e("p",Xl,[n(l((wt=(At=s.value)==null?void 0:At.user)==null?void 0:wt.name)+" has submitted an application.",1),t[58]||(t[58]=e("br",null,null,-1)),t[59]||(t[59]=n(" Will you recommend it? "))]),e("div",Yl,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[3]||(t[3]=r=>hs(s.value.id))}," ✔ "),e("button",{class:"",onClick:m},"❌")])])):d("",!0),t[62]||(t[62]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("p",Zl,[t[61]||(t[61]=n(" Operational Admin ")),(ht=s.value)!=null&&ht.operational_admin_user_id?(a(),o("span",ea,"(✔)")):d("",!0),!((jt=s.value)!=null&&jt.operational_admin_user_id)&&((Dt=(Lt=(Ct=s.value)==null?void 0:Ct.user)==null?void 0:Lt.leave_approval)!=null&&Dt.operational_admin_user)?(a(),o("span",ta,t[60]||(t[60]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)])])]),e("div",sa,[e("div",la,[(Bt=s.value)!=null&&Bt.recommend_by_user?(a(),o("p",aa,l(((Nt=(Rt=s.value)==null?void 0:Rt.recommend_by_user)==null?void 0:Nt.name)||"N/A"),1)):(a(),o("p",oa,l(((Tt=(St=(Wt=(It=s.value)==null?void 0:It.user)==null?void 0:Wt.leave_approval)==null?void 0:St.recommend_by_user)==null?void 0:Tt.name)||"N/A"),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!(($t=s.value)!=null&&$t.recommend_by_user_id)&&((Vt=(Mt=(Ht=s.value)==null?void 0:Ht.user)==null?void 0:Mt.leave_approval)==null?void 0:Vt.recommend_by_user_id)===y(_).user.id?(a(),o("div",na,[e("p",ra,[n(l((Ut=(Ot=s.value)==null?void 0:Ot.user)==null?void 0:Ut.name)+" has submitted an application.",1),t[63]||(t[63]=e("br",null,null,-1)),t[64]||(t[64]=n(" Will you recommend it? "))]),e("div",ia,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[4]||(t[4]=r=>w("acceptRecommendByApplication"))}," ✔ "),e("button",{class:"",onClick:m},"❌")])])):d("",!0),t[67]||(t[67]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("p",da,[t[66]||(t[66]=n(" Recommend By ")),(qt=s.value)!=null&&qt.recommend_by_user_id?(a(),o("span",ua,"(✔)")):d("",!0),!((Et=s.value)!=null&&Et.recommend_by_user_id)&&((zt=(Pt=(Ft=s.value)==null?void 0:Ft.user)==null?void 0:Pt.leave_approval)!=null&&zt.recommend_by_user)?(a(),o("span",pa,t[65]||(t[65]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)]),e("p",ca,l((Gt=s.value)==null?void 0:Gt.recommend_note),1)]),e("div",va,[(Jt=s.value)!=null&&Jt.approved_by_user?(a(),o("p",ba,l(((Qt=(Kt=s.value)==null?void 0:Kt.approved_by_user)==null?void 0:Qt.name)||"N/A"),1)):(a(),o("p",_a,l(((es=(Zt=(Yt=(Xt=s.value)==null?void 0:Xt.user)==null?void 0:Yt.leave_approval)==null?void 0:Zt.approved_by_user)==null?void 0:es.name)||"N/A"),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((ts=s.value)!=null&&ts.approved_by_user_id)&&((as=(ls=(ss=s.value)==null?void 0:ss.user)==null?void 0:ls.leave_approval)==null?void 0:as.approved_by_user_id)===y(_).user.id?(a(),o("div",ya,[e("p",ma,[n(l((ns=(os=s.value)==null?void 0:os.user)==null?void 0:ns.name)+" has submitted an application.",1),t[68]||(t[68]=e("br",null,null,-1)),t[69]||(t[69]=n(" Will you accept it? "))]),e("div",xa,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[5]||(t[5]=r=>w("acceptApprovedByApplication"))}," ✔ "),e("button",{class:"",onClick:m},"❌")])])):d("",!0),t[72]||(t[72]=e("hr",{class:"w-44 border-black mt-2"},null,-1)),e("p",fa,[t[71]||(t[71]=n(" Approved By ")),(rs=s.value)!=null&&rs.approved_by_user_id?(a(),o("span",ga,"(✔)")):d("",!0),!((is=s.value)!=null&&is.approved_by_user_id)&&((ps=(us=(ds=s.value)==null?void 0:ds.user)==null?void 0:us.leave_approval)!=null&&ps.approved_by_user)?(a(),o("span",ka,t[70]||(t[70]=[e("i",{class:"fad fa-spinner"},null,-1)]))):d("",!0)]),e("p",Aa,l((cs=s.value)==null?void 0:cs.approval_note),1)])])])])),Ws(Hs)]),A.value?(a(),o("div",wa,[e("div",ha,[t[73]||(t[73]=e("h3",{class:"title-lg"},"Accept Application",-1)),_s(e("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>c.value=r),rows:"4",placeholder:"Enter accept note...",class:"w-full border rounded-lg p-2 text-gray-700"},null,512),[[ys,c.value]]),e("div",ja,[e("button",{class:"btn-3",onClick:t[7]||(t[7]=r=>A.value=!1)},"Cancel"),e("button",{class:"btn-2 bg-red-500 text-white",onClick:gs},"Confirm")])])])):d("",!0),g.value?(a(),o("div",Ca,[e("div",La,[t[74]||(t[74]=e("h3",{class:"title-lg"},"Reject Application",-1)),_s(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=r=>k.value=r),rows:"4",placeholder:"Enter rejection reason...",class:"w-full border rounded-lg p-2 text-gray-700"},null,512),[[ys,k.value]]),e("div",Da,[e("button",{class:"btn-3",onClick:t[9]||(t[9]=r=>g.value=!1)},"Cancel"),e("button",{class:"btn-2 bg-red-500 text-white",onClick:fs},"Confirm")])])])):d("",!0)],64)}}};export{Ta as default};
