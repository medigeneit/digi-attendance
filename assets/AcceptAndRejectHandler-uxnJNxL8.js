import{j as h,N as C,r as f,y as p,o,c as i,a as t,e as l,q as b,w as N,t as m,d as w,v as A,l as S}from"./index-v4LEanZD.js";const R={key:0,class:"font-bold text-xl text-green-600"},_={key:1,class:"btn-2"},q={key:0,class:"text-base"},T={key:1,class:"btn-1"},M={class:"modal-card"},V={class:"title-lg"},z=["placeholder","required"],B={class:"flex justify-between gap-2 mt-4"},D={class:"capitalize hidden md:inline"},$={__name:"AcceptAndRejectHandler",props:{notificationType:{type:String,required:!0},applicationId:{type:[String,Number],required:!0},onSuccess:{type:Function,default:()=>{}},variant:{type:Number,default:1}},setup(n){const r=n,y=h(),x=C(),e=f(null),s=f(""),j=p(()=>e.value!==null),g=p(()=>e.value==="accept"?"Accept Application":"Reject Application");p(()=>e.value==="accept"?"btn-2":"btn-2 bg-red-500 text-white");function v(c){(c==="accept"||c==="reject")&&(e.value=c,s.value="")}function u(){e.value=null,s.value=""}async function k(){if(e.value==="reject"&&!s.value)return y.error("Rejection Reason is required!");await x.updateSpecificNotification(r.notificationType,r.applicationId,e.value,s.value),r.onSuccess(),u()}return(c,a)=>(o(),i("div",null,[t("div",{class:b(["flex justify-center items-center",n.variant===1?"gap-5":"gap-2"])},[t("button",{onClick:a[0]||(a[0]=d=>v("accept"))},[n.variant===1?(o(),i("span",R,"✔")):l("",!0),n.variant===2?(o(),i("span",_,"Approve")):l("",!0)]),t("button",{onClick:a[1]||(a[1]=d=>v("reject"))},[n.variant===1?(o(),i("span",q,"❌")):l("",!0),n.variant===2?(o(),i("span",T,"Reject")):l("",!0)])],2),j.value?(o(),i("div",{key:0,class:"fixed inset-0 z-50 flex justify-center items-center bg-black/50",onClick:N(u,["self"])},[t("div",M,[t("h3",V,m(g.value),1),w(t("textarea",{"onUpdate:modelValue":a[2]||(a[2]=d=>s.value=d),rows:"7",placeholder:e.value==="accept"?"Accept Note...":"Rejection Reason...",class:"w-full border rounded-lg p-2 text-gray-700",required:e.value==="reject"},null,8,z),[[A,s.value]]),t("div",B,[t("button",{class:"btn-3",onClick:u},"Cancel"),t("button",{class:b(e.value==="reject"?"btn-2-red":"btn-2-green"),onClick:k},[a[3]||(a[3]=S(" Confirm ")),t("span",D,m(e.value),1)],2)])])])):l("",!0)]))}};export{$ as _};
