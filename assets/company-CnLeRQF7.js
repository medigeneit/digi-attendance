import{Q as C,r as u,y as p,R as l}from"./index-DEEJXLgV.js";const I=C("company",()=>{const t=u([]),i=u([]),v=u(null),s=u(!1),o=u(null),y=async()=>{var a,r;s.value=!0,o.value=null;try{const n=await l.get("/companies");t.value=n.data}catch(n){o.value=((r=(a=n.response)==null?void 0:a.data)==null?void 0:r.message)||"কোম্পানি লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching companies:",n)}finally{s.value=!1}},f=async a=>{var r,n;s.value=!0,o.value=null;try{const e=await l.get(`/companies/${a}`);v.value=e.data}catch(e){o.value=((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||`কোম্পানি (ID: ${a}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching company with id ${a}:`,e)}finally{s.value=!1}},d=async a=>{var r,n;s.value=!0,o.value=null;try{const e=await l.post("/companies",a);return t.value.push(e.data),e.data}catch(e){o.value=((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||"কোম্পানি তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating company:",e)}finally{s.value=!1}},g=async(a,r)=>{var n,e;s.value=!0,o.value=null;try{const c=await l.put(`/companies/${a}`,r),m=t.value.findIndex(w=>w.id===a);return m!==-1&&(t.value[m]=c.data),c.data}catch(c){o.value=((e=(n=c.response)==null?void 0:n.data)==null?void 0:e.message)||`কোম্পানি (ID: ${a}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating company with id ${a}:`,c)}finally{s.value=!1}},h=async a=>{var r,n;s.value=!0,o.value=null;try{const e=await l.get(`/companies/${a}/employees`);i.value=e.data}catch(e){o.value=((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||`কোম্পানি (ID: ${a}) এর এমপ্লয়ী লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching department with id ${a}:`,e)}finally{s.value=!1}},$=async a=>{var r,n;s.value=!0,o.value=null;try{await l.delete(`/companies/${a}`),t.value=t.value.filter(e=>e.id!==a)}catch(e){o.value=((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||`কোম্পানি (ID: ${a}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting company with id ${a}:`,e)}finally{s.value=!1}};return{companies:p(()=>t.value),company:p(()=>v.value),loading:p(()=>s.value),error:p(()=>o.value),employees:i,fetchEmployee:h,fetchCompanies:y,fetchCompany:f,createCompany:d,updateCompany:g,deleteCompany:$}});export{I as u};
