import{_ as d}from"./ApprovalItem-B9yeCTNx.js";import{L as z}from"./LoaderView-Buve6p9r.js";import{_ as E}from"./ShareComponent-CRasFpEh.js";import{_ as m}from"./DisplayFormattedWorkingHours-DgoY7UBJ.js";import{u as G,b as W,d as J,p as I,e as K,c as n,o,a as t,f as L,g as i,y as a,j as p,t as l,n as Q,F as U}from"./index-CZOHe0wI.js";import{u as X}from"./overtime-CNFwHSqQ.js";import"./AcceptAndRejectHandler-BB0-Xper.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={class:"my-container max-w-2xl space-y-6"},Z={key:1,class:"card-bg p-4 md:p-8"},tt={class:"grid grid-cols-2 gap-2"},et={class:"text-sm space-y-0.5"},st={key:0},lt={class:"pt-10"},ot={class:"text-lg text-blue-700"},at={class:"text-sm"},nt={class:"text-sm space-y-1"},it={class:"text-sm font-semibold"},rt={class:"grid md:grid-cols-2 gap-x-4 gap-y-1 text-sm"},ut={class:"title-md font-semibold"},dt={key:0,class:"col-span-full space-x-1"},pt={class:"col-span-full"},mt={class:"col-span-full"},vt={key:0,class:"grid grid-cols-2 text-sm md:text-base md:grid-cols-2 md:gap-x-4 gap-y-14 pt-14 items-end"},At={__name:"MyOvertimeShow",setup(ct){const $=G(),v=W(),r=X();J();const M=I(()=>r.loading),s=I(()=>r.overtime);K(async()=>{const{id:c}=v.params;try{await r.fetchOvertimeById(c)}catch(e){console.error("Failed to fetch overtime details:",e)}});const P=()=>$.go(-1);function T(){window.print()}const u=async()=>{r.fetchOvertimeById(v.params.id)};return(c,e)=>{var y,g,_,x,f,k,b,w,A,B,R,j,N,D,H,O,S,C,h,V,q,F;return o(),n("div",Y,[t("div",{class:"flex items-center justify-between gap-2"},[t("button",{class:"btn-3",onClick:P},e[0]||(e[0]=[t("i",{class:"far fa-arrow-left"},null,-1),t("span",{class:"hidden md:flex"},"Back",-1)])),e[2]||(e[2]=t("h1",{class:"title-lg text-center"},"Overtime Details",-1)),t("div",null,[t("button",{class:"btn-2",onClick:T},e[1]||(e[1]=[t("i",{class:"far fa-print"},null,-1),p(" Print ")]))])]),M.value?(o(),L(z,{key:0})):s.value?(o(),n("div",Z,[e[15]||(e[15]=t("h2",{class:"title-md"},"Overtime Request",-1)),t("div",tt,[t("div",et,[(y=s.value)!=null&&y.date?(o(),n("div",st,[e[3]||(e[3]=t("span",{class:"text-gray-500 mr-1"},"Date:",-1)),t("b",null,l(new Date((g=s.value)==null?void 0:g.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})),1)])):i("",!0),t("div",null,[e[4]||(e[4]=t("span",{class:"text-gray-500 mr-1"},"Duty Type:",-1)),t("b",null,l((_=s.value)==null?void 0:_.duty_type),1)]),t("div",lt,[t("div",null,[e[5]||(e[5]=t("hr",{class:"w-44 border-black"},null,-1)),t("p",null,[t("b",ot,l((x=s.value)==null?void 0:x.user.name),1)]),t("div",at,[t("p",null,l((b=(k=(f=s.value)==null?void 0:f.user)==null?void 0:k.designation)==null?void 0:b.title),1),t("p",null,l((B=(A=(w=s.value)==null?void 0:w.user)==null?void 0:A.department)==null?void 0:B.name),1)])])])]),t("div",nt,[t("div",null,[e[6]||(e[6]=t("span",{class:"text-gray-500 mr-1"},"Check In:",-1)),t("b",null,l(((R=s.value)==null?void 0:R.check_in)||"- : -"),1)]),t("div",null,[e[7]||(e[7]=t("span",{class:"text-gray-500 mr-1"},"Check Out:",-1)),t("b",null,l(((j=s.value)==null?void 0:j.check_out)||"- : -"),1)]),t("div",null,[e[8]||(e[8]=t("span",{class:"text-gray-500 mr-1"},"Working Hour:",-1)),t("b",null,[a(m,{workingHours:s.value.working_hours},null,8,["workingHours"])])]),t("div",null,[e[9]||(e[9]=t("span",{class:"text-gray-500 mr-1"},"Request hour:",-1)),t("b",null,[a(m,{workingHours:s.value.request_overtime_hours},null,8,["workingHours"])])]),t("div",null,[e[10]||(e[10]=t("span",{class:"text-gray-500 mr-1"},"Details:",-1)),t("span",it,l(((N=s.value)==null?void 0:N.work_details)||"N/A"),1)])])]),e[16]||(e[16]=t("hr",null,null,-1)),t("div",rt,[t("div",ut,[e[11]||(e[11]=p(" Status: ")),t("span",{class:Q({"text-yellow-500":((D=s.value)==null?void 0:D.status)==="Pending","text-green-600":((H=s.value)==null?void 0:H.status)==="Approved","text-red-500":((O=s.value)==null?void 0:O.status)==="Rejected"})},l(((S=s.value)==null?void 0:S.status)||"N/A"),3)]),((C=s.value)==null?void 0:C.status)==="Approved"?(o(),n("div",dt,[e[12]||(e[12]=t("span",null,"Approved overtime (hour):",-1)),t("b",null,[a(m,{workingHours:s.value.approval_overtime_hours},null,8,["workingHours"])])])):i("",!0),((h=s.value)==null?void 0:h.status)==="Rejected"?(o(),n(U,{key:1},[t("div",pt,[e[13]||(e[13]=t("b",null,"Rejected By:",-1)),p(" "+l(((q=(V=s.value)==null?void 0:V.rejected_by_user)==null?void 0:q.name)||"N/A"),1)]),t("div",mt,[e[14]||(e[14]=t("b",null,"Rejection Reason:",-1)),p(" "+l(((F=s.value)==null?void 0:F.rejection_reason)||"N/A"),1)])],64)):i("",!0)]),e[17]||(e[17]=t("hr",null,null,-1)),s.value?(o(),n("div",vt,[a(d,{application:s.value,type:"overtime_applications",item:"in_charge",onAction:u},null,8,["application"]),s.value.user.type==="executive"?(o(),L(d,{key:0,application:s.value,type:"overtime_applications",item:"coordinator",onAction:u},null,8,["application"])):i("",!0),a(d,{application:s.value,type:"overtime_applications",item:"recommend_by",onAction:u},null,8,["application"]),a(d,{application:s.value,type:"overtime_applications",item:"approved_by",onAction:u},null,8,["application"])])):i("",!0)])):i("",!0),a(E)])}}};export{At as default};
