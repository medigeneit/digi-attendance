import{_ as c}from"./ApprovalItem-DOU2CGVr.js";import{L as q}from"./LoaderView-CVgM2k63.js";import{_ as J}from"./ScreenshotCapture-B6ThJUXj.js";import{_ as K}from"./ShareComponent-oWne_s_V.js";import{u as O,f as Q,g as X,S as Y,r as G,x as Z,h as tt,c as i,o,a as t,j as et,d as l,t as a,s as st,k as at,b as H,m as nt}from"./index-DnagmssL.js";import{u as ot}from"./exchange-Blsd29nH.js";import"./AcceptAndRejectHandler-COz-XEZg.js";import"./html2canvas.esm-CBrSDip1.js";const lt={class:"max-w-2xl mx-auto space-y-3 print:p-0"},it={key:1,id:"leave-application",class:"bg-white rounded-lg p-4 md:p-8 text-sm md:text-base leading-relaxed"},dt={class:"text-center space-y-1"},ct={class:"flex justify-center items-center gap-2 text-xs md:text-sm text-slate-500"},rt={class:"font-semibold text-slate-900"},pt={class:"grid md:grid-cols-3 gap-6 mt-6"},mt={class:"space-y-2 md:col-span-2"},ut={class:"flex"},xt={class:"font-medium"},ft={class:"flex"},_t={class:"font-medium"},gt={class:"flex"},vt={class:"font-medium"},ht={class:"flex md:justify-end"},yt={class:"mt-8"},bt={class:"grid md:grid-cols-2 gap-x-10 gap-y-3 mt-4"},wt={class:"flex"},kt={class:"font-medium"},Dt={class:"flex"},St={class:"font-medium"},At={class:"flex"},jt={class:"font-medium"},Et={class:"flex"},Nt={class:"font-medium"},Bt={class:"md:col-span-2 flex items-start"},Rt={class:"font-medium leading-relaxed"},Ct={class:"md:col-span-2 flex items-start"},Vt={class:"font-medium leading-relaxed"},Lt={class:"text-center space-y-1"},Tt={key:0,class:"text-sm text-red-700 mt-2"},$t={class:"grid grid-cols-2 md:grid-cols-3 gap-y-16 gap-x-6 mt-2"},Pt={class:"bg-white rounded-lg p-4 flex justify-between items-center print:hidden"},zt=["href"],Ft={key:1,class:"text-slate-400 italic"},Ot={__name:"ExchangeShiftShow",setup(Gt){const I=O(),p=Q(),r=ot();X(),Y();const m=G(!0);G(null);const s=Z(()=>r.exchange);tt(async()=>{try{await r.fetchExchange(p.params.id)}finally{m.value=!1}});const M=()=>I.go(-1),U=()=>window.print(),d=async()=>{await r.fetchExchange(p.params.id)},u=n=>n?new Date(n).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"",W=n=>n?new Date(n).toLocaleDateString("en-US",{weekday:"long"}):"";return(n,e)=>{var x,f,_,g,v,h,y,b,w,k,D,S,A,j,E,N,B,R,C,V,L,T,$,P,z,F;return o(),i("div",lt,[t("div",{class:"flex items-center justify-between print:hidden"},[t("button",{onClick:M,class:"flex items-center gap-2 text-sm font-semibold text-slate-600 hover:text-black"}," â† Back "),e[0]||(e[0]=t("h1",{class:"text-base md:text-lg font-bold text-slate-900"},"Exchange Details",-1)),t("button",{onClick:U,class:"text-sm font-semibold text-slate-600 hover:text-black"}," Print ")]),m.value?(o(),et(q,{key:0})):(o(),i("div",it,[t("div",dt,[e[2]||(e[2]=t("h1",{class:"text-xl md:text-2xl font-extrabold text-slate-900"}," Shift Exchange Application ",-1)),t("div",ct,[e[1]||(e[1]=t("span",null,"Created:",-1)),t("span",rt,a(u((x=s.value)==null?void 0:x.created_at)),1),t("span",{class:st(["px-2 py-0.5 rounded-full font-semibold",{"bg-yellow-100 text-yellow-700":((f=s.value)==null?void 0:f.status)==="Pending","bg-green-100 text-green-700":((_=s.value)==null?void 0:_.status)==="Approved","bg-red-100 text-red-700":((g=s.value)==null?void 0:g.status)==="Rejected"}])},a((v=s.value)==null?void 0:v.status),3)])]),t("div",pt,[t("div",mt,[t("div",ut,[e[3]||(e[3]=t("span",{class:"w-32 text-slate-500"},"Name",-1)),t("span",xt,a((y=(h=s.value)==null?void 0:h.user)==null?void 0:y.name),1)]),t("div",ft,[e[4]||(e[4]=t("span",{class:"w-32 text-slate-500"},"Designation",-1)),t("span",_t,a((k=(w=(b=s.value)==null?void 0:b.user)==null?void 0:w.designation)==null?void 0:k.title),1)]),t("div",gt,[e[5]||(e[5]=t("span",{class:"w-32 text-slate-500"},"Department",-1)),t("span",vt,a((A=(S=(D=s.value)==null?void 0:D.user)==null?void 0:S.department)==null?void 0:A.name),1)])]),t("div",ht,[l(c,{application:s.value,type:"shift_exchange_applications",item:"handover",onAction:d},null,8,["application"])])]),t("div",yt,[e[12]||(e[12]=t("h3",{class:"text-lg font-bold text-slate-900"},"Exchange Details",-1)),t("div",bt,[t("div",wt,[e[6]||(e[6]=t("span",{class:"w-32 text-slate-500"},"Exchange Day",-1)),t("span",kt,a(W((j=s.value)==null?void 0:j.exchange_date)),1)]),t("div",Dt,[e[7]||(e[7]=t("span",{class:"w-32 text-slate-500"},"Exchange Date",-1)),t("span",St,a(u((E=s.value)==null?void 0:E.exchange_date)),1)]),t("div",At,[e[8]||(e[8]=t("span",{class:"w-32 text-slate-500"},"From Shift",-1)),t("span",jt,a((B=(N=s.value)==null?void 0:N.current_shift)==null?void 0:B.name),1)]),t("div",Et,[e[9]||(e[9]=t("span",{class:"w-32 text-slate-500"},"To Shift",-1)),t("span",Nt,a((C=(R=s.value)==null?void 0:R.shift)==null?void 0:C.name),1)]),t("div",Bt,[e[10]||(e[10]=t("span",{class:"w-32 text-slate-500"},"Reason",-1)),t("span",Rt,a(((V=s.value)==null?void 0:V.reason)||"N/A"),1)]),t("div",Ct,[e[11]||(e[11]=t("span",{class:"w-32 text-slate-500"},"Works in Hand",-1)),t("span",Vt,a(((L=s.value)==null?void 0:L.works_in_hand)||"N/A"),1)])])]),e[16]||(e[16]=t("hr",{class:"my-4"},null,-1)),t("div",Lt,[e[15]||(e[15]=t("h3",{class:"text-lg font-bold"},"Approvals",-1)),((T=s.value)==null?void 0:T.status)==="Rejected"?(o(),i("div",Tt,[t("div",null,[e[13]||(e[13]=t("b",null,"Rejected By:",-1)),H(" "+a((P=($=s.value)==null?void 0:$.rejected_by_user)==null?void 0:P.name),1)]),t("div",null,[e[14]||(e[14]=t("b",null,"Reason:",-1)),H(" "+a((z=s.value)==null?void 0:z.rejection_reason),1)])])):at("",!0)]),t("div",$t,[l(c,{application:s.value,type:"shift_exchange_applications",item:"in_charge",onAction:d},null,8,["application"]),l(c,{application:s.value,type:"shift_exchange_applications",item:"recommend_by",onAction:d},null,8,["application"]),l(c,{application:s.value,type:"shift_exchange_applications",item:"approved_by",onAction:d},null,8,["application"])])])),t("div",Pt,[e[17]||(e[17]=t("h3",{class:"font-bold"},"Attachment",-1)),(F=s.value)!=null&&F.attachment?(o(),i("a",{key:0,href:s.value.attachment,target:"_blank",class:"text-emerald-600 font-semibold hover:underline"}," View file ",8,zt)):(o(),i("span",Ft,"No attachment"))]),l(K,null,{default:nt(()=>[l(J,{targetId:"leave-application",platform:"whatsapp"})]),_:1})])}}};export{Ot as default};
