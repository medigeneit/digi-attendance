const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LeaveApplicationModal-DLdXHjUD.js","assets/index-BOxZs2SM.js","assets/index-Cj2mfMR6.css","assets/ApprovalItem-XdgButVw.js","assets/AcceptAndRejectHandler-ClY-8Jzw.js","assets/LoaderView-BOFHaCun.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/ShareComponent-3_iY62Ax.js","assets/leave-application-ByCj7NXc.js","assets/LeaveApplicationModal-B7WJltA7.css","assets/ShortLeaveDetailsModal-ObkAlUPS.js","assets/ScreenshotCapture-CM2VbQsi.js","assets/short-leave-CIQzrE37.js","assets/ShortLeaveDetailsModal-D4avNQ1k.css","assets/ManualAttendanceDetailsModal-DAh_YtiM.js","assets/manual-attendance-ljoB54Lh.js","assets/ManualAttendanceDetailsModal-MS8n2gFL.css","assets/ShiftExchangeDetailsModal-DODNwtgw.js","assets/exchange-DWYFHYgy.js","assets/ShiftExchangeDetailsModal-BlZsJzAI.css","assets/OffdayExchangeDetailsModal-Cm3FCFsw.js","assets/OffdayExchangeDetailsModal-jTt80Glg.css"])))=>i.map(i=>d[i]);
import{d as pe,s as X,m as U,n as me,c as r,o as n,p as M,i as L,a as e,j as C,t as v,k,q as ve,w,x as D,g as T,F as q,y as V,f as R,R as Te,z as fe,r as j,e as xe,A as J,h as ne,B as Ae,b as ge,u as ye,C as Q,D as H,E as le,G as Se,_ as ee}from"./index-BOxZs2SM.js";import{u as oe}from"./user-D68U_lbK.js";import{L as Re}from"./LoaderView-BOFHaCun.js";import{_ as Ne}from"./SearchInput-DeBcMvh3.js";import{o as de,g as re,a as ie,b as qe,c as Oe}from"./datetime-DcVwRp76.js";import{m as Ee}from"./task-tree-wODDhwOu.js";import{u as Pe}from"./useTaskStore-CKflHiz6.js";import{_ as Be,a as Ue}from"./TodoSection-BrpGEY2K.js";import{_ as je}from"./TaskTreeViewWithSubTable-kBb4XEHj.js";import{O as Ve}from"./OverlyModal-BcMds_q5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./requirement-BGKT7jjQ.js";import"./useTodoStore-Dm7nzFxI.js";import"./url-CePbr-gY.js";import"./TodoCreateEditShow-CftdZjSA.js";import"./DepartmentChip-Ch2U8ACD.js";import"./UserChip-BbHRFvLx.js";import"./DraggableList.vue_vue_type_script_setup_true_lang-D3Qtzh06.js";import"./TaskUrgentBadge-BHh9yQlY.js";import"./TaskStatus-CR6-GzD2.js";import"./TaskAssignedUsers-p80C1BDp.js";import"./TaskIsClosedBadge-CDwdQOZ8.js";import"./TaskSupervisorAndEmployee-xOQwtEq3.js";const Fe={class:"grid gap-4 md:grid-cols-3 mt-4 px-4 container mx-auto"},Ie={class:"text-3xl"},We={class:"text-3xl"},ze={class:"text-3xl"},Ye={class:"text-3xl"},Ke={class:"text-3xl"},He={class:"text-3xl"},Ge={class:"text-3xl"},Je={class:"text-3xl"},Xe={class:"text-3xl"},Ze={class:"text-3xl"},Qe={class:"text-3xl"},et={__name:"DashboardAdminView",setup(_){const i=oe();pe();const{dashboardInfo:m,selectedDate:f}=X(i),u=U(()=>new Date);return(y,l)=>{const o=me("RouterLink");return n(),r("div",Fe,[M(o,{to:{name:"TodayAttendanceReport",query:{status:"all"}},class:"main-button"},{default:L(()=>{var t;return[e("span",Ie,v((t=k(m))==null?void 0:t.totalUsers),1),l[0]||(l[0]=C(" Total Employees "))]}),_:1,__:[0]}),M(o,{to:{name:"TodayAttendanceReport",query:{status:"Present"}},class:"main-button"},{default:L(()=>{var t;return[e("span",We,v((t=k(m))==null?void 0:t.todayPresents),1),l[1]||(l[1]=C(" Today Present "))]}),_:1,__:[1]}),M(o,{to:{name:"TodayAttendanceReport",query:{status:"Absent"}},class:"main-button"},{default:L(()=>{var t;return[e("span",ze,v((t=k(m))==null?void 0:t.todayAbsents),1),l[2]||(l[2]=C(" Today Absent "))]}),_:1,__:[2]}),M(o,{to:{name:"LeaveApplicationsForDay",query:{applicationType:"today"}},class:"main-button"},{default:L(()=>{var t;return[e("span",Ye,v((t=k(m))==null?void 0:t.todayLeaves),1),l[3]||(l[3]=C(" Today Leave "))]}),_:1,__:[3]}),M(o,{to:{name:"LeaveApplicationsForDay",query:{applicationType:"tomorrow"}},class:"main-button"},{default:L(()=>{var t;return[e("span",Ke,v((t=k(m))==null?void 0:t.tomorrowLeaves),1),l[4]||(l[4]=C(" Tomorrow Leave "))]}),_:1,__:[4]}),M(o,{to:{name:"DateWiseShortLeaveList",query:{date:k(f)}},class:"main-button"},{default:L(()=>{var t;return[e("span",He,v((t=k(m))==null?void 0:t.todayShortLeaves),1),l[5]||(l[5]=C(" Today Short Leaves "))]}),_:1,__:[5]},8,["to"]),M(o,{to:{name:"DailyLateAttendanceReport",query:{date:k(f)}},class:"main-button"},{default:L(()=>{var t;return[e("span",Ge,v((t=k(m))==null?void 0:t.todayLateEntries),1),l[6]||(l[6]=C(" Today Late Report "))]}),_:1,__:[6]},8,["to"]),M(o,{to:{name:"PreviousAfterApplicationList",query:{applicationType:"prev",date:k(f)}},class:"main-button"},{default:L(()=>{var t;return[e("span",Je,v((t=k(m))==null?void 0:t.prevWeekLeaves),1),l[7]||(l[7]=C(" Leave history of previous week "))]}),_:1,__:[7]},8,["to"]),M(o,{to:{name:"PreviousAfterApplicationList",query:{applicationType:"after",date:k(f)}},class:"main-button"},{default:L(()=>{var t;return[e("span",Xe,v((t=k(m))==null?void 0:t.nextWeekLeaves),1),l[8]||(l[8]=C(" Upcoming leaves "))]}),_:1,__:[8]},8,["to"]),M(o,{to:{name:"TodoList",query:{day:u.value.getDate(),month:u.value.getMonth()+1,year:u.value.getFullYear(),type:"day-view"}},class:"main-button"},{default:L(()=>{var t;return[e("span",Ze,v((t=k(m))==null?void 0:t.todayTotalTodos),1),l[9]||(l[9]=C(" Today Todos "))]}),_:1,__:[9]},8,["to"]),M(o,{to:{name:"TodoList",query:{month:u.value.getMonth()+1,year:u.value.getFullYear(),type:"month-view"}},class:"main-button"},{default:L(()=>{var t;return[e("span",Qe,v((t=k(m))==null?void 0:t.thisMonthTotalTodos),1),l[10]||(l[10]=C(" Todos In This Month "))]}),_:1,__:[10]},8,["to"])])}}},ue=(_,i,m,f)=>{const u=new Date(f,m-1,i);return _.filter(y=>{const l=y.deadline?new Date(y.deadline):null,o=de(new Date);if(y.assigned_at){const t=de(new Date(y.assigned_at));if(u<t)return!1;let a=null;return y.completed_at&&(a=de(new Date(y.completed_at))),!(a&&a<u||l&&l<u&&u>o)}return!1}).map(y=>{let l=!1;return y.deadline&&(l=new Date(y.deadline)<u),{...y,deadline_crossed:l}})},tt={class:"px-4 py-2 flex items-center bg-gray-50 group"},st=["disabled"],nt={class:"ml-4 md:ml-auto flex items-center gap-2"},ot=["value"],at=ve({__name:"DailyTaskHeading",props:{selectedDay:{type:String,required:!0},loading:{type:Boolean,default:!1}},emits:["change",,"reloadClick","monthWiseButtonClick"],setup(_,{emit:i}){const m=_,f=i;function u(){f("change",re(new Date))}function y(){const o=new Date(m.selectedDay);o.setDate(o.getDate()+1),f("change",re(o))}function l(){const o=new Date(m.selectedDay);o.setDate(o.getDate()-1),f("change",re(o))}return(o,t)=>(n(),r("div",tt,[t[4]||(t[4]=e("h2",{class:"leading-none font-semibold text-lg"},"Daily Task",-1)),e("button",{class:"btn-3 mx-4 h-7",onClick:t[0]||(t[0]=w(a=>f("monthWiseButtonClick"),["prevent"]))},"Month Wise"),e("button",{class:"btn-3 mx-4 h-7",onClick:w(u,["prevent"])},"Today"),e("button",{class:D(["btn-3 px-2 py-2 mx-4 size-7 disabled:text-gray-300 disabled:border-gray-300",{"animate-spin text-gray-300 border-gray-300 !bg-opacity-0":_.loading}]),onClick:t[1]||(t[1]=w(a=>f("reloadClick"),["prevent"])),disabled:_.loading},t[3]||(t[3]=[e("i",{class:"fas fa-redo-alt"},null,-1)]),10,st),e("div",nt,[e("button",{class:"btn-2 h-7",onClick:w(l,["prevent"])},"Previous Day"),e("button",{class:"btn-2 h-7",onClick:w(y,["prevent"])},"Next Day"),e("input",{type:"date",value:_.selectedDay,onInput:t[2]||(t[2]=a=>{var g;return f("change",(g=a.target)==null?void 0:g.value)}),class:"border px-2 rounded"},null,40,ot)])]))}}),lt={class:"px-4 py-2 flex items-center bg-gray-50 group"},rt=["disabled"],it={class:"ml-4 md:ml-auto flex items-center gap-2"},dt=["value"],ut=ve({__name:"MonthlyTaskHeading",props:{selectedMonth:{type:String,required:!0},loading:{type:Boolean,default:!1}},emits:["reloadClick","dayWiseButtonClick","change"],setup(_,{emit:i}){const m=_,f=i;function u(){f("change",ie(new Date))}function y(){var g;const[o,t]=(g=m.selectedMonth)==null?void 0:g.split("-").map(Number),a=new Date(o,t,1);a.setMonth(a.getMonth()),f("change",ie(a))}function l(){var g;const[o,t]=(g=m.selectedMonth)==null?void 0:g.split("-").map(Number),a=new Date(o,t,1);a.setMonth(a.getMonth()-2),f("change",ie(a))}return(o,t)=>(n(),r("div",lt,[t[4]||(t[4]=e("h2",{class:"leading-none font-semibold text-lg"},"Monthly Task",-1)),e("button",{class:"btn-3 mx-4 h-7",onClick:t[0]||(t[0]=w(a=>f("dayWiseButtonClick"),["prevent"]))},"Day Wise"),e("button",{class:"btn-3 mx-4 h-7",onClick:w(u,["prevent"])},"Current Month"),e("button",{class:D(["btn-3 px-2 py-2 mx-4 size-7 disabled:text-gray-300 disabled:border-gray-300",{"animate-spin text-gray-300 border-gray-300 !bg-opacity-0":_.loading}]),onClick:t[1]||(t[1]=w(a=>f("reloadClick"),["prevent"])),disabled:_.loading},t[3]||(t[3]=[e("i",{class:"fas fa-redo-alt"},null,-1)]),10,rt),e("div",it,[e("button",{class:"btn-2 h-7",onClick:w(l,["prevent"])},"Previous Month"),e("button",{class:"btn-2 h-7",onClick:w(y,["prevent"])},"Next Month"),e("input",{type:"month",value:_.selectedMonth,onInput:t[2]||(t[2]=a=>{var g;return f("change",(g=a.target)==null?void 0:g.value)}),class:"border px-2 rounded"},null,40,dt)])]))}}),ct={key:0,class:"space-y-6 py-2"},pt={key:0,class:"fad fa-folder text-xs mr-2"},mt={key:1,class:"fad fa-file-alt text-xs mr-2"},yt={key:2,class:"text-center w-full mt-4 text-xs text-gray-600"},ce={__name:"TaskListOnDay",props:{isCurrentMonth:{type:Boolean,default:!1},tasks:{type:Array,default:()=>[]},limit:{type:Number,default:null},tree:{type:Boolean,default:!1}},emits:["clickOnMore"],setup(_,{emit:i}){const m=_,f=i,u=U(()=>{var y;return m.limit?((y=m==null?void 0:m.tasks)==null?void 0:y.slice(0,m.limit))||[]:[...m.tasks]});return(y,l)=>(n(),r("div",null,[_.tree?(n(),r("div",ct,[(n(!0),r(q,null,V(u.value,(o,t)=>(n(),R(je,{"hide-buttons":"","hide-assigned-users":"",task:o,key:o.id,index:t,class:"shadow hover:shadow-md border border-blue-300 rounded-md *:border-none"},null,8,["task","index"]))),128))])):(n(),r("ul",{key:1,class:D({"text-gray-500 group-hover:text-gray-900":!_.isCurrentMonth})},[(n(!0),r(q,null,V(u.value,o=>(n(),r("li",{class:"mb-2",key:o.id},[M(k(Te),{to:`/tasks/${o.id}`,target:"_blank",class:"flex items-center hover:underline hover:text-blue-600"},{default:L(()=>[o.children_task_count>0?(n(),r("i",pt)):T("",!0),o.children_task_count==0?(n(),r("i",mt)):T("",!0),e("span",{class:D(["line-clamp-1",{"text-red-800":o.deadline_crossed}])},v(o.title),3)]),_:2},1032,["to"])]))),128))],2)),_.tasks.length-u.value.length>0?(n(),r("div",yt,[e("button",{onClick:l[0]||(l[0]=w(o=>f("clickOnMore",o),["prevent"])),class:"text-blue-600 hover:underline"}," +"+v(_.tasks.length-u.value.length)+" More Tasks ",1)])):T("",!0)]))}},vt={class:"relative"},ft={class:"ml-auto"},xt=["onClick"],gt={key:0,class:"absolute inset-0 bg-gray-300 bg-opacity-90"},bt={class:"absolute inset-16 bg-white border border-blue-500 rounded-md z-20 overflow-y-auto"},ht={class:"text-lg font-semibold mb-4 sticky top-0 border-b border-blue-200 px-4 z-30 py-3 bg-white flex items-center"},_t={__name:"TaskInMonth",props:{month:{type:String,required:!0,validator:_=>/^\d{4}-(0[1-9]|1[0-2])$/.test(_)},tasks:{type:Array,required:!0,default:()=>[]}},setup(_){const i=fe({day:null,month:null,year:null});function m(o){o.stopPropagation(),i.day=null,i.month=null,i.year=null}function f(o,t,a,g){o.stopPropagation(),i.day=t,i.month=a,i.year=g}const u=(o,t,a)=>{const g=new Date;return o===g.getDate()&&t===g.getMonth()+1&&a===g.getFullYear()},y=(o,t,a)=>o===i.day&&t===i.month&&a===i.year,l=(o,t,a,g)=>{const A=u(o,t,a);return{"bg-green-100 text-green-900 border-blue-500 border-2 scale-105 z-10":A,"border-r border-t hover:border border-blue-200  hover:scale-105 hover:z-20 hover:bg-blue-50":!A,"bg-gray-50":!g}};return(o,t)=>(n(),r("div",vt,[_.month?(n(),R(Be,{key:0,month:_.month,class:"border-t border-blue-200/50 relative"},{date:L(({day:a,month:g,year:A,isCurrentMonth:h})=>[e("div",{tabindex:"0",class:D(["transition origin-center p-2 outline-blue-600 outline-1 cursor-pointer",l(a,g,A,h)])},[e("div",{class:D(["font-bold w-full flex items-center",{"text-gray-300":!h}])},[e("div",null,v(a),1),e("div",ft,[y(a,g,A)?T("",!0):(n(),r("button",{key:0,class:"btn-icon",onClick:w(d=>f(d,a,g,A),["prevent"])},t[0]||(t[0]=[e("i",{class:"fas fa-expand-arrows text-gray-400 hover:text-gray-600"},null,-1)]),8,xt))])],2),M(ce,{"is-current-month":h,tasks:k(ue)(_.tasks,a,g,A),limit:3,class:"text-xs mt-4",onClickOnMore:d=>f(d,a,g,A)},null,8,["is-current-month","tasks","onClickOnMore"])],2)]),"calender-bottom":L(()=>[i.day?(n(),r("div",gt,[e("div",bt,[e("div",ht,[C(" Tasks for "+v(i.day)+"/"+v(i.month)+"/"+v(i.year)+" ",1),e("button",{class:"ml-auto",type:"button",onClick:w(m,["prevent"])},t[1]||(t[1]=[e("i",{class:"fas fa-times"},null,-1)]))]),M(ce,{class:"p-4","is-current-month":o.isCurrentMonth,tasks:k(ue)(_.tasks,i.day,i.month,i.year),tree:!0},null,8,["is-current-month","tasks"])])])):T("",!0)]),_:1},8,["month"])):T("",!0)]))}},kt={class:"bg-opacity-90 relative"},wt={class:"rounded-md z-20"},$t={class:"text-md sticky top-0 border-b px-4 z-30 py-3 bg-white flex items-center shadow"},Dt={class:"flex justify-between items-center gap-6 w-full"},Ct={key:0,class:"text-blue-800 bg-blue-100 rounded-full border px-4 py-0.5 text-sm"},Mt={key:1,class:"text-blue-800 bg-blue-100 rounded-full border px-4 py-0.5 text-sm"},Lt={class:"ml-auto flex items-center gap-2"},Tt={key:0,class:"w-32 relative h-8"},At={__name:"DailyTask",setup(_){const i=fe({day:null,month:null,year:null}),m=j(),f=j(),u=j("loading"),y=Pe(),l=pe(),o=j(""),t=j("day-wise"),a=j("not-completed");xe(()=>{m.value=re(new Date),f.value=ie(new Date)}),J(m,d=>{const[p,b,O]=d.split("-").map(Number);i.day=O,i.month=b,i.year=p}),J(f,d=>{const[p,b]=d.split("-").map(Number);i.day=1,i.month=b,i.year=p}),J(()=>i.month,async()=>{u.value="loading",await g(),u.value=""}),J(t,d=>{if(d=="month-wise"){const[p,b]=m.value.split("-");f.value=`${p}-${b}`}});async function g(){await y.fetchMyTasks()}const A=async()=>{u.value="loading",await g(),u.value=""},h=U(()=>{var b,O;const d=S=>{var N,W;return o.value?(W=S==null?void 0:S.toUpperCase())==null?void 0:W.includes((N=o.value)==null?void 0:N.toUpperCase()):!0},p=t.value=="day-wise"?{"user-ids":(b=l==null?void 0:l.user)==null?void 0:b.id,status:a.value}:{"user-ids":(O=l==null?void 0:l.user)==null?void 0:O.id};return Ee(ue(y.tasks,i.day,i.month,i.year),p).filter(S=>{var N;return d(S.title)||((N=S.children_tasks)==null?void 0:N.some(W=>d(W==null?void 0:W.title)))}).map(S=>({...S,children_tasks:S.children_tasks.filter(N=>d(N.title))}))});return(d,p)=>(n(),r("div",null,[t.value=="day-wise"?(n(),R(at,{key:0,loading:u.value=="loading","selected-day":m.value,onChange:p[0]||(p[0]=b=>m.value=b),onReloadClick:A,onMonthWiseButtonClick:p[1]||(p[1]=b=>t.value="month-wise")},null,8,["loading","selected-day"])):T("",!0),t.value=="month-wise"?(n(),R(ut,{key:1,loading:u.value=="loading","selected-month":f.value,onChange:p[2]||(p[2]=b=>f.value=b),onDayWiseButtonClick:p[3]||(p[3]=b=>t.value="day-wise"),onReloadClick:A},null,8,["loading","selected-month"])):T("",!0),e("div",kt,[e("div",wt,[e("div",$t,[e("div",Dt,[t.value=="day-wise"?(n(),r("div",Ct,v(k(qe)(m.value)),1)):T("",!0),t.value=="month-wise"?(n(),r("div",Mt,v(k(Oe)(f.value)),1)):T("",!0),e("div",Lt,[t.value=="day-wise"?(n(),r("div",Tt,[p[7]||(p[7]=e("label",{class:"absolute text-xs left-3 -top-1.5 bg-slate-100 text-blue-500"},"Status",-1)),ne(e("select",{"onUpdate:modelValue":p[4]||(p[4]=b=>a.value=b),class:"h-8 text-xs px-2 text-gray-600 border-2 border-gray-400 rounded-md w-full"},p[6]||(p[6]=[e("option",{value:""},"--ALL TASKS--",-1),e("option",{value:"not-completed"},"Not Completed",-1)]),512),[[Ae,a.value]])])):T("",!0),M(Ne,{modelValue:o.value,"onUpdate:modelValue":p[5]||(p[5]=b=>o.value=b),class:"w-full md:w-48 md:ml-auto h-8","debounce-time":0},null,8,["modelValue"])])])]),t.value=="day-wise"?(n(),R(ce,{key:0,class:"p-4 overflow-y-auto",tasks:h.value,tree:!0},null,8,["tasks"])):t.value=="month-wise"?(n(),R(_t,{key:1,tasks:h.value||[],month:f.value,class:"bg-gray-50"},null,8,["tasks","month"])):T("",!0)]),u.value==="loading"?(n(),R(Re,{key:0,class:"absolute inset-0 flex items-center justify-center z-20 bg-opacity-70"})):T("",!0)])]))}},St={class:"bg-white shadow-md rounded-lg"},Rt={class:"overflow-x-auto shadow-md min-h-max"},Nt={class:"min-w-full text-sm text-left text-gray-500 table-fixed"},qt={class:"text-xs"},Ot={class:"text-sm font-semibold text-blue-800"},Et={__name:"DashboardLeaveBalance",setup(_){const i=oe(),{userDashboard:m}=X(i);return(f,u)=>{var y,l,o,t;return n(),r("div",St,[u[4]||(u[4]=e("h2",{class:"text-xl font-semibold py-2 px-4"},"Leave Balance",-1)),e("div",Rt,[e("table",Nt,[e("thead",null,[e("tr",qt,[u[0]||(u[0]=e("th",{class:"px-2 py-1 font-semibold text-gray-900 border bg-gray-50"},null,-1)),(n(!0),r(q,null,V((y=k(m))==null?void 0:y.leave_balance,a=>(n(),r("th",{class:"px-4 text-center py-1 font-semibold text-gray-900 border bg-gray-50 w-40",key:a.id},v(a.name),1))),128))])]),e("tbody",null,[e("tr",null,[u[1]||(u[1]=e("td",{class:"px-4 py-4 font-medium text-gray-900 border text-xs"},"Total",-1)),(n(!0),r(q,null,V((l=k(m))==null?void 0:l.leave_balance,a=>(n(),r("td",{class:"px-4 text-center py-3 font-medium text-gray-900 border",key:a.id},v(a.annual_quota),1))),128))]),e("tr",null,[u[2]||(u[2]=e("td",{class:"px-4 py-3 font-medium text-gray-900 border text-xs"},"Used",-1)),(n(!0),r(q,null,V((o=k(m))==null?void 0:o.leave_balance,a=>(n(),r("td",{class:"px-4 text-center py-4 font-medium text-gray-900 border",key:a.id},v(a.used_days),1))),128))]),e("tr",Ot,[u[3]||(u[3]=e("td",{class:"px-4 py-3 border text-xs"},"Balance",-1)),(n(!0),r(q,null,V((t=k(m))==null?void 0:t.leave_balance,a=>(n(),r("td",{class:"px-4 text-center py-4 border",key:a.id},v(a.remaining_days),1))),128))])])])])])}}},Pt={class:"flex items-center gap-2 mr-2"},Bt=["onClick"],Ut=["onClick"],jt={__name:"DashboardMyTodoList",setup(_){const i=ge(),m=ye();function f(u){m.push({query:{...i.query,"todos[type]":u.type,"todos[year]":u.year,"todos[month]":u.month,"todos[day]":u.day}})}return(u,y)=>(n(),R(Ue,{type:k(i).query["todos[type]"],year:k(i).query["todos[year]"],month:k(i).query["todos[month]"],day:k(i).query["todos[day]"],userRole:"employee",onChangeInput:f},{beforeHeader:L(()=>y[0]||(y[0]=[e("h2",{class:"text-md font-medium"},"Todo List",-1)])),typeSelection:L(({types:l,changeType:o,selected:t})=>{var a,g,A,h;return[e("div",Pt,[e("button",{onClick:w(d=>{var p;return o((p=l[0])==null?void 0:p.value)},["prevent"]),class:D(["rounded text-sm h-[32px] w-20",(t==null?void 0:t.type)==((a=l[0])==null?void 0:a.value)?"btn-2":"btn-3"])},v((g=l[0])==null?void 0:g.label),11,Bt),e("button",{onClick:w(d=>{var p;return o((p=l[1])==null?void 0:p.value)},["prevent"]),class:D(["rounded text-sm h-[32px] w-20",(t==null?void 0:t.type)==((A=l[1])==null?void 0:A.value)?"btn-2 ":"btn-3"])},v((h=l[1])==null?void 0:h.label),11,Ut)])]}),_:1},8,["type","year","month","day"]))}},Vt={class:"bg-white shadow-sm rounded-xl p-4"},Ft=["aria-expanded"],It={class:"flex items-center gap-3"},Wt={key:0,class:"text-xs italic text-center py-4 text-gray-500 mt-2"},zt={key:1,class:"py-3 divide-y divide-gray-100"},Yt=["onClick"],Kt={class:"flex justify-between items-center py-2 rounded hover:bg-sky-50/60 transition-colors"},Ht={class:"text-sm text-gray-900 min-w-0"},Gt={class:"font-medium"},Jt={class:"opacity-70"},Xt={key:0,class:"fas fa-clock mr-1.5"},Zt={key:1,class:"fas fa-hourglass-half mr-1.5"},Qt={key:2,class:"fas fa-check-circle mr-1.5"},es={key:3,class:"fas fa-times-circle mr-1.5"},ts={class:"mb-1 text-gray-700 flex flex-wrap items-center gap-x-2.5 gap-y-1"},ss=["title"],ns={class:"truncate max-w-[9.5rem] sm:max-w-none"},os={class:"truncate max-w-[9.5rem] sm:max-w-none"},as={key:1,class:"truncate max-w-[10rem] sm:max-w-none"},ls=["title"],rs={class:"mt-6"},is=["aria-expanded"],ds={class:"flex items-center gap-3"},us={key:0,class:"text-xs italic text-center py-4 text-gray-500 mt-2"},cs={key:1,class:"py-3 divide-y divide-gray-100"},ps=["onClick"],ms={class:"flex justify-between items-center py-2 rounded hover:bg-sky-50/60 transition-colors"},ys={class:"text-sm text-gray-900 min-w-0"},vs={class:"opacity-80"},fs={class:"mt-6"},xs=["aria-expanded"],gs={class:"flex items-center gap-3"},bs={key:0,class:"text-xs italic text-center py-4 text-gray-500 mt-2"},hs={key:1,class:"py-3 divide-y divide-gray-100"},_s=["onClick"],ks={class:"flex justify-between items-center py-2 rounded hover:bg-sky-50/60 transition-colors"},ws={class:"text-sm text-gray-900 min-w-0"},$s={class:"opacity-80"},Ds={class:"mt-6"},Cs=["aria-expanded"],Ms={class:"flex items-center gap-3"},Ls={key:0,class:"text-xs italic text-center py-4 text-gray-500 mt-2"},Ts={key:1,class:"py-3 divide-y divide-gray-100"},As=["onClick"],Ss={class:"flex justify-between items-center py-2 rounded hover:bg-sky-50/60 transition-colors"},Rs={class:"text-sm text-gray-900 min-w-0"},Ns={class:"opacity-80"},te="inline-flex items-center rounded-full border px-2 py-0.5 text-[12px]",se="border-gray-300 bg-gray-50 text-gray-800",qs={__name:"DashboardRecentApplications",setup(_){const i=Q(()=>ee(()=>import("./LeaveApplicationModal-DLdXHjUD.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),m=Q(()=>ee(()=>import("./ShortLeaveDetailsModal-ObkAlUPS.js"),__vite__mapDeps([10,1,2,3,4,5,6,11,7,12,13]))),f=Q(()=>ee(()=>import("./ManualAttendanceDetailsModal-DAh_YtiM.js"),__vite__mapDeps([14,1,2,3,4,5,6,7,15,16]))),u=Q(()=>ee(()=>import("./ShiftExchangeDetailsModal-DODNwtgw.js"),__vite__mapDeps([17,1,2,3,4,5,6,11,7,18,19]))),y=Q(()=>ee(()=>import("./OffdayExchangeDetailsModal-Cm3FCFsw.js"),__vite__mapDeps([20,1,2,3,4,5,6,11,7,18,21]))),l=oe(),{userDashboard:o}=X(l),t=U(()=>{var x;return((x=o.value)==null?void 0:x.lists)??{}}),a=U(()=>t.value.current_month_leave??[]),g=U(()=>t.value.short_leave??[]),A=U(()=>t.value.exchange??[]),h=U(()=>t.value.manual_attendance??[]),d={null:{title:"Handover Waiting",cls:"bg-gray-500 text-white"},Pending:{title:"Pending",cls:"bg-yellow-500 text-white"},Approved:{title:"Approved",cls:"bg-green-500 text-white"},Rejected:{title:"Rejected",cls:"bg-red-500 text-white"}},p=x=>d[x??"null"]??{title:String(x||"Unknown"),cls:"bg-gray-400 text-white"},b=x=>Array.isArray(x)?x.filter(s=>s==null?void 0:s.name).map(s=>`${s.name} (${(s==null?void 0:s.days)??0})`).join(", "):"",O=j({open:!1,id:null}),S=j({open:!1,id:null}),N=j({open:!1,id:null}),W=x=>{O.value={open:!0,id:x}},be=x=>{S.value={open:!0,id:x}},he=x=>{N.value={open:!0,id:x}},Y=j({open:!1,id:null,type:null}),_e=x=>{const s=(x==null?void 0:x.exchange_type)==="offday"?"offday":"shift";Y.value={open:!0,id:x.id,type:s}},ke=U(()=>Y.value.type==="offday"?y:u),we=U(()=>`${Y.value.type||"x"}-${Y.value.id||"x"}`);function $e(x){if(!x)return null;const s=String(x).trim();let $=s.match(/^(\d{4})-(\d{2})-(\d{2})$/);return $?new Date(+$[1],+$[2]-1,+$[3],0,0,0):($=s.match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})(?::(\d{2}))?$/),$?new Date(+$[1],+$[2]-1,+$[3],+$[4],+$[5],+($[6]||0)):null)}function F(x){const s=$e(x);return s?s.toLocaleDateString(void 0,{day:"2-digit",month:"short",year:"numeric"}):""}function De(x){const s=String(x||"").match(/^(\d{4})-(\d{2})-(\d{2})$/);return s?new Date(+s[1],+s[2]-1,+s[3],0,0,0):null}function Ce(x,s){const $=new Date(x);return $.setDate($.getDate()+s),$}function Me(x,s){return x&&s&&x.getFullYear()===s.getFullYear()&&x.getMonth()===s.getMonth()&&x.getDate()===s.getDate()}function ae(x){const s=x.getFullYear(),$=String(x.getMonth()+1).padStart(2,"0"),c=String(x.getDate()).padStart(2,"0");return`${s}-${$}-${c}`}function Le(x){const s=Array.isArray(x)?x.slice():[],$=E=>Array.from(new Set(E)).sort(),c=$(s.filter(E=>(E==null?void 0:E.leave_type_id)!=="weekend").map(E=>E.date).filter(Boolean)),z=$(s.filter(E=>(E==null?void 0:E.leave_type_id)==="weekend").map(E=>E.date).filter(Boolean)),B=[];let K=null,G=null;for(const E of c){const Z=De(E);if(Z){if(!K){K=G=Z;continue}Me(Ce(G,1),Z)?G=Z:(B.push({from:ae(K),to:ae(G)}),K=G=Z)}}return K&&G&&B.push({from:ae(K),to:ae(G)}),{ranges:B,weekends:z,leaveCount:c.length}}const P=j({apps:!0,short:!0,exch:!0,manual:!0}),I=x=>{P.value[x]=!P.value[x]};return(x,s)=>{const $=me("RouterLink");return n(),r("div",Vt,[e("section",null,[e("header",{class:"flex items-center justify-between mb-1 cursor-pointer select-none",role:"button","aria-expanded":P.value.apps,onClick:s[1]||(s[1]=c=>I("apps")),onKeydown:[s[2]||(s[2]=H(w(c=>I("apps"),["prevent"]),["enter"])),s[3]||(s[3]=H(w(c=>I("apps"),["prevent"]),["space"]))],tabindex:"0"},[s[22]||(s[22]=e("div",{class:"flex items-center gap-2"},[e("i",{class:"fas fa-file h-5 w-5 text-gray-600"}),e("h2",{class:"text-lg font-semibold text-gray-900"},[C("Applications "),e("span",{class:"text-xs ml-2 text-green-600 font-medium"},"Latest")])],-1)),e("div",It,[M($,{to:{name:"MyLeaveApplications"},class:"text-xs text-blue-600 hover:underline",onClick:s[0]||(s[0]=w(()=>{},["stop"]))},{default:L(()=>s[21]||(s[21]=[C(" See more ")])),_:1,__:[21]}),e("i",{class:D(["fas fa-chevron-down text-gray-600 transition-transform duration-200",P.value.apps?"rotate-180":""]),"aria-hidden":"true"},null,2)])],40,Ft),ne(e("div",null,[s[26]||(s[26]=e("hr",{class:"border-gray-200"},null,-1)),a.value.length===0?(n(),r("div",Wt," No applications ")):(n(),r("div",zt,[(n(!0),r(q,null,V(a.value,c=>(n(),r("button",{key:c.id,class:"block w-full text-left",onClick:z=>W(c.id)},[e("div",Kt,[e("h3",Ht,[e("span",Gt,"#"+v(c.id),1),e("span",Jt," ("+v(b(c.leave_type_counts))+")",1)]),e("span",{class:D(["font-medium flex items-center whitespace-nowrap text-[11px] px-2 py-0.5 rounded-full",p(c.status).cls])},[c.status===null?(n(),r("i",Xt)):c.status==="Pending"?(n(),r("i",Zt)):c.status==="Approved"?(n(),r("i",Qt)):(n(),r("i",es)),C(" "+v(p(c.status).title),1)],2)]),e("div",ts,[(n(!0),r(q,null,V([Le(c.json_data)],z=>(n(),r(q,{key:"info-"+c.id},[z.leaveCount>1?(n(!0),r(q,{key:0},V(z.ranges,(B,K)=>(n(),r("span",{key:K,class:D([te,se]),title:B.from===B.to?F(B.from):F(B.from)+" – "+F(B.to)},[s[24]||(s[24]=e("i",{class:"far fa-calendar-minus mr-1"},null,-1)),B.from!==B.to?(n(),r(q,{key:0},[e("span",ns,v(F(B.from)),1),s[23]||(s[23]=e("span",{class:"mx-1"},"–",-1)),e("span",os,v(F(B.to)),1)],64)):(n(),r("span",as,v(F(B.from)),1))],10,ss))),128)):(n(),r(q,{key:1},[z.ranges[0]?(n(),r("span",{key:0,class:D([te,se]),title:F(z.ranges[0].from)},[s[25]||(s[25]=e("i",{class:"far fa-calendar-day mr-1"},null,-1)),C(" "+v(F(z.ranges[0].from)),1)],10,ls)):T("",!0)],64))],64))),128))])],8,Yt))),128))]))],512),[[le,P.value.apps]])]),e("section",rs,[e("header",{class:"flex items-center justify-between mb-1 cursor-pointer select-none",role:"button","aria-expanded":P.value.short,onClick:s[5]||(s[5]=c=>I("short")),onKeydown:[s[6]||(s[6]=H(w(c=>I("short"),["prevent"]),["enter"])),s[7]||(s[7]=H(w(c=>I("short"),["prevent"]),["space"]))],tabindex:"0"},[s[28]||(s[28]=e("div",{class:"flex items-center gap-2"},[e("i",{class:"fas fa-walking h-5 w-5 text-gray-600"}),e("h2",{class:"text-base font-semibold text-gray-900"},"Short Leave")],-1)),e("div",ds,[M($,{to:{name:"MyShortLeaves"},class:"text-xs text-blue-600 hover:underline",onClick:s[4]||(s[4]=w(()=>{},["stop"]))},{default:L(()=>s[27]||(s[27]=[C(" See more ")])),_:1,__:[27]}),e("i",{class:D(["fas fa-chevron-down text-gray-600 transition-transform duration-200",P.value.short?"rotate-180":""]),"aria-hidden":"true"},null,2)])],40,is),ne(e("div",null,[s[29]||(s[29]=e("hr",{class:"border-gray-200"},null,-1)),g.value.length===0?(n(),r("div",us," No short leave ")):(n(),r("div",cs,[(n(!0),r(q,null,V(g.value,c=>(n(),r("button",{key:c.id,class:"w-full text-left",onClick:z=>be(c.id)},[e("div",ms,[e("h3",ys,[e("span",{class:D([te,se,"text-xs mr-1"])},v(F(c.date)),3),e("span",vs,"("+v(c.type||"—")+")",1)]),e("span",{class:D(["text-[11px] px-2 py-0.5 rounded-full",p(c.status).cls])},v(p(c.status).title),3)])],8,ps))),128))]))],512),[[le,P.value.short]])]),e("section",fs,[e("header",{class:"flex items-center justify-between mb-1 cursor-pointer select-none",role:"button","aria-expanded":P.value.exch,onClick:s[10]||(s[10]=c=>I("exch")),onKeydown:[s[11]||(s[11]=H(w(c=>I("exch"),["prevent"]),["enter"])),s[12]||(s[12]=H(w(c=>I("exch"),["prevent"]),["space"]))],tabindex:"0"},[s[32]||(s[32]=e("div",{class:"flex items-center gap-2"},[e("i",{class:"fas fa-exchange-alt h-5 w-5 text-gray-600"}),e("h2",{class:"text-base font-semibold text-gray-900"},"Exchange")],-1)),e("div",gs,[M($,{to:{name:"MyShiftExchangeList"},class:"text-xs text-blue-600 hover:underline",onClick:s[8]||(s[8]=w(()=>{},["stop"]))},{default:L(()=>s[30]||(s[30]=[C(" Shift ")])),_:1,__:[30]}),M($,{to:{name:"MyOffdayExchangeList"},class:"text-xs text-blue-600 hover:underline",onClick:s[9]||(s[9]=w(()=>{},["stop"]))},{default:L(()=>s[31]||(s[31]=[C(" Offday ")])),_:1,__:[31]}),e("i",{class:D(["fas fa-chevron-down text-gray-600 transition-transform duration-200",P.value.exch?"rotate-180":""]),"aria-hidden":"true"},null,2)])],40,xs),ne(e("div",null,[s[33]||(s[33]=e("hr",{class:"border-gray-200"},null,-1)),A.value.length===0?(n(),r("div",bs," No exchange ")):(n(),r("div",hs,[(n(!0),r(q,null,V(A.value,c=>(n(),r("button",{key:c.id,class:"block w-full text-left",onClick:z=>_e(c)},[e("div",ks,[e("h3",ws,[e("span",{class:D([te,se,"text-xs mr-1"])},v(F(c.current_date)),3),e("span",$s,"("+v(c.exchange_type||"—")+")",1)]),e("span",{class:D(["text-[11px] px-2 py-0.5 rounded-full",p(c.status).cls])},v(p(c.status).title),3)])],8,_s))),128))]))],512),[[le,P.value.exch]])]),e("section",Ds,[e("header",{class:"flex items-center justify-between mb-1 cursor-pointer select-none",role:"button","aria-expanded":P.value.manual,onClick:s[14]||(s[14]=c=>I("manual")),onKeydown:[s[15]||(s[15]=H(w(c=>I("manual"),["prevent"]),["enter"])),s[16]||(s[16]=H(w(c=>I("manual"),["prevent"]),["space"]))],tabindex:"0"},[s[35]||(s[35]=e("div",{class:"flex items-center gap-2"},[e("i",{class:"fas fa-user-check h-5 w-5 text-gray-600"}),e("h2",{class:"text-base font-semibold text-gray-900"},"Manual Attendance")],-1)),e("div",Ms,[M($,{to:{name:"MyManualAttendanceList"},class:"text-xs text-blue-600 hover:underline",onClick:s[13]||(s[13]=w(()=>{},["stop"]))},{default:L(()=>s[34]||(s[34]=[C(" See more ")])),_:1,__:[34]}),e("i",{class:D(["fas fa-chevron-down text-gray-600 transition-transform duration-200",P.value.manual?"rotate-180":""]),"aria-hidden":"true"},null,2)])],40,Cs),ne(e("div",null,[s[36]||(s[36]=e("hr",{class:"border-gray-200"},null,-1)),h.value.length===0?(n(),r("div",Ls," No manual application ")):(n(),r("div",Ts,[(n(!0),r(q,null,V(h.value,c=>(n(),r("button",{key:c.id,class:"block w-full text-left",onClick:z=>he(c.id)},[e("div",Ss,[e("h3",Rs,[e("span",{class:D([te,se,"text-xs mr-1"])},v(c.check_in?F(c.check_in):F(c.check_out)),3),e("span",Ns,"("+v(c.type||"—")+")",1)]),e("span",{class:D(["text-[11px] px-2 py-0.5 rounded-full",p(c.status).cls])},v(p(c.status).title),3)])],8,As))),128))]))],512),[[le,P.value.manual]])]),O.value.open?(n(),R(k(i),{key:0,open:O.value.open,"onUpdate:open":s[17]||(s[17]=c=>O.value.open=c),id:O.value.id},null,8,["open","id"])):T("",!0),S.value.open?(n(),R(k(m),{key:1,open:S.value.open,"onUpdate:open":s[18]||(s[18]=c=>S.value.open=c),id:S.value.id},null,8,["open","id"])):T("",!0),N.value.open?(n(),R(k(f),{key:2,open:N.value.open,"onUpdate:open":s[19]||(s[19]=c=>N.value.open=c),id:N.value.id},null,8,["open","id"])):T("",!0),Y.value.open?(n(),R(Se(ke.value),{key:we.value,open:Y.value.open,"onUpdate:open":s[20]||(s[20]=c=>Y.value.open=c),id:Y.value.id},null,40,["open","id"])):T("",!0)])}}},Os={class:"bg-white shadow-sm rounded-xl p-3"},Es={class:"flex items-center justify-between"},Ps={key:0,class:"text-[11px] text-gray-500"},Bs={class:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded-full bg-blue-50 text-blue-700"},Us={key:0,class:"text-xs italic text-center py-6 text-gray-500"},js={key:1,class:"space-y-2"},Vs={class:"flex items-start gap-3 min-w-0"},Fs={class:"min-w-0"},Is={class:"text-sm font-medium text-gray-900 truncate"},Ws={class:"text-[11px] text-gray-500 mt-0.5"},zs={class:"text-base font-semibold text-gray-800 flex items-center gap-2 p-3"},Ys={class:"space-y-4 px-3 pb-4"},Ks={class:"text-xs text-gray-500 flex items-center gap-2"},Hs={class:"flex justify-end gap-2 mt-2"},Gs={__name:"DashboardRecentNotices",setup(_){const i=oe(),{userDashboard:m}=X(i),f=ye(),u=h=>{if(!h)return"—";const d=new Date(h);return isNaN(+d)?h:new Intl.DateTimeFormat(void 0,{day:"2-digit",month:"short",year:"numeric"}).format(d)},y=h=>{if(!h)return"";const d=new Date(h);if(isNaN(+d))return"";const p=(Date.now()-d.getTime())/1e3,b=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"}),O=[["year",60*60*24*365],["month",60*60*24*30],["week",60*60*24*7],["day",60*60*24],["hour",60*60],["minute",60],["second",1]];for(const[S,N]of O){const W=Math.round(p/N);if(Math.abs(W)>=1)return b.format(-W,S)}return b.format(0,"second")},l=h=>{const d=u(h),p=y(h);return p?`${d} · ${p}`:d},o=U(()=>{var h;return((h=m.value)==null?void 0:h.notices)??[]}),t=U(()=>[...o.value].sort((d,p)=>{const b=d!=null&&d.user_feedback?1:0,O=p!=null&&p.user_feedback?1:0;if(b!==O)return b-O;const S=new Date((d==null?void 0:d.published_at)||0).getTime();return new Date((p==null?void 0:p.published_at)||0).getTime()-S})),a=U(()=>t.value.find(h=>!(h!=null&&h.user_feedback))||null),g=j(!!a.value);J(a,h=>{g.value=!!h});const A=h=>{const d=h||a.value;if(!d)return;const p=d.type===1?`/notice-details/${d.id}`:`/policy-details/${d.id}`;f.push(p)};return(h,d)=>{const p=me("RouterLink");return n(),r("div",Os,[e("div",Es,[d[4]||(d[4]=e("div",{class:"flex items-center gap-1.5"},[e("i",{class:"fas fa-bell"}),e("h2",{class:"text-base font-semibold"},"Notices")],-1)),t.value.length?(n(),r("div",Ps,[e("span",Bs,[d[3]||(d[3]=e("span",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"},null,-1)),C(" "+v(t.value.filter(b=>!b.user_feedback).length)+" pending ",1)])])):T("",!0)]),d[10]||(d[10]=e("hr",{class:"my-2 border-gray-200"},null,-1)),t.value.length?(n(),r("div",js,[(n(!0),r(q,null,V(t.value,b=>(n(),r("article",{key:b.id,class:"group flex items-center justify-between gap-2 p-3 border border-gray-100 rounded-lg hover:border-blue-200 transition"},[e("div",Vs,[e("span",{class:D(["inline-flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium mt-0.5",b.user_feedback?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"])},[e("span",{class:D(["h-2 w-2 rounded-full",b.user_feedback?"bg-emerald-600":"bg-rose-600 animate-pulse"])},null,2)],2),e("div",Fs,[e("h3",Is,v(b.title||"Untitled notice"),1),e("p",Ws,[d[5]||(d[5]=e("i",{class:"fas fa-calendar-alt text-gray-400 mr-1"},null,-1)),C(" "+v(l(b.published_at)),1)])])]),M(p,{to:b.type===1?`/notice-details/${b.id}`:`/policy-details/${b.id}`,class:"shrink-0 inline-flex items-center gap-1 text-blue-600 hover:text-blue-700 text-xs font-semibold"},{default:L(()=>d[6]||(d[6]=[C(" View "),e("i",{class:"fas fa-arrow-right text-[10px]"},null,-1)])),_:2,__:[6]},1032,["to"])]))),128))])):(n(),r("div",Us," No pending notice found ")),a.value?(n(),R(Ve,{key:2,show:g.value,onClose:d[2]||(d[2]=b=>g.value=!1)},{default:L(()=>[e("div",zs,[d[7]||(d[7]=e("i",{class:"fas fa-bell text-blue-600"},null,-1)),C(" "+v(a.value.title||"New notice"),1)]),e("div",Ys,[e("p",Ks,[d[8]||(d[8]=e("i",{class:"fas fa-calendar-alt text-gray-400"},null,-1)),C(" Published: "+v(l(a.value.published_at)),1)]),d[9]||(d[9]=e("p",{class:"text-sm text-gray-700"}," You must read this notice before proceeding. ",-1)),e("div",Hs,[e("button",{onClick:d[0]||(d[0]=b=>g.value=!1),class:"bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium px-3 py-1.5 rounded-md transition text-sm"}," Later "),e("button",{onClick:d[1]||(d[1]=b=>A(a.value)),class:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-1.5 rounded-md transition text-sm"}," Read ")])])]),_:1},8,["show"])):T("",!0)])}}},Js={class:"w-full px-6 py-4"},Xs={class:"grid lg:grid-cols-4 gap-6 items-start"},Zs={class:"gap-0 rounded-md bg-white shadow-md border border-gray-300 col-span-full lg:col-span-3 lg:row-span-2"},Qs={class:"flex items-center justify-center gap-4 py-2"},en={class:"col-span-full lg:col-span-1 grid sm:grid-cols-2 lg:grid-cols-1 gap-6 sticky top-[80px]"},tn={class:"card-bg gap-0 shadow-md border border-gray-300"},sn={class:"card-bg gap-0 shadow-md border border-gray-300"},nn={class:"card-bg gap-0 shadow-md border border-gray-300"},on={__name:"DashboardEmployeeView",setup(_){const i=j("todos"),m=ge(),f=ye();return J(()=>i.value,function(u){u!=="todos"&&f.replace({query:Object.keys(m.query).filter(y=>!y.match(/^todos\[/)).reduce((y,l)=>(y[l]=m.query[l],y),{})})}),(u,y)=>(n(),r("div",Js,[e("div",Xs,[e("div",Zs,[e("div",Qs,[e("button",{onClick:y[0]||(y[0]=w(l=>i.value="todos",["prevent"])),class:D(["!py-0.5 text-sm",{"btn-2":i.value=="todos","btn-3 hover:bg-gray-200 hover:text-blue-500":i.value!="todos"}])}," Todos ",2),e("button",{onClick:y[1]||(y[1]=w(l=>i.value="tasks",["prevent"])),class:D(["!py-0.5 text-sm",{"btn-2":i.value=="tasks","btn-3 hover:bg-gray-200 hover:text-blue-500":i.value!="tasks"}])}," Tasks ",2)]),i.value=="todos"?(n(),R(jt,{key:0})):T("",!0),i.value=="tasks"?(n(),R(At,{key:1})):T("",!0)]),e("div",en,[e("div",tn,[M(qs)]),e("div",sn,[M(Gs)]),e("div",nn,[M(Et)])])])]))}},Tn={__name:"DashBoard",setup(_){const i=pe(),m=oe(),{userDashboard:f}=X(m),{user:u}=X(i),y=U(()=>{var o;return["admin","super_admin","developer"].includes((o=u==null?void 0:u.value)==null?void 0:o.role)}),l=j(null);return xe(async()=>{var t,a;u.value||await i.fetchUser(),await m.fetchUserDashboardData(),y.value&&await m.fetchAdminDashboardData();const o=(a=(t=f.value)==null?void 0:t.notices)==null?void 0:a.find(g=>!g.user_feedback);o&&(l.value=o)}),(o,t)=>y.value&&k(i).isAdminMood?(n(),R(et,{key:0})):(n(),R(on,{key:1}))}};export{Tn as default};
