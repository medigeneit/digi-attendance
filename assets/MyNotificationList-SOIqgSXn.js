import{G as g,b as h,n as c,c as a,e as r,t as d,F as y,q as m,a as o,o as s,s as f}from"./index-2dxYNZtw.js";const x={class:"my-container"},k={key:0,class:"text-center text-gray-500"},w={key:1,class:"text-center text-red-500"},b={key:2,class:"divide-y divide-gray-200"},N=["onClick"],L={class:"text-sm text-gray-500"},S={key:0,class:"absolute top-2 right-2"},C={key:0,class:"p-4 text-center"},D={__name:"MyNotificationList",setup(B){const n=g();h(()=>{n.fetchNotifications()});const u=c(()=>n.notifications),p=c(()=>n.loading),i=c(()=>n.error),_=async(l,t)=>{await n.markAsRead(l),t&&(window.location.href=t)},v=l=>({leaveApplication:"/leave-application-show/",shortLeave:"/short-leave-show/",exchange:"/exchange-show/"})[l]||"#";return(l,t)=>(s(),a("div",x,[p.value?(s(),a("p",k,"Loading notifications...")):r("",!0),i.value?(s(),a("p",w,d(i.value),1)):r("",!0),!p.value&&!i.value?(s(),a("ul",b,[(s(!0),a(y,null,m(u.value,e=>(s(),a("li",{key:e.id,class:f([{"p-4 bg-white":e.read_at,"p-4 bg-teal-100":!e.read_at},"cursor-pointer relative"]),onClick:T=>_(e.id,v(e.data.event_type)+e.data.event_id)},[o("p",null,d(e.data.message),1),o("span",L,d(new Date(e.created_at).toLocaleString("en-US")),1),e.read_at?r("",!0):(s(),a("div",S,t[0]||(t[0]=[o("span",{class:"relative flex h-3 w-3"},[o("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),o("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})],-1)])))],10,N))),128)),u.value.length===0?(s(),a("li",C,t[1]||(t[1]=[o("p",{class:"text-gray-500"},"No notifications found.",-1)]))):r("",!0)])):r("",!0)]))}};export{D as default};
