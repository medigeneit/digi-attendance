import{b as x,u as y,e as f,k as h,c as o,o as a,a as t,l as k,p as b,n as g,h as d,f as R,F as w,x as T,w as v,t as r}from"./index-jeYAWHKr.js";import{u as C}from"./useTaskReportStore-B0Yxyi_c.js";import{u as S}from"./useTaskStore-Clwyv-0o.js";const N={class:"mt-4"},L={class:"bg-white"},V={class:"flex mb-2 items-end"},B={key:0,class:"min-w-full bg-white shadow rounded-lg overflow-hidden"},D={key:0},A=["onClick"],E={class:"px-4 py-2"},F={class:"px-4 py-2 font-medium"},M={class:"px-4 py-2 font-medium"},O={class:"px-4 py-2 font-medium"},P={key:1,class:"text-center border py-4 text-gray-500"},G={__name:"SubTasks",setup(q){const n=C();S();const p=x();y();const u=p.params.id;return f(async()=>{await n.fetchTaskReports({task_id:u})}),(m,s)=>{var i,l;const c=h("RouterLink");return a(),o("div",N,[s[5]||(s[5]=t("hr",{class:"mb-2"},null,-1)),t("div",L,[t("div",V,[s[2]||(s[2]=t("h3",{class:"text-sm uppercase mt-4"},"Task Reports",-1)),k(c,{to:{name:"TaskReportAdd",params:{todoable_id:(i=d(n).task)==null?void 0:i.id},query:{todoable_type:"task"}},onClick:s[0]||(s[0]=e=>e.stopPropagation()),class:"btn-3 ml-auto inline-flex !my-1"},{default:b(()=>s[1]||(s[1]=[g("Add Report")])),_:1,__:[1]},8,["to"])]),d(n).loading?(a(),o("div",P,"Loading...")):(a(),o("table",B,[s[4]||(s[4]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left"},"#"),t("th",{class:"px-4 py-2 text-left"},"Title"),t("th",{class:"px-4 py-2 text-left"},"Date"),t("th",{class:"px-4 py-2 text-left"},"Duration")])],-1)),t("tbody",null,[((l=d(n).task_reports)==null?void 0:l.length)===0?(a(),o("tr",D,s[3]||(s[3]=[t("td",{class:"px-4 py-4 font-medium text-gray-500 text-center",colspan:"10"},"NO REPORTS",-1)]))):R("",!0),(a(!0),o(w,null,T(d(n).task_reports,(e,_)=>(a(),o("tr",{key:e.id,class:"border-t hover:bg-gray-50 cursor-pointer",onClick:v(I=>m.goToShow(e.id),["prevent"]),role:"button"},[t("td",E,r(_+1),1),t("td",F,r(e.title),1),t("td",M,r(e.report_date),1),t("td",O,r(e.duration_hour)+" h "+r(e.duration_minute)+" m ",1)],8,A))),128))])]))])])}}};export{G as default};
