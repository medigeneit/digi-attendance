import{x as L,c as n,o,k as s,s as f,g as P,p as S,d as T,a,t as r,b as D,j as O,m as p,w as d,n as u,F as G}from"./index-Cw913uWY.js";import{h as $,k as R,l as M}from"./datetime-Du_mcDA9.js";import{_ as W}from"./DepartmentChip-BfSp02LS.js";import{_ as K}from"./UserChip-ChMfWtQH.js";const j={key:0,class:"fas fa-clock text-base",title:"Pending"},q={key:1,class:"fas fa-sync text-base",title:"Working"},A={key:2,class:"fas fa-check-square text-lg",title:"Completed"},V={key:3,class:"fas fa-pause-circle text-base",title:"Dependant"},z={key:4,class:"fas fa-history text-base",title:"Back Log"},F={__name:"TodoStatusIcon",props:{todoDate:{type:Object,required:!0}},setup(t){const c=t,m=L(()=>{switch(c.todoDate.status){case"PENDING":return"text-red-400";case"WORKING":return"text-yellow-600";case"COMPLETED":return"text-green-400";case"DEPENDANT":return"text-orange-400";case"BACK_LOG":return"text-purple-400"}return""});return(l,B)=>(o(),n("span",{class:f(m.value)},[t.todoDate.status=="PENDING"?(o(),n("i",j)):s("",!0),t.todoDate.status=="WORKING"?(o(),n("i",q)):s("",!0),t.todoDate.status=="COMPLETED"?(o(),n("i",A)):s("",!0),t.todoDate.status=="DEPENDANT"?(o(),n("i",V)):s("",!0),t.todoDate.status=="BACK_LOG"?(o(),n("i",z)):s("",!0)],2))}},U={class:""},H={class:"flex items-center gap-1"},J={class:"font-semibold"},Q={class:"line-clamp-1"},X={key:0,class:"text-[11px] font-semibold text-blue-600 mt-0.5"},Y={key:0,class:"mt-1 flex items-center gap-2"},Z={key:0,class:"line-clamp-2 text-gray-500 whitespace-nowrap mr-2"},_={key:1,class:"md:ml-auto w-full md:w-auto flex items-center justify-center gap-2"},tt={key:0,class:"flex items-center gap-1 text-red-600"},nt={__name:"TodoItemCard",props:{todoDate:{type:Object,required:!0},hideDepartment:{type:Boolean,default:!1},hideUser:{type:Boolean,default:!1},hideSortingBtn:{type:Boolean,default:!1},hideBtns:{type:Boolean,default:!1},userRole:{type:String,default:"employee"}},emits:["clickTodo","clickEdit","clickDelete","clickChangeStatus","clickDelete"],setup(t,{emit:c}){const m=P(),l=c;return(B,e)=>{var k,x,g,y,b,h,v,C,E,w;const I=S("RouterLink");return o(),n("div",{class:f(["px-4 py-4 md:py-2 cursor-pointer flex flex-wrap items-center gap-y-2 gap-x-4 text-sm",{"bg-green-100":t.todoDate.status=="COMPLETED","hover:bg-gray-50":t.todoDate.status!="COMPLETED","bg-orange-100 text-orange-800 border-b border-orange-200 hover:bg-orange-100":t.todoDate.status=="WORKING"&&u(M)(t.todoDate.date)}]),onClick:e[4]||(e[4]=d(i=>l("clickTodo",t.todoDate),["prevent"]))},[T(F,{todoDate:t.todoDate},null,8,["todoDate"]),a("div",U,[a("div",{class:f(["",{"text-green-800":t.todoDate.status=="COMPLETED","text-blue-800":t.todoDate.status!="COMPLETED"}])},[a("div",H,[a("span",J,r((k=t.todoDate.todo)==null?void 0:k.id)+" -",1),a("span",Q,r(t.todoDate.title),1)]),(g=(x=t.todoDate.todo)==null?void 0:x.todo_project)!=null&&g.title?(o(),n("div",X,[e[5]||(e[5]=a("i",{class:"fas fa-project-diagram mr-1 text-[10px]"},null,-1)),D(" "+r(t.todoDate.todo.todo_project.title),1)])):s("",!0)],2),t.todoDate.user?(o(),n("div",Y,[t.hideUser?s("",!0):(o(),O(K,{key:0,user:t.todoDate.user,"avatar-size":"xsmall"},null,8,["user"])),t.hideDepartment?s("",!0):(o(),O(W,{key:1,department:(b=(y=t.todoDate)==null?void 0:y.user)==null?void 0:b.department},null,8,["department"]))])):s("",!0)]),(h=t.todoDate.todo)!=null&&h.todo_type&&((v=t.todoDate.todo)!=null&&v.todo_type_id)?(o(),n("div",Z,[D(r((C=t.todoDate.todo)==null?void 0:C.todo_type)+" ",1),T(I,{class:"text-blue-600 font-semibold underline hover:text-sky-400",onClick:d(i=>null,["stop"]),to:{name:"RequirementTaskShow",params:{id:(E=t.todoDate.todo)==null?void 0:E.todo_type_id}}},{default:p(()=>{var i;return[e[6]||(e[6]=a("i",{class:"fas fa-link"},null,-1)),D(" "+r((i=t.todoDate.todo)==null?void 0:i.todo_type_id),1)]}),_:1,__:[6]},8,["to"])])):s("",!0),t.hideBtns?s("",!0):(o(),n("div",_,[t.todoDate.status=="WORKING"&&u($)(t.todoDate.date)?(o(),n("div",tt,e[7]||(e[7]=[a("span",{class:"fas fa-circle animate-pulse text-xs"},null,-1),a("span",{class:"text-xs"},"Working",-1)]))):s("",!0),t.todoDate.user_id===((w=u(m).user)==null?void 0:w.id)?(o(),n(G,{key:1},[t.todoDate.status==="WORKING"?(o(),n("button",{key:0,title:"Mark as Completed",class:"btn-icon bg-transparent text-green-400 border-green-400 border hover:bg-green-400 hover:text-white",onClick:e[0]||(e[0]=d(()=>l("clickChangeStatus",t.todoDate,"COMPLETED"),["prevent","stop"]))},e[8]||(e[8]=[a("i",{class:"fas fa-check"},null,-1)]))):s("",!0),t.todoDate.status==="PENDING"&&u(R)(t.todoDate.date)?(o(),n("button",{key:1,title:"Start Working",class:"btn-icon bg-transparent text-red-400 border-red-400 border hover:bg-red-400 hover:text-white",onClick:e[1]||(e[1]=d(()=>l("clickChangeStatus",t.todoDate,"WORKING"),["prevent","stop"]))},e[9]||(e[9]=[a("i",{class:"fas fa-play ml-[4px]"},null,-1)]))):s("",!0),a("button",{class:"btn-icon bg-sky-400 text-white hover:bg-sky-600 hover:text-white",onClick:e[2]||(e[2]=d(i=>{var N;return l("clickEdit",(N=t.todoDate)==null?void 0:N.todo)},["prevent","stop"]))},e[10]||(e[10]=[a("i",{class:"fas fa-pen"},null,-1)])),a("button",{class:"btn-icon bg-red-400 text-white hover:bg-red-600 hover:text-white",onClick:e[3]||(e[3]=d(()=>l("clickDelete",t.todoDate),["prevent","stop"]))},e[11]||(e[11]=[a("i",{class:"fas fa-trash-alt"},null,-1)]))],64)):s("",!0),t.hideSortingBtn?s("",!0):(o(),n("button",{key:2,onClick:d(()=>null,["stop","prevent"]),class:"btn-icon bg-gray-400 text-white hover:bg-gray-600 hover:text-white handle"},e[12]||(e[12]=[a("i",{class:"fas fa-arrows-alt-v"},null,-1)])))]))],2)}}};export{nt as _,F as a};
