import{L as U}from"./LoaderView-N13Z3Y68.js";import{_ as q}from"./ShareComponent-DGWzawUt.js";import{u as z}from"./notice-DLTEStFZ.js";import{j as G,r as y,b as J,c as l,a as e,k as K,t as n,F as T,x as V,e as O,m as g,n as M,p as Q,o,l as R,f as W}from"./index-BzFnaVZA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const X={class:"my-container space-y-6"},Y={class:"card-bg p-6"},Z={key:1,class:"text-center text-red-500"},tt={key:2,class:"grid gap-2"},et={class:"bg-gray-100 p-4 rounded-lg"},st={class:"grid md:grid-cols-2 gap-4"},ot={class:"text-sm text-gray-800"},lt={key:0,class:"text-gray-800 text-sm"},at={key:1,class:"text-lg text-gray-800"},nt={key:0,class:"text-gray-800"},it={key:1,class:"text-gray-800"},rt={key:0,class:"text-gray-800"},dt={key:1},ut={class:"text-gray-800"},pt={class:"text-gray-800"},ct={class:"col-span-full"},yt=["innerHTML"],gt={class:"flex justify-center mt-2 gap-4"},kt={__name:"NoticeShow",setup(mt){const j=z(),H=G(),I=W(),s=y(null),c=y(!0),u=y(null),m=i=>new Date(i).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),$=async()=>{var i,t;try{c.value=!0,u.value=null;const r=I.params.id;s.value=await j.fetchNotice(r)}catch(r){u.value=((t=(i=r.response)==null?void 0:i.data)==null?void 0:t.message)||"Failed to load notice details",H.error(u.value)}finally{c.value=!1}};J(async()=>{await $()});const P=async i=>{window.open(i,"_blank")};return(i,t)=>{var v,x,f,_,b,k,w,h,N,L,A,D,B,F,S,C,E;const r=Q("RouterLink");return o(),l("div",X,[e("div",Y,[t[13]||(t[13]=e("h2",{class:"title-lg text-center"},"Notice Details",-1)),c.value?(o(),K(U,{key:0,class:"shadow-none"})):u.value?(o(),l("div",Z,[e("p",null,n(u.value),1)])):(o(),l("div",tt,[e("div",et,[t[9]||(t[9]=e("p",{class:"title-md"},"Notice Info",-1)),t[10]||(t[10]=e("hr",{class:"mb-2"},null,-1)),e("div",st,[e("div",null,[t[1]||(t[1]=e("p",{class:"font-bold text-gray-600"},"Title:",-1)),e("p",ot,n((v=s.value)==null?void 0:v.title),1)]),e("div",null,[t[2]||(t[2]=e("p",{class:"font-bold text-gray-600"},"Company:",-1)),Array.isArray((x=s.value)==null?void 0:x.companies_notice)&&((_=(f=s.value)==null?void 0:f.companies_notice)!=null&&_.length)?(o(),l("p",lt,[(o(!0),l(T,null,V((b=s.value)==null?void 0:b.companies_notice,(a,d)=>{var p;return o(),l("span",{key:a.id},n(a==null?void 0:a.name)+" "+n(d<((p=s.value)==null?void 0:p.companies_notice.length)-1?", ":""),1)}),128))])):(o(),l("p",at,"All department"))]),e("div",null,[t[3]||(t[3]=e("p",{class:"font-bold text-gray-600"},"Department:",-1)),Array.isArray((k=s.value)==null?void 0:k.departments)&&((h=(w=s.value)==null?void 0:w.departments)!=null&&h.length)?(o(),l("p",nt,[(o(!0),l(T,null,V((N=s.value)==null?void 0:N.departments,(a,d)=>{var p;return o(),l("span",{key:a.id},n(a==null?void 0:a.name)+" "+n(d<((p=s.value)==null?void 0:p.departments.length)-1?", ":""),1)}),128))])):(o(),l("p",it,"All department"))]),e("div",null,[t[4]||(t[4]=e("p",{class:"font-bold text-gray-600"},"Employee:",-1)),Array.isArray((L=s.value)==null?void 0:L.employees)&&!((D=(A=s.value)==null?void 0:A.employees)!=null&&D.length)?(o(),l("p",rt," All employees ")):(o(),l("p",dt,"Multiple employees"))]),e("div",null,[t[5]||(t[5]=e("p",{class:"font-bold text-gray-600"},"Published Date:",-1)),e("p",ut,n(m((B=s.value)==null?void 0:B.published_at)),1)]),e("div",null,[t[6]||(t[6]=e("p",{class:"font-bold text-gray-600"},"Expired Date:",-1)),e("p",pt,n(m((F=s.value)==null?void 0:F.expired_at)),1)]),e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm font-bold text-gray-600 mb-2"},"File:",-1)),(S=s.value)!=null&&S.file?(o(),l("button",{key:0,onClick:t[0]||(t[0]=a=>{var d;return P((d=s.value)==null?void 0:d.file)}),class:"btn-2"}," Download File ")):O("",!0)]),e("div",ct,[t[8]||(t[8]=e("p",{class:"font-bold text-gray-600"},"Description / Body:",-1)),e("p",{class:"text-gray-800",innerHTML:(C=s.value)==null?void 0:C.description},null,8,yt)])])]),g(q),e("div",gt,[g(r,{to:{name:"NoticeList"},type:"button",class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"},{default:M(()=>t[11]||(t[11]=[R(" Back to List ")])),_:1}),g(r,{to:{name:"NoticeEdit",params:{id:(E=s.value)==null?void 0:E.id}},class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},{default:M(()=>t[12]||(t[12]=[R(" Edit ")])),_:1},8,["to"])])]))])])}}};export{kt as default};
