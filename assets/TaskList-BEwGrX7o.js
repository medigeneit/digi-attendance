import{_ as h}from"./TaskTreeView-CQiVQXAV.js";import{_ as v}from"./CommentModal-gyzRfTm4.js";import{u as x}from"./useTaskStore-DKj3_Soi.js";import{s as y,r as m,b as T,c as t,a as c,h as o,t as g,F as C,x as w,m as u,o as s,g as B}from"./index-DH2LsmVq.js";import"./useCommentStore-BMSBOhBt.js";const L={class:"container mx-auto p-6"},S={key:0,class:"text-center py-4 text-gray-500"},A={key:1,class:"text-center py-4 text-red-500"},F={key:2,class:"space-y-4"},I=1,D={__name:"TaskList",setup(M){const e=x();y(e);const k=B(),a=m(!1),n=m(null);T(()=>{e.fetchTasks()});const _=()=>{k.push({name:"TaskAdd"})},f=(d,r)=>{n.value=d,a.value=!0},p=()=>{a.value=!1,n.value=null};return(d,r)=>{var i;return s(),t("div",L,[c("div",{class:"flex justify-between items-center mb-6"},[r[0]||(r[0]=c("h2",{class:"text-2xl font-bold text-gray-800"},"Task List",-1)),c("button",{onClick:_,class:"btn-1"},"Add Task")]),o(e).loading?(s(),t("div",S,"Loading tasks...")):o(e).error?(s(),t("div",A,g(o(e).error),1)):(s(),t("div",F,[(s(!0),t(C,null,w(((i=o(e))==null?void 0:i.taskListTree)||[],l=>(s(),t("div",{key:l.id,class:"rounded-lg border bg-white overflow-hidden"},[u(h,{task:l,class:"!border-0",onCommentButtonClick:b=>f(b,l.id)},null,8,["task","onCommentButtonClick"])]))),128))])),u(v,{show:a.value,"commentable-id":n.value,"commentable-type":"task","user-id":I,"on-close":p,onSubmitted:o(e).fetchTasks},null,8,["show","commentable-id","onSubmitted"])])}}};export{D as default};
