import{u as L,e as S,m as k,A as w,c as e,o as d,a as t,q as l,i as m,j as M,h as N,v as A,k as u,g as b,F as C,n as T,t as n}from"./index-DFN3F9TA.js";import{L as V}from"./LoaderView-Bm25Ml6I.js";import{u as B}from"./short-leave-Bc2eXgVk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"space-y-2 px-4"},R={class:"flex items-center justify-between gap-2"},j={class:"grid grid-cols-3 gap-2"},E={key:0,class:"text-center py-4"},F={key:1,class:"space-y-4"},U={class:"overflow-x-auto"},q={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},H={class:"border border-gray-300 px-2"},$={class:"border border-gray-300 px-2"},z={class:"border border-gray-300 px-2"},G={class:"border border-gray-300 px-2"},I={class:"border border-gray-300 px-2"},J={class:"border border-gray-300 px-2"},K={class:"border border-gray-300 px-2 text-center"},O=["href"],P={class:"border border-gray-300 px-2"},Q={class:"border border-gray-300 px-2"},W={class:"flex gap-2"},X=["onClick"],Y={key:0},et={__name:"MyShortLeaves",setup(Z){const f=L(),o=B();S(()=>{o.fetchMyShortLeaves({date:o.selectedMonth})});const x=()=>{f.go(-1)},p=k(()=>o.shortLeaves),y=async()=>{o.fetchMyShortLeaves({date:o.selectedMonth})};function _(a){confirm("Are you sure you want to delete this application?")&&o.deleteShortLeave(a)}const h=a=>{if(!a)return"N/A";const[s,c]=a.split(":").map(Number),i=new Date;return i.setHours(s,c),i.toLocaleString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})};return(a,s)=>{var i;const c=w("RouterLink");return d(),e("div",D,[t("div",R,[t("button",{class:"btn-3",onClick:x},s[1]||(s[1]=[t("i",{class:"far fa-arrow-left"},null,-1),t("span",{class:"hidden md:flex"},"Back",-1)])),s[3]||(s[3]=t("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Short Leaves",-1)),t("div",null,[l(c,{to:{name:"ShortLeaveAdd"},class:"btn-2"},{default:m(()=>s[2]||(s[2]=[M("New Short Leave")])),_:1,__:[2]})])]),t("div",j,[N(t("input",{id:"monthSelect",type:"month","onUpdate:modelValue":s[0]||(s[0]=r=>u(o).selectedMonth=r),onChange:y,class:"input-1"},null,544),[[A,u(o).selectedMonth]])]),(i=u(o))!=null&&i.loading?(d(),e("div",E,[l(V)])):(d(),e("div",F,[t("div",U,[t("table",q,[s[8]||(s[8]=t("thead",null,[t("tr",{class:"bg-gray-200"},[t("th",{class:"border border-gray-300 px-2 text-left"},"#"),t("th",{class:"border border-gray-300 px-2 text-left"},"Date"),t("th",{class:"border border-gray-300 px-2 text-left"},"Type"),t("th",{class:"border border-gray-300 px-2 text-left"},"Start Time"),t("th",{class:"border border-gray-300 px-2 text-left"},"End Time"),t("th",{class:"border border-gray-300 px-2 text-left"},"Total Minutes"),t("th",{class:"border border-gray-300 px-2 text-left"},"Attachment"),t("th",{class:"border border-gray-300 px-2 text-left"},"Status"),t("th",{class:"border border-gray-300 px-2 text-left"},"Action")])],-1)),t("tbody",null,[(d(!0),e(C,null,T(p.value,(r,g)=>(d(),e("tr",{key:r==null?void 0:r.id,class:"border-b border-gray-200 hover:bg-blue-200"},[t("td",H,n(g+1),1),t("td",$,n(r==null?void 0:r.date),1),t("td",z,n(r==null?void 0:r.type),1),t("td",G,n(h(r==null?void 0:r.start_time)),1),t("td",I,n(h(r==null?void 0:r.end_time)),1),t("td",J,n(r==null?void 0:r.total_minutes),1),t("td",K,[r.attachment?(d(),e("a",{key:0,href:r==null?void 0:r.attachment,target:"_blank",class:"text-blue-500 underline"},s[4]||(s[4]=[t("i",{class:"fad fa-link"},null,-1)]),8,O)):b("",!0)]),t("td",P,n((r==null?void 0:r.status)||"N/A"),1),t("td",Q,[t("div",W,[l(c,{to:{name:"ShortLeaveShow",params:{id:r==null?void 0:r.id}},class:"btn-icon"},{default:m(()=>s[5]||(s[5]=[t("i",{class:"far fa-eye"},null,-1)])),_:2,__:[5]},1032,["to"]),r.status?b("",!0):(d(),e("button",{key:0,type:"button",onClick:v=>_(r==null?void 0:r.id),class:"btn-icon"},s[6]||(s[6]=[t("i",{class:"far fa-trash text-red-600"},null,-1)]),8,X))])])]))),128)),p.value.length===0?(d(),e("tr",Y,s[7]||(s[7]=[t("td",{colspan:"8",class:"p-2 text-center text-red-500"},"No short leaves found",-1)]))):b("",!0)])])])]))])}}};export{et as default};
