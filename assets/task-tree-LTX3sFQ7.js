import{r as y,x as g,c as p,o as s,h as _,a,v as f,g as x,w as b}from"./index-Cg0YgsXU.js";const v={class:"text-gray-600 relative"},T=["placeholder"],S={class:"absolute right-2 top-[50%] translate-y-[-50%] flex gap-1"},V={__name:"SearchInput",props:{modelValue:String,placeholder:{type:String,default:"Type to search..."},debounceTime:{type:Number,default:500}},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,u=y(),c=o,e=l=>{c("update:modelValue",l||void 0)};let r=0;const i=g({get(){return n.modelValue},set(l){n.debounceTime>0?(clearTimeout(r),r=setTimeout(e,n.debounceTime,l)):e(l)}});return(l,d)=>(s(),p("div",v,[_(a("input",{ref_key:"searchInput",ref:u,id:"search","onUpdate:modelValue":d[0]||(d[0]=h=>i.value=h),type:"text",class:"!pr-7 w-full rounded-md px-2 py-1 border-2 border-gray-400 placeholder:text-sm focus:outline-gray-400 h-full",placeholder:t.placeholder},null,8,T),[[f,i.value]]),d[3]||(d[3]=a("label",{class:"absolute text-xs left-2.5 -top-1.5 bg-slate-100 text-blue-500"},"Search",-1)),a("div",S,[i.value?(s(),p("i",{key:0,class:"fas fa-times opacity-35 hover:opacity-60 cursor-pointer",onClick:d[1]||(d[1]=b(()=>{e(""),u.value.focus()},["prevent"]))})):x("",!0),d[2]||(d[2]=a("i",{class:"fas fa-search opacity-80"},null,-1))])]))}};function m(t,o){var u,c,e;let n=!0;if(o!=null&&o["user-ids"]&&(n=n&&((u=t==null?void 0:t.users)==null?void 0:u.some(r=>r.id==(o==null?void 0:o["user-ids"])))),o!=null&&o.status){const r={"not-completed":["IN_PROGRESS","PENDING"],"only-completed":["COMPLETED"]},i=r==null?void 0:r[o==null?void 0:o.status];n=n&&i.includes(t==null?void 0:t.status)}return((c=t==null?void 0:t.children_tasks)==null?void 0:c.length)>0?n&&((e=t==null?void 0:t.children_tasks)==null?void 0:e.filter(r=>m(r,o)).length)>0:n}function I(t,o){var u,c;const n=e=>e.is_urgent&&e.is_important?4:e.is_urgent?3:e.is_important?2:e.is_target?1:0;return((c=(u=t==null?void 0:t.filter(e=>m(e,o)))==null?void 0:u.map(e=>{var r;return{...e,children_tasks:((r=e.children_tasks)==null?void 0:r.length)>0?I(e.children_tasks,o):[]}}))==null?void 0:c.sort((e,r)=>{const i=n(e),l=n(r);return l!==i?l-i:r.priority!==e.priority?r.priority-e.priority:r.serial!==e.serial?r.serial-e.serial:r.id-e.id}))||[]}export{V as _,I as m};
