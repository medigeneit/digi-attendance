import{_ as k}from"./AcceptAndRejectHandler-xyPdAzTz.js";import{L as v}from"./LoaderView-BNBMv1NM.js";import{u as w,b as S,a2 as A,d as B,q as i,e as N,c as d,o,a as e,t as s,k as l,p as I,g as x,F as D,x as O,f as C}from"./index-Bj6y_VZM.js";import{u as L}from"./overtime-DerEv0KZ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"space-y-2 px-4"},q={class:"flex items-center justify-between gap-2"},P={class:"title-md md:title-lg flex-wrap text-center"},R={key:0,class:"text-center py-4"},F={key:1,class:"space-y-4"},M={class:"overflow-x-auto"},T={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},U={class:"border border-gray-300 px-2 text-center"},j={class:"border border-gray-300 px-2 text-center"},E={class:"border border-gray-300 px-2 text-center"},G={class:"border border-gray-300 px-2 text-center"},W={class:"border border-gray-300 px-2 text-center"},$={class:"border border-gray-300 px-2 text-center"},z={class:"border border-gray-300 px-2 text-center"},H={class:"border border-gray-300 px-2 text-center"},J={class:"border border-gray-300 px-2 text-center"},K={class:"border border-gray-300 px-2 text-center"},Q={class:"border border-gray-300 px-2 text-center"},X={key:0},oe={__name:"OvertimeShow",setup(Y){const _=w(),h=S(),a=L(),n=A();B();const p=i(()=>a.overtimes),y=i(()=>{var c,r;return(r=(c=a.overtimes)==null?void 0:c[0])==null?void 0:r.user_id}),g=i(()=>{var c;return((c=a.overtimes)==null?void 0:c.map(r=>r.id))||[]});N(async()=>{u()});const u=async()=>{await a.fetchUserOvertimesByApplicationId(h.params.id),await n.fetchApprovalPermissionsByUserApplicationIds(y.value,"overtime_applications",g.value),await n.fetchCountNotifications()},m=()=>{_.go(-1)};return(c,r)=>{var b;return o(),d("div",V,[e("div",q,[e("div",{class:"flex items-center gap-2"},[e("button",{class:"btn-3 py-1",onClick:m},r[0]||(r[0]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)]))]),e("h1",P," Overtime of "+s(l(a).selectedMonthDisplay),1)]),(b=l(a))!=null&&b.loading?(o(),d("div",R,[I(v)])):(o(),d("div",F,[e("div",M,[e("table",T,[r[2]||(r[2]=e("thead",null,[e("tr",{class:"bg-gray-200 *:py-1"},[e("th",{class:"border border-gray-300 px-2 text-center"},"#"),e("th",{class:"border border-gray-300 px-2 text-center"},"Date"),e("th",{class:"border border-gray-300 px-2 text-center"},"Type"),e("th",{class:"border border-gray-300 px-2 text-center"},"Shift"),e("th",{class:"border border-gray-300 px-2 text-center"},"Check-In"),e("th",{class:"border border-gray-300 px-2 text-center"},"Check-Out"),e("th",{class:"border border-gray-300 px-2 text-center"},"Working (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Request (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Approved (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Status"),e("th",{class:"border border-gray-300 px-2 text-center"},"Action")])],-1)),e("tbody",null,[(o(!0),d(D,null,O(p.value,(t,f)=>(o(),d("tr",{key:t==null?void 0:t.id,class:"border-b border-gray-200 hover:bg-blue-200 *:py-2"},[e("td",U,s(f+1),1),e("td",j,s(new Date(t.date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})),1),e("td",E,s(t.duty_type),1),e("td",G,s(t.shift),1),e("td",W,s(t.check_in||"N/A"),1),e("td",$,s(t.check_out||"N/A"),1),e("td",z,s(t.working_hours||"-"),1),e("td",H,s(t.request_overtime_hours||"-"),1),e("td",J,s(t.approval_overtime_hours||"-"),1),e("td",K,s(t.status||"Pending"),1),e("td",Q,[l(n).applicationApprovalPermissions[t.id]?(o(),C(k,{key:0,class:"ml-auto",notificationType:"overtime_applications",applicationId:t.id,onSuccess:u,variant:1},null,8,["applicationId"])):x("",!0)])]))),128)),p.value.length===0?(o(),d("tr",X,r[1]||(r[1]=[e("td",{colspan:"7",class:"p-2 text-center text-red-500"},"No overtimes found",-1)]))):x("",!0)])])])]))])}}};export{oe as default};
