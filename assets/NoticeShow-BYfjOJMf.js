import{L as C}from"./LoaderView-BIoLdzPt.js";import{u as E}from"./notice-Bcn-uVdD.js";import{i as T,r as p,b as V,c as d,a as e,j as M,t as l,F as R,x as j,l as w,m as N,n as H,o as n,k as L,f as I}from"./index-debvsqJq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"my-container space-y-6"},P={class:"card-bg p-6"},U={key:1,class:"text-center text-red-500"},$={key:2,class:"grid gap-2"},q={class:"bg-gray-100 p-4 rounded-lg"},z={class:"grid md:grid-cols-2 gap-4"},G={class:"text-lg text-gray-800"},J={class:"text-lg text-gray-800"},K={class:"text-lg text-gray-800"},O={class:"text-lg text-gray-800"},Q={class:"col-span-full"},W=["innerHTML"],X={class:"flex justify-center mt-8 gap-4"},ot={__name:"NoticeShow",setup(Y){const D=E(),h=T(),B=I(),s=p(null),c=p(!0),i=p(null),g=o=>new Date(o).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),F=async()=>{var o,t;try{c.value=!0,i.value=null;const a=B.params.id;s.value=await D.fetchNotice(a)}catch(a){i.value=((t=(o=a.response)==null?void 0:o.data)==null?void 0:t.message)||"Failed to load notice details",h.error(i.value)}finally{c.value=!1}};V(async()=>{await F()});const S=async o=>{window.open(o,"_blank")};return(o,t)=>{var m,x,y,v,f,b,_;const a=H("RouterLink");return n(),d("div",A,[e("div",P,[t[11]||(t[11]=e("h2",{class:"title-lg text-center"},"Notice Details",-1)),c.value?(n(),M(C,{key:0,class:"shadow-none"})):i.value?(n(),d("div",U,[e("p",null,l(i.value),1)])):(n(),d("div",$,[e("div",q,[t[7]||(t[7]=e("p",{class:"title-md"},"Notice Info",-1)),t[8]||(t[8]=e("hr",{class:"mb-2"},null,-1)),e("div",z,[e("div",null,[t[1]||(t[1]=e("p",{class:"text-sm font-bold text-gray-600"},"Company:",-1)),e("p",G,l(((x=(m=s.value)==null?void 0:m.company)==null?void 0:x.name)||"N/A"),1)]),e("div",null,[t[2]||(t[2]=e("p",{class:"text-sm font-bold text-gray-600"},"Department:",-1)),e("p",J,[(n(!0),d(R,null,j((y=s.value)==null?void 0:y.departments,(r,u)=>{var k;return n(),d("span",{key:r.id},l(r==null?void 0:r.name)+" "+l(u<((k=s.value)==null?void 0:k.departments.length)-1?", ":""),1)}),128))])]),e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm font-bold text-gray-600"},"Published Date:",-1)),e("p",K,l(g((v=s.value)==null?void 0:v.published_at)),1)]),e("div",null,[t[4]||(t[4]=e("p",{class:"text-sm font-bold text-gray-600"},"Expired Date:",-1)),e("p",O,l(g((f=s.value)==null?void 0:f.expired_at)),1)]),e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm font-bold text-gray-600 mb-2"},"File:",-1)),e("button",{onClick:t[0]||(t[0]=r=>{var u;return S((u=s.value)==null?void 0:u.file)}),class:"btn-2"},"Download File")]),e("div",Q,[t[6]||(t[6]=e("p",{class:"text-sm font-bold text-gray-600"},"Description / Body:",-1)),e("p",{class:"text-lg text-gray-800",innerHTML:(b=s.value)==null?void 0:b.description},null,8,W)])])]),e("div",X,[w(a,{to:{name:"NoticeList"},type:"button",class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"},{default:N(()=>t[9]||(t[9]=[L(" Back to List ")])),_:1}),w(a,{to:{name:"NoticeEdit",params:{id:(_=s.value)==null?void 0:_.id}},class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},{default:N(()=>t[10]||(t[10]=[L(" Edit ")])),_:1},8,["to"])])]))])])}}};export{ot as default};
