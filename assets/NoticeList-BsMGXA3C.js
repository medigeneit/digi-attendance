import{L as w}from"./LoaderView-BZxllf5q.js";import{u as k}from"./notice-Cy9AGBnS.js";import{u as v,f as N,D as L,h as D,x as S,p as B,c as o,o as d,a as e,d as n,l as u,m as E,F as f,e as _,t as l}from"./index-B9lmPwPB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"space-y-2 px-4"},C={class:"flex items-center justify-between gap-2"},A={key:0,class:"text-center py-4"},F={key:1,class:"space-y-4"},M={class:"title-md"},T={class:"overflow-x-auto"},V={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},j={class:"border border-gray-300 px-2"},P={class:"border border-gray-300 px-2"},G={class:"border border-gray-300 px-2"},U={class:"border border-gray-300 px-2"},q={class:"border border-gray-300 px-2"},z={class:"px-2 flex justify-center text-center"},H={class:"border border-gray-300 px-2"},I={class:"flex gap-2"},X={__name:"NoticeList",setup(J){const m=v();N();const p=k(),{notices:x}=L(p);D(()=>{p.fetchNotices()});const y=()=>{m.go(-1)},c=a=>new Date(a).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),g=S(()=>{const a={};return x.value.forEach(s=>{var i;const r=((i=s.company)==null?void 0:i.name)||"Multiple Companies";a[r]||(a[r]=[]),a[r].push(s)}),a});return(a,s)=>{const r=B("RouterLink");return d(),o("div",R,[e("div",C,[e("button",{class:"btn-3",onClick:y},s[0]||(s[0]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),s[2]||(s[2]=e("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Notice List",-1)),n(r,{to:{name:"NoticeAdd"},class:"btn-2"},{default:u(()=>s[1]||(s[1]=[e("span",{class:"hidden md:flex"},"Add New",-1),e("i",{class:"far fa-plus"},null,-1)])),_:1,__:[1]})]),E(p).isLoading?(d(),o("div",A,[n(w)])):(d(),o("div",F,[(d(!0),o(f,null,_(g.value,(i,b)=>(d(),o("div",{key:b},[e("h2",M,l(b),1),e("div",T,[e("table",V,[s[6]||(s[6]=e("thead",null,[e("tr",{class:"bg-gray-200"},[e("th",{class:"border border-gray-300 px-2 text-left"},"#"),e("th",{class:"border border-gray-300 px-2 text-left"},"Title"),e("th",{class:"border border-gray-300 px-2 text-left"},"Type"),e("th",{class:"border border-gray-300 px-2 text-left"},"Published Date"),e("th",{class:"border border-gray-300 px-2 text-left"},"Expired Date"),e("th",{class:"border border-gray-300 px-2 text-left"},"Show Employee"),e("th",{class:"border border-gray-300 px-2 text-left"},"Action")])],-1)),e("tbody",null,[(d(!0),o(f,null,_(i,(t,h)=>(d(),o("tr",{key:t.id,class:"border-b border-gray-200 hover:bg-blue-200"},[e("td",j,l(h+1),1),e("td",P,l(t==null?void 0:t.title),1),e("td",G,l((t==null?void 0:t.type)===1?"General Notice":"Policy"),1),e("td",U,l(c(t==null?void 0:t.published_at)),1),e("td",q,l(c(t==null?void 0:t.expired_at)||"নেই"),1),e("td",z,[n(r,{to:{name:"NoticeFeedbackShow",params:{id:t.id}},class:"btn-4 gap-2"},{default:u(()=>[s[3]||(s[3]=e("i",{class:"far fa-eye"},null,-1)),e("span",null,l(t==null?void 0:t.user_feedback_count),1)]),_:2,__:[3]},1032,["to"])]),e("td",H,[e("div",I,[n(r,{to:{name:"MyNoticeDetails",params:{id:t.id}},class:"btn-icon"},{default:u(()=>s[4]||(s[4]=[e("i",{class:"far fa-eye"},null,-1)])),_:2,__:[4]},1032,["to"]),n(r,{to:{name:"NoticeEdit",params:{id:t.id}},class:"btn-icon"},{default:u(()=>s[5]||(s[5]=[e("i",{class:"far fa-edit"},null,-1)])),_:2,__:[5]},1032,["to"])])])]))),128))])])])]))),128))]))])}}};export{X as default};
