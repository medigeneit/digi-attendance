import{_ as c}from"./ApprovalItem-MiwSXp5c.js";import{L as O}from"./LoaderView-D4Lh2NZS.js";import{_ as H}from"./ShareComponent-B65Xnapb.js";import{u as J,b as K,d as Q,m as $,e as U,c as s,o as i,a as e,f as W,p as d,j as a,g as o,t as l,x as X}from"./index-ByZu5g_Q.js";import{u as Y}from"./manual-attendance-CQZKDOtN.js";import"./AcceptAndRejectHandler-CA7yYI6u.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Z={class:"my-container max-w-3xl space-y-6"},tt={key:1,class:"card-bg p-4 md:p-8"},et={class:"grid md:grid-cols-2"},nt={key:0},at={key:1},lt={key:2},it={key:3},st={class:"pt-10"},ot={class:"text-sm"},ut={class:"title-md"},dt={key:0},rt={key:0,class:"grid grid-cols-2 text-sm md:text-base md:grid-cols-3 md:gap-x-4 gap-y-14 pt-14 items-end"},_t={__name:"ManualAttendanceShow",setup(ct){const q=J(),p=K(),u=Y();Q();const z=$(()=>u.loading),n=$(()=>u.manualAttendance);U(async()=>{const{id:m}=p.params;try{await u.fetchManualAttendanceById(m)}catch(t){console.error("Failed to fetch manual attendance details:",t)}});const E=()=>q.go(-1);function F(){window.print()}const r=async()=>{u.fetchManualAttendanceById(p.params.id)};return(m,t)=>{var v,g,y,k,b,_,f,A,x,w,D,B,N,R,S,j,M,h,C,L,V,T,I,G,P;return i(),s("div",Z,[e("div",{class:"flex items-center justify-between gap-2"},[e("button",{class:"btn-3",onClick:E},t[0]||(t[0]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),t[2]||(t[2]=e("h1",{class:"title-lg text-center"},"Manual Attendance Details",-1)),e("div",null,[e("button",{class:"btn-2",onClick:F},t[1]||(t[1]=[e("i",{class:"far fa-print"},null,-1),a(" Print ")]))])]),z.value?(i(),W(O,{key:0})):(i(),s("div",tt,[t[16]||(t[16]=e("h2",{class:"title-md"},"Manual Attendance Request",-1)),e("div",null,[e("div",et,[(v=n.value)!=null&&v.check_in?(i(),s("div",nt,[t[3]||(t[3]=e("b",null,"Date:",-1)),a(" "+l(new Date((g=n.value)==null?void 0:g.check_in).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})),1)])):o("",!0),(y=n.value)!=null&&y.check_out?(i(),s("div",at,[t[4]||(t[4]=e("b",null,"Date:",-1)),a(" "+l(new Date((k=n.value)==null?void 0:k.check_out).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})),1)])):o("",!0),(b=n.value)!=null&&b.check_in?(i(),s("div",lt,[t[5]||(t[5]=e("b",null,"Check-In:",-1)),a(" "+l((_=n.value)!=null&&_.check_in?new Date(n.value.check_in).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A"),1)])):o("",!0),(f=n.value)!=null&&f.check_out?(i(),s("div",it,[t[6]||(t[6]=e("b",null,"Check-Out:",-1)),a(" "+l((A=n.value)!=null&&A.check_out?new Date(n.value.check_out).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A"),1)])):o("",!0),e("div",null,[t[7]||(t[7]=e("b",null,"Type:",-1)),a(" "+l((x=n.value)==null?void 0:x.type),1)]),e("div",null,[t[8]||(t[8]=e("b",null,"Reason:",-1)),a(" "+l(((w=n.value)==null?void 0:w.description)||"N/A"),1)])]),e("div",st,[e("div",null,[t[12]||(t[12]=e("hr",{class:"w-44 border-black"},null,-1)),e("p",null,[t[9]||(t[9]=a(" Name: ")),e("b",null,l((D=n.value)==null?void 0:D.user.name),1)]),e("div",ot,[e("p",null,[t[10]||(t[10]=a(" Designation: ")),e("b",null,l((R=(N=(B=n.value)==null?void 0:B.user)==null?void 0:N.designation)==null?void 0:R.title),1)]),e("p",null,[t[11]||(t[11]=a(" Department: ")),e("b",null,l((M=(j=(S=n.value)==null?void 0:S.user)==null?void 0:j.department)==null?void 0:M.name),1)])])])])]),t[17]||(t[17]=e("hr",null,null,-1)),e("div",null,[e("h3",ut,[t[13]||(t[13]=a(" Approvals ")),e("span",{class:X({"text-yellow-500":((h=n.value)==null?void 0:h.status)==="Pending","text-green-500":((C=n.value)==null?void 0:C.status)==="Approved","text-red-500":((L=n.value)==null?void 0:L.status)==="Rejected"})}," ("+l(((V=n.value)==null?void 0:V.status)||"N/A")+") ",3)]),((T=n.value)==null?void 0:T.status)==="Rejected"?(i(),s("div",dt,[e("div",null,[t[14]||(t[14]=e("b",null,"Rejected By:",-1)),a(" "+l(((G=(I=n.value)==null?void 0:I.rejected_by_user)==null?void 0:G.name)||"N/A"),1)]),e("div",null,[t[15]||(t[15]=e("b",null,"Rejection Reason:",-1)),a(" "+l(((P=n.value)==null?void 0:P.rejection_reason)||"N/A"),1)])])):o("",!0)]),n.value?(i(),s("div",rt,[d(c,{application:n.value,type:"manual_attendance_applications",item:"in_charge",onAction:r},null,8,["application"]),d(c,{application:n.value,type:"manual_attendance_applications",item:"recommend_by",onAction:r},null,8,["application"]),d(c,{application:n.value,type:"manual_attendance_applications",item:"approved_by",onAction:r},null,8,["application"])])):o("",!0)])),d(H)])}}};export{_t as default};
