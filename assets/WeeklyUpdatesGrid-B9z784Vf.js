import{B as ze,r as $,G as Ne,x as C,C as fe,D as Fe,f as Ee,u as Oe,h as Ae,y as We,c as r,o as d,k as S,a as s,s as H,t as p,d as Pe,b as Y,l as G,v as Q,n as g,i as Be,P as se,F,e as J,A as Ke}from"./index-C6obaw8n.js";import{_ as Ve}from"./EmployeeFilter-Bxu2Jk1Y.js";import"./company-C_Rxr-SG.js";import"./department-SE1CHO6S.js";import"./EmployeeDropdownInput-CERGPPyO.js";import"./SelectDropdown-Cx3G0P6C.js";import"./UserChip-DNnW-La5.js";import"./user-4LIMkgMn.js";const He=ze("weeklyUpdates",()=>{const W=$(!1),M=$(null),P=$(null),E=$([]),j=$([]),L=Ne({anchor_date:"",past_days:5,future_days:5,window:null,start_date:"",end_date:"",company_id:"",department_id:"",line_type:"",user_id:"",status:""});let m=null,o=0;const x=f=>{const b={};return Object.entries(f||{}).forEach(([h,_])=>{_==null||_===""||_!=="all"&&(b[h]=_)}),b},T=async(f={})=>{var h,_,q,w,K;const b=++o;W.value=!0,M.value=null,Object.assign(L,f),m&&m.abort(),m=new AbortController;try{const u=await fe.get("/weekly-updates",{params:x(L),signal:m.signal});return b!==o?void 0:(P.value=((h=u.data)==null?void 0:h.meta)??null,E.value=((_=u.data)==null?void 0:_.dates)??[],j.value=((q=u.data)==null?void 0:q.rows)??[],u.data)}catch(u){if((u==null?void 0:u.name)==="CanceledError"||(u==null?void 0:u.code)==="ERR_CANCELED"||b!==o)return;throw M.value=((K=(w=u==null?void 0:u.response)==null?void 0:w.data)==null?void 0:K.message)||(u==null?void 0:u.message)||"Failed to load weekly updates.",u}finally{b===o&&(W.value=!1)}},a=async f=>{const{kind:b,ref_id:h,status:_,message:q}=f||{};if(!b||!h)throw new Error("Invalid item");const w={kind:b,ref_id:h};return _!=null&&_!==""&&(w.status=_),q&&(w.message=q),await fe.post("/weekly-updates/send-message",w)},R=()=>T({window:"prev"}),U=()=>T({window:"next"}),B=(f,b)=>T({past_days:f,future_days:b,window:null}),I=(f={})=>T(f),z=C(()=>E.value),O=C(()=>j.value),i=C(()=>P.value);return{loading:W,error:M,params:L,dates:z,rows:O,meta:i,fetchWeekly:T,prevWeek:R,nextWeek:U,applyRange:B,setFilters:I,sendWeeklyMessage:a}}),Ye={class:"space-y-3 px-4"},Ge={class:"rounded-2xl border border-slate-200 bg-white/95 backdrop-blur p-3 shadow-sm"},Qe={class:"rounded-2xl border border-slate-200 bg-white/95 backdrop-blur p-3 shadow-sm"},Je={class:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between"},Xe={class:"flex flex-wrap items-center gap-2"},Ze={class:"rounded-xl border border-slate-200 bg-slate-50/70 px-2 py-1"},et={class:"flex items-center gap-2"},tt={class:"flex items-center gap-2 text-xs font-semibold text-slate-600"},st={class:"flex items-center gap-2 text-xs font-semibold text-slate-600"},nt={class:"flex items-center gap-2 text-xs font-semibold text-slate-600"},at={class:"flex items-center justify-between gap-3 text-xs text-slate-500 lg:justify-end"},lt={class:"text-right bg-gray-100 rounded-full px-2 py-1"},ot={key:0,class:"font-semibold text-slate-800"},rt={class:"flex justify-center items-center gap-3"},dt={class:"text-[11px] text-slate-400 bg-gray-100 rounded-full px-2 py-1"},it={class:"font-semibold text-slate-600"},ut={key:1,class:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700"},ct={key:2,class:"rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-500"},pt={key:3,class:"rounded-2xl border border-slate-200 bg-white shadow-sm"},yt={class:"min-w-max w-full text-sm"},ft={class:"text-slate-600"},xt={class:"text-[11px] font-semibold text-slate-400"},bt={class:"text-xs font-semibold text-slate-800"},_t={key:0,class:"mt-1 text-[10px] font-semibold text-amber-700"},gt={class:"sticky left-0 z-20 w-10 border-r border-slate-200 bg-white p-2 text-xs font-semibold text-slate-600"},vt={class:"sticky left-12 z-20 border-r border-slate-200 bg-white p-2"},mt={class:"min-w-0"},ht=["href","title"],wt={class:"truncate group-hover:underline decoration-slate-400 underline-offset-4"},kt={class:"mt-0.5 text-[11px] text-slate-500"},St={key:0,class:"flex flex-col items-center justify-center"},Ct=["title"],$t=["title","onClick"],Dt={key:1,class:"text-slate-300 text-sm"},Mt={class:"px-2"},jt={class:"flex justify-end"},Tt=["disabled","onClick"],It={key:0},qt={key:1},Lt={key:0,class:"font-bold"},Rt={key:0,class:"border-t border-slate-100"},Ut=["colspan"],zt={key:4,class:"fixed inset-0 z-[75] flex items-center justify-center bg-slate-900/50 p-4"},Nt={class:"w-full max-w-lg rounded-2xl bg-white p-4 shadow-xl"},Ft={class:"flex items-start justify-between gap-3"},Et={class:"text-xs text-slate-500"},Ot={class:"mt-4"},At={class:"mt-1 flex items-center justify-between text-[11px] text-slate-400"},Wt={class:"mt-4 flex items-center justify-end gap-2"},Pt=["disabled"],Bt={key:0},Kt={key:1},Vt={key:5,class:"fixed inset-0 z-[70] flex items-center justify-center bg-slate-900/50 p-4"},Ht={class:"w-full max-w-sm rounded-2xl bg-white p-4 shadow-xl"},Yt={class:"flex items-start justify-between gap-3"},Gt={class:"flex items-center gap-2"},Qt=["href"],Jt={class:"mt-4 space-y-2 text-sm text-slate-700"},Xt={class:"flex items-center justify-between"},Zt={class:"font-semibold"},es={class:"flex items-center justify-between"},ts={class:"font-semibold"},ss={class:"flex items-center justify-between"},ns={class:"font-semibold"},as={class:"flex items-center justify-between"},ls={class:"font-semibold"},os={class:"flex items-center justify-between"},rs={class:"font-semibold"},ds={class:"mt-4 flex items-center justify-end gap-2"},gs={__name:"WeeklyUpdatesGrid",setup(W){const M=He(),{loading:P,error:E,dates:j,rows:L,meta:m,params:o}=Fe(M),x=Ee(),T=Oe(),a=$({detailsOpen:!1,selectedItem:null,smsOpen:!1,smsMessage:"",smsTarget:null,busyKey:null,toast:null}),R=$(null),U=$(null),B=$(0);let I=null;const z=async()=>{var c,y;await Ke();const e=((c=R.value)==null?void 0:c.offsetHeight)||0,t=((y=U.value)==null?void 0:y.offsetHeight)||0,n=12;B.value=e+t+n},O=C(()=>({top:`${B.value}px`})),i=$({company_id:x.query.company_id||"",department_id:x.query.department_id||"all",line_type:x.query.line_type||"all",employee_id:x.query.employee_id||x.query.user_id||""}),f=(e,t,n)=>Math.min(Math.max(Number(e)||0,t),n),b=(e,t)=>{const n=Number(e);return Number.isFinite(n)?f(n,0,60):t};x.query.anchor_date&&(o.value.anchor_date=String(x.query.anchor_date)),x.query.past_days!=null&&(o.value.past_days=b(x.query.past_days,o.value.past_days)),x.query.future_days!=null&&(o.value.future_days=b(x.query.future_days,o.value.future_days));const h=e=>{if(e){const[t,n,c]=String(e).split("-").map(Number);if(t&&n&&c)return new Date(t,n-1,c)}return new Date},_=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n},q=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),c=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${c}`},w=e=>{if(!e)return"";const t=new Date(`${e}T00:00:00`);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(t)},K=e=>{if(!e)return"";const t=new Date(`${e}T00:00:00`);return new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(t)},u=(e,t)=>{var n;return((n=e==null?void 0:e.days)==null?void 0:n[t])??[]},xe=e=>{const t=String((e==null?void 0:e.status)??"").toLowerCase();return t.includes("pending")?"bg-amber-50 text-amber-700 ring-amber-200":t.includes("approved")?"bg-emerald-50 text-emerald-700 ring-emerald-200":t.includes("rejected")?"bg-rose-50 text-rose-700 ring-rose-200":"bg-slate-50 text-slate-700 ring-slate-200"},be=e=>String((e==null?void 0:e.kind)||"").toLowerCase()==="weekend",X=e=>{if(String((e==null?void 0:e.label)||"").toUpperCase()==="WPL")return"WPL";const n=String((e==null?void 0:e.kind)||"").toLowerCase();return n==="weekend"?"W":n==="holiday"?"HD":n==="present"||n==="worked"?"P":e==null?void 0:e.code},_e=e=>{const t=String((e==null?void 0:e.kind)||"").toLowerCase();return t==="weekend"?"!bg-slate-500 text-slate-700 ring-slate-200":t==="holiday"?"bg-sky-50 text-sky-700 ring-sky-200":t==="present"?"bg-emerald-50 text-emerald-700 ring-emerald-200":t==="worked"?"bg-indigo-50 text-indigo-700 ring-indigo-200":xe(e)},ne=e=>{const t=[],n=(e==null?void 0:e.label)||(e==null?void 0:e.kind)||X(e);return n&&t.push(n),e!=null&&e.status&&t.push(e.status),e!=null&&e.ref_id&&t.push(`#${e.ref_id}`),t.join(" - ")},ge=e=>String((e==null?void 0:e.kind)||"").toLowerCase()==="exchange",ve=C(()=>{var t;const e=(t=a.value.toast)==null?void 0:t.type;return e==="success"?"border-emerald-200 bg-emerald-50 text-emerald-800":e==="error"?"border-rose-200 bg-rose-50 text-rose-800":"border-slate-200 bg-slate-50 text-slate-800"});function N(e,t){a.value.toast={type:e,text:t},window.clearTimeout(N._t),N._t=window.setTimeout(()=>a.value.toast=null,2500)}const me=C(()=>{var t;return!!String(a.value.smsMessage||"").trim()&&!!((t=a.value.smsTarget)!=null&&t.item)&&!a.value.busyKey}),he=e=>{const t=String((e==null?void 0:e.kind)||"").toLowerCase();return t==="leave"||t==="exchange"||t==="offday"},we=e=>!(e!=null&&e.kind)||!(e!=null&&e.ref_id)?!1:he(e),ae=e=>{const t=j.value||[];for(let n=t.length-1;n>=0;n--){const c=t[n],y=u(e,c);if(y!=null&&y.length)for(let v=y.length-1;v>=0;v--){const D=y[v];if(we(D))return D}}return null},ke=e=>{const t=ae(e);if(!t)return N("info","No application found in this range.");a.value.smsTarget={item:t,user:(e==null?void 0:e.user)||null},a.value.smsMessage="",a.value.smsOpen=!0},Z=()=>{a.value.smsOpen=!1,a.value.smsMessage="",a.value.smsTarget=null},Se=async(e,t="")=>{var c,y;if(!(e!=null&&e.kind)||!(e!=null&&e.ref_id))return!1;const n=`${e.kind}:${e.ref_id}`;a.value.busyKey=n;try{return await M.sendWeeklyMessage({kind:String(e.kind).toLowerCase(),ref_id:e.ref_id,status:e.status,message:t}),N("success",`SMS sent (${e.code||e.kind} #${e.ref_id})`),!0}catch(v){return N("error",((y=(c=v==null?void 0:v.response)==null?void 0:c.data)==null?void 0:y.message)||"Failed to send SMS."),!1}finally{a.value.busyKey=null}},Ce=async()=>{var c;const e=(c=a.value.smsTarget)==null?void 0:c.item,t=String(a.value.smsMessage||"").trim();if(!e)return;if(!t)return N("error","Please write a message before sending.");await Se(e,t)&&Z()},le=C(()=>{var e,t;return!((e=m.value)!=null&&e.start_date)||!((t=m.value)!=null&&t.end_date)?"":`${w(m.value.start_date)} - ${w(m.value.end_date)}`}),$e=C(()=>{var t;const e=o.value.anchor_date||((t=m.value)==null?void 0:t.anchor_date);return e?h(e):new Date}),ee=C(()=>{const e=$e.value,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0");return`${t}-${n}`}),De=e=>e?`/hrd/em-attendance?${new URLSearchParams({department_id:String(e.department_id??i.value.department_id??""),line_type:String(i.value.line_type??""),date:String(ee.value),company_id:String(e.company_id??i.value.company_id??""),employee_id:String(e.id??"")}).toString()}`:"#",oe=e=>{if(!(e!=null&&e.kind)||!(e!=null&&e.ref_id))return null;const t=String(e.kind).toLowerCase();return t==="leave"?`/leave-application-show/${e.ref_id}`:t==="exchange"?`/exchange-offday-show/${e.ref_id}`:null},Me=C(()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),c=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${c}`}),te=e=>String(e)===String(Me.value),je=e=>te(e)?"bg-amber-50":"bg-slate-50",Te=e=>te(e)?"bg-amber-50":"",Ie=()=>{T.replace({query:{...x.query,company_id:i.value.company_id||void 0,department_id:i.value.department_id&&i.value.department_id!=="all"?i.value.department_id:void 0,line_type:i.value.line_type&&i.value.line_type!=="all"?i.value.line_type:void 0,employee_id:i.value.employee_id||void 0,anchor_date:o.value.anchor_date||void 0,past_days:o.value.past_days!=null?String(o.value.past_days):void 0,future_days:o.value.future_days!=null?String(o.value.future_days):void 0}}).catch(()=>{})},V=()=>{M.fetchWeekly({company_id:i.value.company_id||"",department_id:i.value.department_id||"all",line_type:i.value.line_type||"all",user_id:i.value.employee_id||"",anchor_date:o.value.anchor_date,past_days:o.value.past_days,future_days:o.value.future_days,window:null}),Ie()},qe=()=>{o.value.past_days=f(o.value.past_days,0,60),o.value.future_days=f(o.value.future_days,0,60),V()},Le=()=>V(),re=e=>{var D;const t=f(o.value.past_days,0,60),n=f(o.value.future_days,0,60),c=t+n+1,y=h(o.value.anchor_date||((D=m.value)==null?void 0:D.anchor_date)),v=_(y,e*c);o.value.anchor_date=q(v),V()},Re=e=>{a.value.selectedItem=e,a.value.detailsOpen=!0};return Ae(async()=>{V(),await z(),typeof ResizeObserver<"u"?(I=new ResizeObserver(z),R.value&&I.observe(R.value),U.value&&I.observe(U.value)):window.addEventListener("resize",z)}),We(()=>{I&&I.disconnect(),window.removeEventListener("resize",z)}),(e,t)=>{var n,c,y,v,D,de,ie;return d(),r("section",Ye,[a.value.toast?(d(),r("div",{key:0,class:H(["fixed right-4 top-4 z-[80] rounded-xl border px-4 py-2 text-sm shadow-sm",ve.value])},p(a.value.toast.text),3)):S("",!0),s("div",{ref_key:"stickyBarRef",ref:R,class:"sticky top-14 z-50"},[s("div",Ge,[Pe(Ve,{company_id:i.value.company_id,"onUpdate:company_id":t[0]||(t[0]=l=>i.value.company_id=l),department_id:i.value.department_id,"onUpdate:department_id":t[1]||(t[1]=l=>i.value.department_id=l),employee_id:i.value.employee_id,"onUpdate:employee_id":t[2]||(t[2]=l=>i.value.employee_id=l),line_type:i.value.line_type,"onUpdate:line_type":t[3]||(t[3]=l=>i.value.line_type=l),"with-type":!0,"initial-value":{...e.$route.query,employee_id:e.$route.query.employee_id||e.$route.query.user_id},onFilterChange:Le,class:"w-full"},null,8,["company_id","department_id","employee_id","line_type","initial-value"])])],512),s("div",{ref_key:"controlsRef",ref:U},[s("div",Qe,[s("div",Je,[s("div",Xe,[s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:t[4]||(t[4]=l=>re(-1)),title:"Previous range"}," Prev "),s("div",Ze,[s("div",et,[s("label",tt,[t[12]||(t[12]=Y(" Past ")),G(s("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>g(o).past_days=l),type:"number",min:"0",max:"60",class:"w-14 rounded-lg border border-slate-200 bg-white px-2 py-2 text-xs focus:border-slate-400 focus:outline-none"},null,512),[[Q,g(o).past_days,void 0,{number:!0}]])]),s("label",st,[t[13]||(t[13]=Y(" Future ")),G(s("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>g(o).future_days=l),type:"number",min:"0",max:"60",class:"w-14 rounded-lg border border-slate-200 bg-white px-2 py-2 text-xs focus:border-slate-400 focus:outline-none"},null,512),[[Q,g(o).future_days,void 0,{number:!0}]])])])]),s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:t[7]||(t[7]=l=>re(1)),title:"Next range"}," Next "),s("label",nt,[G(s("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>g(o).anchor_date=l),type:"date",class:"rounded-lg border border-slate-200 px-2 py-2 text-xs focus:border-slate-400 focus:outline-none"},null,512),[[Q,g(o).anchor_date]])]),s("button",{type:"button",class:"rounded-lg bg-slate-900 px-3 py-2 text-xs font-semibold text-white hover:bg-slate-800",onClick:qe}," Apply ")]),s("div",at,[s("div",lt,[le.value?(d(),r("div",ot,p(le.value),1)):S("",!0)]),s("div",rt,[s("div",dt,[t[14]||(t[14]=Y(" Attendance month: ")),s("span",it,p(ee.value),1)])]),t[15]||(t[15]=Be('<div class="hidden sm:flex items-center gap-2"><span class="inline-flex items-center gap-1 text-[11px] text-slate-500"><span class="h-2.5 w-2.5 rounded-full bg-amber-300"></span> Pending </span><span class="inline-flex items-center gap-1 text-[11px] text-slate-500"><span class="h-2.5 w-2.5 rounded-full bg-emerald-300"></span> Approved </span><span class="inline-flex items-center gap-1 text-[11px] text-slate-500"><span class="h-2.5 w-2.5 rounded-full bg-rose-300"></span> Rejected </span></div>',1))])])])],512),g(E)?(d(),r("div",ut,p(g(E)),1)):S("",!0),g(P)?(d(),r("div",ct," Loading weekly updates... ")):(d(),r("div",pt,[s("div",null,[s("table",yt,[s("thead",ft,[s("tr",null,[s("th",{class:"sticky left-0 z-30 w-10 border-r border-slate-200 bg-slate-50 p-2 text-left text-xs font-semibold uppercase tracking-wide",style:se(O.value)}," # ",4),s("th",{class:"sticky left-12 z-30 border-r border-slate-200 bg-slate-50 px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide",style:se(O.value)}," Employee ",4),(d(!0),r(F,null,J(g(j),l=>(d(),r("th",{key:l,class:H(["sticky z-20 min-w-[40px] p-2 text-center hover:bg-slate-100",je(l)]),style:se(O.value)},[s("div",xt,p(K(l)),1),s("div",bt,p(w(l)),1),te(l)?(d(),r("div",_t,"Today")):S("",!0)],6))),128)),t[16]||(t[16]=s("th",{class:"sticky z-20 bg-slate-50 px-4 py-3 text-right text-xs font-semibold uppercase tracking-wide"}," SMS ",-1))])]),s("tbody",null,[(d(!0),r(F,null,J(g(L),(l,Ue)=>{var ue,ce,pe,ye;return d(),r("tr",{key:l.user.id,class:"border-t border-slate-200 hover:bg-sky-50/70"},[s("td",gt,p(Ue+1),1),s("td",vt,[s("div",mt,[s("a",{href:De(l.user),target:"_blank",rel:"noopener",class:"group inline-flex items-center gap-2 truncate font-semibold text-slate-900 hover:text-slate-900",title:`Open Attendance (${ee.value})`},[s("span",wt,p(l.user.name),1)],8,ht),s("div",kt,p(((ue=l.user.company)==null?void 0:ue.name)||"—")+" · "+p(((ce=l.user.department)==null?void 0:ce.name)||"—"),1)])]),(d(!0),r(F,null,J(g(j),A=>(d(),r("td",{key:`${l.user.id}-${A}`,class:H(["p-2 border-r border-slate-200 text-center",Te(A)])},[u(l,A).length?(d(),r("div",St,[(d(!0),r(F,null,J(u(l,A),k=>(d(),r(F,{key:`${k.kind}-${k.ref_id}-${k.code}`},[be(k)?(d(),r("span",{key:0,class:"px-2 py-0.5 text-[11px] font-semibold text-slate-500",title:ne(k)},p(X(k)),9,Ct)):(d(),r("button",{key:1,type:"button",class:H(["rounded-full px-2 py-0.5 text-[11px] font-semibold ring-1 ring-inset transition hover:scale-[1.02] active:scale-[0.99]",_e(k)]),title:ne(k),onClick:is=>Re(k)},p(X(k)),11,$t))],64))),128))])):(d(),r("span",Dt,"—"))],2))),128)),s("td",Mt,[s("div",jt,[s("button",{type:"button",class:"btn-4",disabled:!ae(l)||!!a.value.busyKey,onClick:A=>ke(l)},[a.value.busyKey?(d(),r("span",It,"Sending...")):(d(),r("span",qt,[t[17]||(t[17]=Y("Send SMS ")),(pe=l.user)!=null&&pe.yearly_message_count?(d(),r("span",Lt,"("+p((ye=l.user)==null?void 0:ye.yearly_message_count)+")",1)):S("",!0)]))],8,Tt)])])])}),128)),g(L).length?S("",!0):(d(),r("tr",Rt,[s("td",{class:"bg-white px-4 py-10 text-slate-500 text-center",colspan:g(j).length+3}," No updates found. ",8,Ut)]))])])])])),a.value.smsOpen?(d(),r("div",zt,[s("div",Nt,[s("div",Ft,[s("div",null,[t[18]||(t[18]=s("h3",{class:"text-sm font-semibold text-slate-900"},"Send SMS",-1)),s("p",Et,p(((c=(n=a.value.smsTarget)==null?void 0:n.user)==null?void 0:c.name)||"Employee"),1)]),s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:Z}," Close ")]),s("div",Ot,[t[20]||(t[20]=s("label",{class:"text-xs font-semibold text-slate-600"},"Message",-1)),G(s("textarea",{"onUpdate:modelValue":t[9]||(t[9]=l=>a.value.smsMessage=l),rows:"4",class:"mt-2 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-700 focus:border-slate-400 focus:outline-none",placeholder:"Write your SMS message..."},null,512),[[Q,a.value.smsMessage]]),s("div",At,[s("span",null,p((a.value.smsMessage||"").length)+" characters",1),t[19]||(t[19]=s("span",null,"Message will be sent to the employee.",-1))])]),s("div",Wt,[s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:Z}," Cancel "),s("button",{type:"button",class:"rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white hover:bg-slate-800 disabled:cursor-not-allowed disabled:opacity-60",disabled:!me.value,onClick:Ce},[a.value.busyKey?(d(),r("span",Bt,"Sending...")):(d(),r("span",Kt,"Send SMS"))],8,Pt)])])])):S("",!0),a.value.detailsOpen?(d(),r("div",Vt,[s("div",Ht,[s("div",Yt,[t[21]||(t[21]=s("div",null,[s("h3",{class:"text-sm font-semibold text-slate-900"},"Update Details"),s("p",{class:"text-xs text-slate-500"},"Quick view")],-1)),s("div",Gt,[oe(a.value.selectedItem)?(d(),r("a",{key:0,href:oe(a.value.selectedItem),target:"_blank",rel:"noopener",class:"btn-1 py-1 px-2 text-xs font-semibold",title:"Open application details"}," Application ",8,Qt)):S("",!0),s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:t[10]||(t[10]=l=>a.value.detailsOpen=!1)}," Close ")])]),s("div",Jt,[s("div",Xt,[t[22]||(t[22]=s("span",{class:"text-xs font-semibold text-slate-500"},"Label",-1)),s("span",Zt,p((y=a.value.selectedItem)==null?void 0:y.label),1)]),s("div",es,[t[23]||(t[23]=s("span",{class:"text-xs font-semibold text-slate-500"},"Status",-1)),s("span",ts,p((v=a.value.selectedItem)==null?void 0:v.status),1)]),s("div",ss,[t[24]||(t[24]=s("span",{class:"text-xs font-semibold text-slate-500"},"Kind",-1)),s("span",ns,p((D=a.value.selectedItem)==null?void 0:D.kind),1)]),ge(a.value.selectedItem)?(d(),r(F,{key:0},[s("div",as,[t[25]||(t[25]=s("span",{class:"text-xs font-semibold text-slate-500"},"Current Date",-1)),s("span",ls,p(((de=a.value.selectedItem)==null?void 0:de.current_date)||"N/A"),1)]),s("div",os,[t[26]||(t[26]=s("span",{class:"text-xs font-semibold text-slate-500"},"Exchange Date",-1)),s("span",rs,p(((ie=a.value.selectedItem)==null?void 0:ie.exchange_date)||"N/A"),1)])],64)):S("",!0)]),s("div",ds,[s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:t[11]||(t[11]=l=>a.value.detailsOpen=!1)}," Done ")])])])):S("",!0)])}}};export{gs as default};
