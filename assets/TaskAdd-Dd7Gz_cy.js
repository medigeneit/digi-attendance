import{_ as l}from"./TaskAddForm-NNBL2DTz.js";import{u as k}from"./user-BD7eMx1f.js";import{u as y}from"./useRequirementStore-BfqkhYQM.js";import{u as T}from"./useTaskStore-C5EXJLHs.js";import{s as u,r as d,y as I,A as R,b as h,c as v,m as N,h as a,f as S,o as b,g as x}from"./index-D39fohVM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"container mx-auto p-6"},D={__name:"TaskAdd",setup(M){const n=T(),t=S(),m=x(),i=y(),p=k();u(i),u(p),u(n),u(n),u(n);const c=d([]),f=I(()=>c.value.map(e=>e.id)),_=d({title:"",user_ids:[],priority:"MEDIUM",status:"PENDING",description:"",is_important:!1,is_urgent:!1});return R(f,e=>{_.value.user_ids=e}),h(()=>{var e,r,s,o;i.fetchRequirements(),((e=t.query)==null?void 0:e.parent_id)>0&&n.fetchTask((r=t.query)==null?void 0:r.parent_id),((s=t.query)==null?void 0:s.requirement_id)>0&&i.fetchRequirement((o=t.query)==null?void 0:o.requirement_id)}),(e,r)=>{var s,o;return b(),v("div",E,[N(l,{parentTaskId:Number((s=a(t).query)==null?void 0:s.parent_id),requirementId:Number((o=a(t).query)==null?void 0:o.requirement_id),onCreated:r[0]||(r[0]=q=>a(m).push({name:"TaskList"})),onClose:r[1]||(r[1]=q=>a(m).push({name:"TaskList"}))},null,8,["parentTaskId","requirementId"])])}}};export{D as default};
