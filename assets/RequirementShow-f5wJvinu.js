import{G as T,r as g,e as L,c,o,a as e,f as D,g as y,w as k,F as V,h as I,j as F,y as h,v as U,i as S,A as te,t as f,n as ne,b as ae,u as de,z as O,C as ue,k as me,x as ee}from"./index-Dv63NlYr.js";import{L as M}from"./LoaderView-goTXKRjE.js";import{O as j}from"./OverlyModal-CRf9MnR9.js";import{R as se}from"./RequiredIcon-By3nBQZZ.js";import{f as z}from"./requirement-DGlXHM0b.js";import{o as pe}from"./url-CePbr-gY.js";import{u as re}from"./department-CmRCVYmi.js";import{S as le}from"./SelectDropdown-DcO22mcl.js";import{_ as N}from"./UserChip-D0kXhYve.js";import{u as ie}from"./user-DAEqTdU_.js";import{_ as be}from"./TaskUserChip-COI46vGj.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";async function ve(b,w){return T.post(`/requirements/${b}/details`,w)}async function oe(b,w,{params:x={}}={}){return T.get(`/requirements/${b}/details/${w}`,{params:x})}async function ce(b,w,x){return T.put(`/requirements/${b}/details/${w}`,x)}async function xe(b,w,{params:x={}}={}){const v=pe(x);return T.delete(`/requirements/${b}/details/${w}${v?"?"+v:""}`)}const ye={class:"sticky top-0 pt-4 bg-white z-10"},fe={class:"mb-4"},ge={class:"block text-gray-600 text-sm mb-1 font-medium"},we={class:"mb-4"},ke={class:"mb-4"},_e={class:"mb-4"},$e={class:"mb-4"},qe={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},he={key:0,class:"mb-4 text-red-500 font-medium"},Ce={key:1,class:"mb-4"},Re={class:"flex items-center justify-between gap-4"},De=["disabled"],Se={__name:"RequirementDetailAddForm",props:{requirementId:{type:[Number,String],required:!0}},emits:["create","closeClick","error"],setup(b,{emit:w}){const x=b,v=w,u=re(),_=g(),r=g(""),d=g(),n=g({title:"",description:"",priority:"",better_to_complete_on:"",supervisor_id:null}),$=g([]);async function m(){var s,i;r.value="submitting";const p={...n.value};console.log({payload:p});try{const t=await ve(x.requirementId,p);v("create",t),r.value="create"}catch(t){r.value="error",d.value=((i=(s=t.response)==null?void 0:s.data)==null?void 0:i.message)||"Failed to create requirement detail",v("error",d.value)}}return L(async()=>{var s;const p=((s=(await z(x.requirementId)).data)==null?void 0:s.requirement)||{};$.value=await u.fetchDepartmentEmployee([p.from_department_id])}),(p,s)=>(o(),c("div",{class:"max-h-[90vh] overflow-auto w-full mx-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative",ref_key:"formContainerRef",ref:_},[e("div",ye,[s[7]||(s[7]=e("h2",{class:"text-2xl font-semibold text-gray-800"},"Add Requirement",-1)),s[8]||(s[8]=e("hr",{class:"mb-4"},null,-1)),e("div",{class:"text-purple-600/80 mb-4 text-xs border-b border-dashed",onClick:s[0]||(s[0]=k(i=>v("ok"),["prevent"]))}," Fields that must be filled in will be marked with an asterisk. ")]),e("form",{onSubmit:k(m,["prevent"]),class:"z-0"},[r.value!=="loading"?(o(),c(V,{key:0},[e("div",fe,[e("label",ge,[s[9]||(s[9]=F("Title ")),h(se)]),I(e("input",{"onUpdate:modelValue":s[1]||(s[1]=i=>n.value.title=i),required:"",placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,n.value.title]])]),e("div",we,[s[10]||(s[10]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Details",-1)),I(e("textarea",{rows:"10","onUpdate:modelValue":s[2]||(s[2]=i=>n.value.description=i),placeholder:"Enter requirement description",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,n.value.description]])]),e("div",ke,[s[12]||(s[12]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Supervisor",-1)),h(le,{modelValue:n.value.supervisor_id,"onUpdate:modelValue":s[3]||(s[3]=i=>n.value.supervisor_id=i),options:$.value,placeholder:"--NO SUPERVISOR--",containment:_.value,clearable:"",class:"h-10"},{"list-header":S(()=>s[11]||(s[11]=[e("div",{class:"px-3 pt-2 pb-1 shadow-md text-xs uppercase bg-gray-50 text-gray-500"}," Employees ",-1)])),option:S(({option:i})=>[h(N,{user:i||{},class:"pr-5 -mx-1"},null,8,["user"])]),"selected-option":S(({option:i})=>[i?(o(),D(N,{key:0,user:i||{},class:"pr-4"},null,8,["user"])):y("",!0)]),_:1},8,["modelValue","options","containment"])]),e("div",_e,[s[14]||(s[14]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Priority ",-1)),I(e("select",{class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500","onUpdate:modelValue":s[4]||(s[4]=i=>n.value.priority=i)},s[13]||(s[13]=[e("option",{value:""},"NORMAL",-1),e("option",null,"IMPORTANT",-1),e("option",null,"URGENT",-1)]),512),[[te,n.value.priority]])]),e("div",$e,[s[15]||(s[15]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Better to Complete ",-1)),I(e("input",{type:"date","onUpdate:modelValue":s[5]||(s[5]=i=>n.value.better_to_complete_on=i),placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,n.value.better_to_complete_on]])])],64)):y("",!0),e("div",qe,[d.value?(o(),c("div",he,f(d.value),1)):y("",!0),d.value?(o(),c("hr",Ce)):y("",!0),e("div",Re,[e("button",{type:"button",onClick:s[6]||(s[6]=k(i=>v("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:r.value=="loading"||r.value=="submitting",type:"submit",class:"bg-blue-500 hover:bg-blue-600 text-white font-semibold px-5 py-2 rounded transition"},f(r.value=="submitting"?"Saving...":"Add Requirement"),9,De)])])],32),r.value==="loading"||r.value==="submitting"?(o(),D(M,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):y("",!0)],512))}},Ie={class:"max-h-[90vh] overflow-auto w-full mx-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative"},Ee={class:"mb-4"},Ve={class:"font-semibold"},Fe={class:"mb-4"},Ue={class:"line-clamp-2"},Ne={key:1,class:"min-h-40"},Te={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},Le={key:0,class:"mb-4 text-red-500 font-medium"},Me={key:1,class:"mb-4"},Ae={class:"flex items-center justify-between gap-4"},Oe=["disabled"],je={__name:"RequirementDetailDeleteForm",props:{requirementId:{type:[Number,String],required:!0},detailId:{type:[Number,String],required:!0}},emits:["delete","closeClick","error"],setup(b,{emit:w}){const x=b,v=w,u=ie(),_=g(null),r=g(""),d=g(),n=g([]);async function $(){var m,p;r.value="submitting";try{const s=await xe(x.requirementId,x.detailId);v("delete",s),r.value="create"}catch(s){r.value="error",d.value=((p=(m=s.response)==null?void 0:m.data)==null?void 0:p.message)||"Failed to update requirement detail: "+s,v("error",d.value)}}return L(async()=>{var m,p,s;r.value="loading";try{n.value=await u.fetchDepartmentWiseEmployees(),_.value=(m=(await oe(x.requirementId,x.detailId)).data)==null?void 0:m.detail}catch(i){d.value=((s=(p=i.response)==null?void 0:p.data)==null?void 0:s.message)||"Failed to fetch requirement detail"}finally{r.value=""}}),(m,p)=>{var s,i;return o(),c("div",Ie,[p[4]||(p[4]=e("div",{class:"sticky top-0 -mx-6 px-6 z-10 bg-gray-50"},[e("h2",{class:"text-xl font-semibold text-gray-800 py-2"},"Delete Requirement Details"),e("hr",{class:"mb-4 -mx-6"})],-1)),e("form",{onSubmit:k($,["prevent"]),class:"z-0"},[r.value!=="loading"?(o(),c(V,{key:0},[e("div",Ee,[p[1]||(p[1]=e("div",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Title",-1)),e("div",Ve,f((s=_.value)==null?void 0:s.title),1)]),e("div",Fe,[p[2]||(p[2]=e("div",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Description",-1)),e("div",Ue,f((i=_.value)==null?void 0:i.description),1)]),p[3]||(p[3]=e("div",{class:"my-8 text-center text-xl text-red-600"},"Are you sure want to delete?",-1))],64)):(o(),c("div",Ne)),e("div",Te,[d.value?(o(),c("div",Le,f(d.value),1)):y("",!0),d.value?(o(),c("hr",Me)):y("",!0),e("div",Ae,[e("button",{type:"button",onClick:p[0]||(p[0]=k(t=>v("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:r.value=="loading"||r.value=="submitting",type:"submit",class:"bg-red-700 hover:bg-red-500 text-white font-semibold px-5 py-2 rounded transition"},f(r.value=="submitting"?"Deleting...":"Delete"),9,Oe)])])],32),r.value==="loading"||r.value==="submitting"?(o(),D(M,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):y("",!0)])}}},ze={class:"sticky top-0 pt-4 bg-white z-10"},Pe={class:"mb-4"},Be={class:"block text-gray-600 text-sm mb-1 font-medium"},Ge={class:"mb-4"},We={class:"mb-4"},He={key:0,class:"relative w-full"},Qe={key:0,class:"absolute right-1 text-xl top-0 bottom-0 flex items-center"},Je={class:"mb-4"},Ke={class:"mb-4"},Xe={class:"sticky bottom-0 bg-white py-4 border-t -mx-6 px-6"},Ye={key:0,class:"mb-4 text-red-500 font-medium"},Ze={key:1,class:"mb-4"},et={class:"flex items-center justify-between gap-4"},tt=["disabled"],st={__name:"RequirementDetailEditForm",props:{requirementId:{type:[Number,String],required:!0},detailId:{type:[Number,String],required:!0}},emits:["update","closeClick","error"],setup(b,{emit:w}){const x=b,v=w,u=g(),_=ie(),r=re(),d=g(null),n=g(""),$=g(),m=g({title:"",description:"",priority:"",better_to_complete_on:"",supervisor_id:null}),p=g([]),s=g([]);async function i(){var l,C;n.value="submitting";const t={...m.value};try{const a=await ce(x.requirementId,x.detailId,t);v("update",a),n.value="create"}catch(a){n.value="error",$.value=((C=(l=a.response)==null?void 0:l.data)==null?void 0:C.message)||"Failed to update requirement detail",v("error",$.value)}}return L(async()=>{var t,l,C,a;n.value="loading";try{p.value=await _.fetchDepartmentWiseEmployees();const R=((t=(await z(x.requirementId)).data)==null?void 0:t.requirement)||{};s.value=await r.fetchDepartmentEmployee([R.from_department_id]),d.value=(l=(await oe(x.requirementId,x.detailId)).data)==null?void 0:l.detail,m.value=d.value;const E=new Date(d.value.better_to_complete_on);m.value.better_to_complete_on=E.toISOString().split("T")[0]}catch(R){$.value=((a=(C=R.response)==null?void 0:C.data)==null?void 0:a.message)||"Failed to fetch requirement detail"}finally{n.value=""}}),(t,l)=>{var C;return o(),c("div",{ref_key:"formContainerRef",ref:u,class:"max-h-[90vh] w-full mx-auto overflow-auto bg-white shadow-lg rounded-lg p-6 pb-0 pt-0 relative"},[e("div",ze,[l[8]||(l[8]=e("h2",{class:"text-2xl font-semibold text-gray-800"},"Edit Requirement",-1)),l[9]||(l[9]=e("hr",{class:"mb-4"},null,-1)),e("div",{class:"text-purple-600/80 mb-4 text-xs border-b border-dashed",onClick:l[0]||(l[0]=k(a=>v("ok"),["prevent"]))}," Fields that must be filled in will be marked with an asterisk. ")]),e("form",{onSubmit:k(i,["prevent"]),class:"z-0"},[n.value!=="loading"?(o(),c(V,{key:0},[e("div",Pe,[e("label",Be,[l[10]||(l[10]=F("Title ")),h(se)]),I(e("input",{"onUpdate:modelValue":l[1]||(l[1]=a=>m.value.title=a),required:"",placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,m.value.title]])]),e("div",Ge,[l[11]||(l[11]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Description",-1)),I(e("textarea",{rows:"10","onUpdate:modelValue":l[2]||(l[2]=a=>m.value.description=a),placeholder:"Enter requirement description",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,m.value.description]])]),e("div",We,[l[12]||(l[12]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Supervisor",-1)),h(le,{modelValue:m.value.supervisor_id,"onUpdate:modelValue":l[4]||(l[4]=a=>m.value.supervisor_id=a),options:[...s.value,...s.value.find(a=>{var R,E;return a.id==((E=(R=d.value)==null?void 0:R.supervisor)==null?void 0:E.id)})?[]:[(C=d.value)==null?void 0:C.supervisor]],containment:u.value,placeholder:"--NO SUPERVISOR--"},{option:S(({option:a})=>[h(N,{user:a||{}},null,8,["user"])]),"selected-option":S(({option:a})=>[a?(o(),c("div",He,[h(N,{user:a||{}},null,8,["user"]),m.value.supervisor_id?(o(),c("div",Qe,[e("button",{onClick:l[3]||(l[3]=k(R=>m.value.supervisor_id=null,["prevent"])),class:"text-gray-6 font-semibold 00 hover:text-red-700"}," Ã— ")])):y("",!0)])):y("",!0)]),_:1},8,["modelValue","options","containment"])]),e("div",Je,[l[14]||(l[14]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Priority ",-1)),I(e("select",{class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500","onUpdate:modelValue":l[5]||(l[5]=a=>m.value.priority=a)},l[13]||(l[13]=[e("option",{value:""},"NORMAL",-1),e("option",null,"IMPORTANT",-1),e("option",null,"URGENT",-1)]),512),[[te,m.value.priority]])]),e("div",Ke,[l[15]||(l[15]=e("label",{class:"block text-gray-600 text-sm mb-1 font-medium"},"Better to Complete ",-1)),I(e("input",{type:"date","onUpdate:modelValue":l[6]||(l[6]=a=>m.value.better_to_complete_on=a),placeholder:"EnderRequirement detail title",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[U,m.value.better_to_complete_on]])])],64)):y("",!0),e("div",Xe,[$.value?(o(),c("div",Ye,f($.value),1)):y("",!0),$.value?(o(),c("hr",Ze)):y("",!0),e("div",et,[e("button",{type:"button",onClick:l[7]||(l[7]=k(a=>v("closeClick"),["prevent"])),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel "),e("button",{disabled:n.value=="loading"||n.value=="submitting",type:"submit",class:"bg-blue-500 hover:bg-blue-600 text-white font-semibold px-5 py-2 rounded transition"},f(n.value=="submitting"?"Saving...":"Edit Detail"),9,tt)])])],32),n.value==="loading"||n.value==="submitting"?(o(),D(M,{key:0,class:"z-20 absolute inset-0 flex items-center justify-center bg-opacity-30"})):y("",!0)],512)}}},rt={class:"group/item border text-gray-800 py-4 shadow-sm mb-4 px-4 rounded-md hover:bg-blue-50"},lt={class:"border-2 border-gray-700 p-3 align-top"},it={class:"text-2xl font-medium"},ot={class:"border-2 border-gray-700 p-3"},nt={class:"text-lg font-semibold mb-2"},at={class:"mb-5"},dt={class:"text-justify"},ut=["innerHTML"],mt={class:"flex items-end"},pt={class:"flex items-center gap-1 mb-3"},bt={class:"text-blue-400 font-semibold"},vt={class:"ml-auto flex gap-6 items-center"},ct={class:"border-2 border-gray-700 p-3 whitespace-nowrap print:whitespace-break-spaces print:px-0 text-center"},xt={key:1,colspan:"2",class:"border-2 border-gray-700 p-3 text-center"},yt={__name:"RequirementDetailTableRow",props:{detail:{type:Object},serial:{type:Number}},emits:["editClick","deleteClick"],setup(b,{emit:w}){const x=w,v=g("line-clamp-2");function u(){v.value=v.value?"":"line-clamp-2"}return(_,r)=>(o(),c("tr",rt,[e("td",lt,[e("span",it,f(b.serial),1)]),e("td",ot,[e("div",null,[e("div",nt,[e("span",null,f(b.detail.title),1)]),r[3]||(r[3]=e("hr",{class:"mb-4 -mx-4"},null,-1)),e("div",at,[r[2]||(r[2]=e("div",{class:"text-gray-400 mr-2 text-xs uppercase font-semibold"},"Description",-1)),e("div",dt,[e("p",{class:ne(["print:line-clamp-none",v.value]),innerHTML:b.detail.description},null,10,ut),e("button",{class:"text-blue-500 group-hover/item:underline hover:text-sky-400 ml-auto text-sm print:hidden",onClick:k(u,["prevent"])},f(v.value?"Show More":"Show Less"),1)])])]),e("div",mt,[e("div",null,[e("div",pt,[r[4]||(r[4]=e("span",{class:"text-gray-400 mr-2 text-xs uppercase font-semibold"},"Supervisor:",-1)),b.detail.supervisor?(o(),D(be,{key:0,user:b.detail.supervisor},null,8,["user"])):y("",!0)]),e("div",null,[r[5]||(r[5]=e("span",{class:"text-gray-500 mr-2 text-xs uppercase font-semibold"},"Priority:",-1)),e("span",bt,f(b.detail.priority),1)])]),e("div",vt,[e("button",{class:"btn-2",onClick:r[0]||(r[0]=k(d=>x("editClick",b.detail),["prevent"]))},r[6]||(r[6]=[e("i",{class:"fas fa-edit"},null,-1),F("Edit ")])),e("button",{class:"btn-2-red",onClick:r[1]||(r[1]=k(d=>x("deleteClick",b.detail),["prevent"]))},r[7]||(r[7]=[e("i",{class:"fas fa-trash-alt"},null,-1),F("Delete ")]))])])]),e("td",ct,[e("div",null,f(new Date(b.detail.better_to_complete_on).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",weekday:"short"})),1)]),b.detail.task_id?(o(),c(V,{key:0},[r[8]||(r[8]=e("td",{class:"border-2 border-gray-700 p-3"},null,-1)),r[9]||(r[9]=e("td",{class:"border-2 border-gray-700 p-3"},null,-1))],64)):(o(),c("td",xt,r[10]||(r[10]=[e("button",{class:"print:hidden hover:border-2 group-hover/item:bg-blue-200 hover:border-blue-700 text-blue-500 hover:text-white hover:!bg-blue-500 rounded-md px-4 py-1"}," Create Task ",-1)])))]))}},ft={class:"container mx-auto p-6 print:p-0 w-full print:max-w-full"},gt={class:"bg-white rounded shadow print:shadow-none p-4 print:p-0 relative"},wt={class:"flex items-start"},kt={class:"mb-4 text-lg print:black print:font-bold"},_t={class:"ml-auto print:hidden flex gap-2 items-center"},$t={class:"mb-4 flex items-center gap-1 print:mb-1"},qt={class:"font-bold print:text-gray-900"},ht={class:"mb-4 print:flex print:items-center print:gap-3 print:mb-1"},Ct={class:"print:text-gray-900"},Rt={class:"mb-4 print:flex print:items-center print:gap-3 print:mb-1"},Dt={class:"flex items-center gap-2 print:text-gray-900"},St={class:"mb-4 print:flex print:items-center print:gap-3 print:mb-1"},It={class:"print:text-gray-900"},Et={key:0,class:"overflow-x-auto print:overflow-visible"},Vt={class:"w-full table-auto print:table-fixed"},Ft={colspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base font-semibold whitespace-nowrap px-3 py-1 print:whitespace-normal w-[25%]"},Ut={class:"whitespace-nowrap print:whitespace-break-spaces print:px-0 p-3 text-center border-2 border-gray-800"},Nt={class:"text-gray-900 text-base"},Tt={class:"mb-8 border rounded-md p-8 flex items-center justify-center bg-gray-50"},Jt={__name:"RequirementShow",setup(b){const w=ae(),x=de(),v=g(""),u=g(null),_=O({open:!1}),r=O({detail:null,open:!1}),d=O({detail:null,open:!1});L(async()=>{await n()});async function n(){var i;v.value="loading",u.value=(i=(await z(w.params.id)).data)==null?void 0:i.requirement,v.value=""}function $(){_.open=!0}function m(i){r.open=!0,r.detail=i}function p(i){d.open=!0,d.detail=i}function s(){window.print()}return(i,t)=>{var C,a,R,E,P,B,G,W,H,Q,J,K,X;const l=ue("RouterLink");return o(),c("div",ft,[_.open?(o(),D(j,{key:0,class:"*:max-w-4xl"},{default:S(()=>[h(Se,{requirementId:u.value.id,onCloseClick:t[0]||(t[0]=q=>_.open=!1),onCreate:t[1]||(t[1]=async()=>{_.open=!1,await n()})},null,8,["requirementId"])]),_:1})):y("",!0),r.open?(o(),D(j,{key:1},{default:S(()=>{var q;return[h(st,{requirementId:u.value.id,detailId:(q=r.detail)==null?void 0:q.id,onCloseClick:t[2]||(t[2]=A=>r.open=!1),onUpdate:t[3]||(t[3]=async()=>{r.open=!1,await n()})},null,8,["requirementId","detailId"])]}),_:1})):y("",!0),d.open?(o(),D(j,{key:2},{default:S(()=>{var q;return[h(je,{requirementId:u.value.id,detailId:(q=d.detail)==null?void 0:q.id,onCloseClick:t[4]||(t[4]=A=>d.open=!1),onDelete:t[5]||(t[5]=async()=>{d.open=!1,await n()})},null,8,["requirementId","detailId"])]}),_:1})):y("",!0),e("div",gt,[e("div",wt,[e("div",kt,[t[7]||(t[7]=e("div",{class:"text-gray-800 leading-none"},"To",-1)),e("div",null,f((a=(C=u.value)==null?void 0:C.to_department)==null?void 0:a.name),1)]),e("div",_t,[(((R=u.value)==null?void 0:R.details)||[]).length>0?(o(),c("button",{key:0,class:"btn-3 font-semibold !pl-2 !pr-4",onClick:k(s,["prevent"])},t[8]||(t[8]=[e("i",{class:"fad fa-print text-xl"},null,-1),F("Print ")]))):y("",!0),e("button",{class:"btn-3",onClick:t[6]||(t[6]=k(()=>me(x).back(),["prevent"]))},"Back"),h(l,{class:"btn-2",to:`/requirements/edit/${(E=u.value)==null?void 0:E.id}`},{default:S(()=>t[9]||(t[9]=[F("Edit")])),_:1,__:[9]},8,["to"])])]),t[22]||(t[22]=e("div",{class:"text-center text-xl font-bold mb-2 underline"},"Requirement Form",-1)),e("div",$t,[t[10]||(t[10]=e("div",{class:"text-gray-800 text-sm"},"Requirement ID:",-1)),e("div",qt,f((P=u.value)==null?void 0:P.id),1)]),e("div",ht,[t[11]||(t[11]=e("div",{class:"text-gray-800 text-sm"},"From",-1)),e("div",Ct,f((G=(B=u.value)==null?void 0:B.from_department)==null?void 0:G.name),1)]),e("div",Rt,[t[12]||(t[12]=e("div",{class:"text-gray-500 text-sm"},"Website",-1)),e("div",Dt,[(o(!0),c(V,null,ee(((W=u.value)==null?void 0:W.website_tags)||[],q=>(o(),c("div",{key:q.id,class:"border px-2 rounded-md bg-gray-50 shadow-sm"},f(q.name),1))),128))])]),e("div",St,[t[13]||(t[13]=e("div",{class:"text-gray-500 text-sm"},"Submission Date",-1)),e("div",It,f(new Date((H=u.value)==null?void 0:H.submission_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})),1)]),t[23]||(t[23]=e("hr",{class:"mb-4"},null,-1)),e("div",null,[t[21]||(t[21]=e("div",{class:"flex items-end mb-3"},[e("h2",{class:"text-xl font-semibold"},"Requirements"),e("div",{class:"ml-auto print:hidden flex gap-2 text-sm"})],-1)),(((Q=u.value)==null?void 0:Q.details)||[]).length>0?(o(),c("div",Et,[e("table",Vt,[e("thead",null,[e("tr",null,[t[14]||(t[14]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-left px-4 text-gray-800 print:text-black text-xl font-semibold whitespace-nowrap w-[15%]"}," SL ",-1)),t[15]||(t[15]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base font-semibold whitespace-nowrap w-[65%]"}," Requirement Details ",-1)),t[16]||(t[16]=e("th",{rowspan:"2",class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-base px-3 font-semibold whitespace-nowrap print:whitespace-normal print:p-0 w-[15%]"}," Better To Complete ",-1)),e("th",Ft," For '"+f(((J=u.value.to_department)==null?void 0:J.short_name)||((K=u.value.to_department)==null?void 0:K.name))+"' Use ",1)]),t[17]||(t[17]=e("tr",null,[e("td",{class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-sm font-semibold whitespace-nowrap p-3 print:whitespace-normal"}," Issue No "),e("td",{class:"border-2 border-gray-800 text-center text-gray-800 print:text-black text-sm font-semibold whitespace-nowrap p-3 print:whitespace-normal print:p-0"}," Expected Date ")],-1))]),e("tbody",null,[(o(!0),c(V,null,ee(((X=u.value)==null?void 0:X.details)||[],(q,A)=>{var Y,Z;return o(),c(V,{key:q.id},[h(yt,{detail:q,serial:A+1,onEditClick:m,onDeleteClick:p},null,8,["detail","serial"]),e("tr",null,[e("td",Ut,[e("div",Nt," For '"+f(((Y=u.value.to_department)==null?void 0:Y.short_name)||((Z=u.value.to_department)==null?void 0:Z.name))+"' Use ",1),t[18]||(t[18]=e("div",{class:"text-gray-800 text-xs"},"(Feedback)",-1))]),t[19]||(t[19]=e("td",{class:"whitespace-nowrap p-3 text-center border-2 border-gray-800",colspan:"4"},null,-1))])],64)}),128))])])])):y("",!0),e("div",Tt,[e("button",{class:"btn-2 pl-2 text-base",onClick:k($,["prevent"])},t[20]||(t[20]=[e("i",{class:"fad fa-plus-circle text-2xl mr-2"},null,-1),F("Add Requirement ")]))])]),v.value==="loading"?(o(),D(M,{key:0,class:"absolute inset-0 bg-opacity-90"})):y("",!0)])])}}};export{Jt as default};
