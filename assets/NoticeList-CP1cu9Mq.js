import{L as w}from"./LoaderView-DpWzPML0.js";import{u as k}from"./notice-Ipu0b_1b.js";import{s as v,b as N,y as L,c as o,a as t,m as n,n as u,h as S,F as f,x as m,p as B,o as d,t as l,g as D,f as E}from"./index-DtyDEYZ9.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"space-y-2 px-4"},C={class:"flex items-center justify-between gap-2"},A={key:0,class:"text-center py-4"},F={key:1,class:"space-y-4"},T={class:"title-md"},V={class:"overflow-x-auto"},j={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},M={class:"border border-gray-300 px-2"},P={class:"border border-gray-300 px-2"},G={class:"border border-gray-300 px-2"},U={class:"border border-gray-300 px-2"},q={class:"border border-gray-300 px-2"},z={class:"px-2 flex justify-center text-center"},H={class:"border border-gray-300 px-2"},I={class:"flex gap-2"},X={__name:"NoticeList",setup(J){const x=D();E();const p=k(),{notices:y}=v(p);N(()=>{p.fetchNotices()});const g=()=>{x.go(-1)},c=a=>new Date(a).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),_=L(()=>{const a={};return y.value.forEach(s=>{var i;const r=((i=s.company)==null?void 0:i.name)||"Multiple Companies";a[r]||(a[r]=[]),a[r].push(s)}),a});return(a,s)=>{const r=B("RouterLink");return d(),o("div",R,[t("div",C,[t("button",{class:"btn-3",onClick:g},s[0]||(s[0]=[t("i",{class:"far fa-arrow-left"},null,-1),t("span",{class:"hidden md:flex"},"Back",-1)])),s[2]||(s[2]=t("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Notice List",-1)),n(r,{to:{name:"NoticeAdd"},class:"btn-2"},{default:u(()=>s[1]||(s[1]=[t("span",{class:"hidden md:flex"},"Add New",-1),t("i",{class:"far fa-plus"},null,-1)])),_:1})]),S(p).isLoading?(d(),o("div",A,[n(w)])):(d(),o("div",F,[(d(!0),o(f,null,m(_.value,(i,b)=>(d(),o("div",{key:b},[t("h2",T,l(b),1),t("div",V,[t("table",j,[s[6]||(s[6]=t("thead",null,[t("tr",{class:"bg-gray-200"},[t("th",{class:"border border-gray-300 px-2 text-left"},"#"),t("th",{class:"border border-gray-300 px-2 text-left"},"Title"),t("th",{class:"border border-gray-300 px-2 text-left"},"Type"),t("th",{class:"border border-gray-300 px-2 text-left"},"Published Date"),t("th",{class:"border border-gray-300 px-2 text-left"},"Expired Date"),t("th",{class:"border border-gray-300 px-2 text-left"},"Show Employee"),t("th",{class:"border border-gray-300 px-2 text-left"},"Action")])],-1)),t("tbody",null,[(d(!0),o(f,null,m(i,(e,h)=>(d(),o("tr",{key:e.id,class:"border-b border-gray-200 hover:bg-blue-200"},[t("td",M,l(h+1),1),t("td",P,l(e==null?void 0:e.title),1),t("td",G,l((e==null?void 0:e.type)===1?"General Notice":"Policy"),1),t("td",U,l(c(e==null?void 0:e.published_at)),1),t("td",q,l(c(e==null?void 0:e.expired_at)||"নেই"),1),t("td",z,[n(r,{to:{name:"NoticeFeedbackShow",params:{id:e.id}},class:"btn-4 gap-2"},{default:u(()=>[s[3]||(s[3]=t("i",{class:"far fa-eye"},null,-1)),t("span",null,l(e==null?void 0:e.user_feedback_count),1)]),_:2},1032,["to"])]),t("td",H,[t("div",I,[n(r,{to:{name:"NoticeShow",params:{id:e.id}},class:"btn-icon"},{default:u(()=>s[4]||(s[4]=[t("i",{class:"far fa-eye"},null,-1)])),_:2},1032,["to"]),n(r,{to:{name:"NoticeEdit",params:{id:e.id}},class:"btn-icon"},{default:u(()=>s[5]||(s[5]=[t("i",{class:"far fa-edit"},null,-1)])),_:2},1032,["to"])])])]))),128))])])])]))),128))]))])}}};export{X as default};
