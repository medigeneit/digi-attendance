import{r as H,c as l,o as a,a as e,g as d,p as u,F as V,b as L,u as R,d as I,a2 as P,n as F,t as o,q as M,f as E,k as g,i as z}from"./index-Buf9-j3J.js";import{u as q}from"./overtime-Dw0Hez7w.js";import{_ as G}from"./AcceptAndRejectHandler-CTYd9B12.js";import{_ as W}from"./TimePickerAsFloatHour-BLEK53tt.js";import{_}from"./DisplayFormattedWorkingHours-CgcoEMfj.js";const J={key:0,class:"fixed inset-0 z-50 flex justify-center items-center bg-black/50"},K={class:"modal-card max-w-sm"},Q={__name:"UpdateApprovalTime",props:{overtime:Object},setup(r){const p=r,b=q(),i=H(!1),c=H(p.overtime.approval_overtime_hours||p.overtime.request_overtime_hours||""),y=async()=>{if(!c.value)return alert("Please set approval time!");await b.updateApprovalTime(p.overtime.id,c.value),m()},m=()=>{i.value=!1};return(t,n)=>(a(),l(V,null,[e("i",{onClick:n[0]||(n[0]=x=>i.value=!i.value),class:"fa fa-edit cursor-pointer text-sky-600"}),i.value?(a(),l("div",J,[e("div",K,[n[2]||(n[2]=e("h3",{class:"title-lg"},"Update Approval Time",-1)),n[3]||(n[3]=e("hr",{class:"my-2"},null,-1)),u(W,{modelValue:c.value,"onUpdate:modelValue":n[1]||(n[1]=x=>c.value=x),"minute-interval":5,required:!0,"hour-min":2,"hour-max":16},null,8,["modelValue"]),n[4]||(n[4]=e("hr",{class:"my-2"},null,-1)),e("div",{class:"flex justify-between gap-2 mt-4"},[e("button",{class:"btn-3",onClick:m},"Cancel"),e("button",{class:"btn-2-green",onClick:y},"Update Time")])])])):d("",!0)],64))}},X={class:"space-y-4"},Y={class:"card-bg p-4 gap-1"},Z={class:"flex flex-wrap gap-x-8 gap-y-2"},ee={key:0,class:"text-gray-700"},te={class:"ml-1"},se={key:1,class:"text-gray-700"},re={class:"ml-1"},oe={key:2,class:"text-gray-700"},ae={class:"ml-1"},ne={key:3,class:"text-gray-700"},le={class:"ml-1"},de={key:4,class:"text-gray-700"},ie={class:"ml-1"},ce={class:"overflow-x-auto"},ue={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},pe={class:"border border-gray-300 px-2 text-center"},xe={class:"border border-gray-300 px-2 text-center"},be={class:"border border-gray-300 px-2 text-center"},ge={class:"border border-gray-300 px-2 text-center"},ye={class:"border border-gray-300 px-2 text-center"},me={class:"border border-gray-300 px-2 text-center"},_e={class:"border border-gray-300 px-2 text-center"},he={class:"border border-gray-300 px-2 text-center"},fe={class:"border border-gray-300 px-2 text-center"},ke={class:"flex items-center justify-center gap-4"},ve={class:"border border-gray-300 px-2 text-center"},we={class:"border border-gray-300 px-2 text-center"},Se={class:"border border-gray-300 px-2 text-center !py-0.5"},Ae={class:"flex items-center justify-center gap-x-4"},Ce={key:0,class:"border border-dashed px-4 rounded-xl"},Ne={key:0},je={__name:"OvertimeDataList",props:{user:Object,onUpdate:{type:Function,default:null}},setup(r){L(),R();const p=I(),b=q(),i=P(),c=r,y=()=>{c.onUpdate?c.onUpdate():i.fetchCountNotifications()};return(m,t)=>{var x,h,f,k,v,w,S,A,C,N,D,U,O,T,$;const n=F("RouterLink");return a(),l("div",X,[e("div",Y,[e("div",Z,[(x=r.user)!=null&&x.employee_id?(a(),l("p",ee,[t[0]||(t[0]=e("span",{class:"text-gray-400"},"Employee ID:",-1)),e("strong",te,o(((h=r.user)==null?void 0:h.employee_id)||"N/A"),1)])):d("",!0),(f=r.user)!=null&&f.name?(a(),l("p",se,[t[1]||(t[1]=e("span",{class:"text-gray-400"},"Name:",-1)),e("strong",re,o((k=r.user)==null?void 0:k.name),1)])):d("",!0),(w=(v=r.user)==null?void 0:v.designation)!=null&&w.title?(a(),l("p",oe,[t[2]||(t[2]=e("span",{class:"text-gray-400"},"Designation:",-1)),e("strong",ae,o(((A=(S=r.user)==null?void 0:S.designation)==null?void 0:A.title)||"N/A"),1)])):d("",!0),(N=(C=r.user)==null?void 0:C.department)!=null&&N.name?(a(),l("p",ne,[t[3]||(t[3]=e("span",{class:"text-gray-400"},"Department:",-1)),e("strong",le,o(((U=(D=r.user)==null?void 0:D.department)==null?void 0:U.name)||"N/A"),1)])):d("",!0),(O=r.user)!=null&&O.phone?(a(),l("p",de,[t[4]||(t[4]=e("span",{class:"text-gray-400"},"Phone:",-1)),e("strong",ie,o((T=r.user)==null?void 0:T.phone),1)])):d("",!0)])]),e("div",ce,[e("table",ue,[t[7]||(t[7]=e("thead",null,[e("tr",{class:"bg-gray-200 *:py-1"},[e("th",{class:"border border-gray-300 px-2 text-center"},"#"),e("th",{class:"border border-gray-300 px-2 text-center"},"Date"),e("th",{class:"border border-gray-300 px-2 text-center"},"Type"),e("th",{class:"border border-gray-300 px-2 text-center"},"Shift"),e("th",{class:"border border-gray-300 px-2 text-center"},"Check-In"),e("th",{class:"border border-gray-300 px-2 text-center"},"Check-Out"),e("th",{class:"border border-gray-300 px-2 text-center"},"Working (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Request (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Approved (hour)"),e("th",{class:"border border-gray-300 px-2 text-center"},"Details"),e("th",{class:"border border-gray-300 px-2 text-center"},"Status"),e("th",{class:"border border-gray-300 px-2 text-center"},"Action")])],-1)),e("tbody",null,[(a(!0),l(V,null,M(g(b).overtimes,(s,B)=>{var j;return a(),l("tr",{key:s==null?void 0:s.id,class:"border-b border-gray-200 hover:bg-blue-200 *:py-2"},[e("td",pe,o(B+1),1),e("td",xe,o(new Date(s.date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})),1),e("td",be,o(s.duty_type),1),e("td",ge,o(s.shift),1),e("td",ye,o(s.check_in||"- : -"),1),e("td",me,o(s.check_out||"- : -"),1),e("td",_e,[u(_,{workingHours:s.working_hours},null,8,["workingHours"])]),e("td",he,[u(_,{workingHours:s.request_overtime_hours},null,8,["workingHours"])]),e("td",fe,[e("div",ke,[u(_,{workingHours:s.approval_overtime_hours},null,8,["workingHours"]),((j=g(p).user)==null?void 0:j.id)===8?(a(),E(Q,{key:0,overtime:s},null,8,["overtime"])):d("",!0)])]),e("td",ve,o(s.work_details||""),1),e("td",we,o(s.status||"Pending"),1),e("td",Se,[e("div",Ae,[g(i).applicationApprovalPermissions[s.id]?(a(),l("div",Ce,[u(G,{class:"ml-auto",notificationType:"overtime_applications",applicationId:s.id,onSuccess:y,variant:1},null,8,["applicationId"])])):d("",!0),u(n,{to:{name:"MyOvertimeShow",params:{id:s.id}},class:"text-blue-800"},{default:z(()=>t[5]||(t[5]=[e("i",{class:"far fa-eye text-lg"},null,-1)])),_:2,__:[5]},1032,["to"])])])])}),128)),(($=g(b).overtimes)==null?void 0:$.length)===0?(a(),l("tr",Ne,t[6]||(t[6]=[e("td",{colspan:"100",class:"p-2 text-center text-red-500"},"No overtimes found",-1)]))):d("",!0)])])])])}}};export{je as _};
