import{E as g,r as n,p as u,G as v}from"./index-CxmTlZKA.js";const A=g("leaveApproval",()=>{const s=n([]),i=n(null),t=n(!1),o=n(null),c=async()=>{var e,r;t.value=!0,o.value=null;try{const l=await v.get("/leave-approvals");s.value=l.data}catch(l){o.value=((r=(e=l.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to fetch leave approvals.",console.error("Error fetching leave approvals:",l)}finally{t.value=!1}},f=async e=>{var r,l;t.value=!0,o.value=null;try{const a=await v.get(`/leave-approvals/${e}`);i.value=a.data}catch(a){o.value=((l=(r=a.response)==null?void 0:r.data)==null?void 0:l.message)||`Failed to fetch leave approval with ID: ${e}.`,console.error(`Error fetching leave approval with ID ${e}:`,a)}finally{t.value=!1}},d=async e=>{var r,l;t.value=!0,o.value=null;try{const a=await v.post("/leave-approvals",e);return await c(),a.data}catch(a){o.value=((l=(r=a.response)==null?void 0:r.data)==null?void 0:l.message)||"Failed to create leave approval.",console.error("Error creating leave approval:",a)}finally{t.value=!1}},h=async(e,r)=>{var l,a;t.value=!0,o.value=null;try{const p=await v.put(`/leave-approvals/${e}`,r);return await c(),p.data}catch(p){o.value=((a=(l=p.response)==null?void 0:l.data)==null?void 0:a.message)||`Failed to update leave approval with ID: ${e}.`,console.error(`Error updating leave approval with ID ${e}:`,p)}finally{t.value=!1}},y=async e=>{var r,l;t.value=!0,o.value=null;try{await v.delete(`/leave-approvals/${e}`),s.value=s.value.filter(a=>a.id!==e)}catch(a){o.value=((l=(r=a.response)==null?void 0:r.data)==null?void 0:l.message)||`Failed to delete leave approval with ID: ${e}.`,console.error(`Error deleting leave approval with ID ${e}:`,a)}finally{t.value=!1}};return{leaveApprovals:u(()=>s.value),leaveApproval:u(()=>i.value),loading:u(()=>t.value),error:u(()=>o.value),fetchLeaveApprovals:c,fetchLeaveApproval:f,createLeaveApproval:d,updateLeaveApproval:h,deleteLeaveApproval:y}});export{A as u};
