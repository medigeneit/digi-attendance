import{_ as T}from"./AcceptAndRejectHandler-C0deh4IU.js";import{L as M}from"./LoaderView-C3SSwKuP.js";import{f as A,ad as C,D,h as R,q as V,x as B,p as H,c as r,o as t,a as p,k as d,b as m,t as o,n as c,d as g,F as _,e as v,j as E,m as I}from"./index-GkRG0e2B.js";const j={class:"my-container space-y-6 px-4 py-4"},z={class:"md:text-2xl font-semibold capitalize text-gray-700"},F={key:0,class:"ml-auto text-xs bg-red-500 text-white rounded-full px-2 py-0.5 font-semibold"},O={key:0,class:"text-center text-red-500 py-10 text-xl italic"},$={key:1,class:"space-y-4"},q={class:"flex gap-2 md:gap-3 items-center"},U={class:"shrink-0 grow-0 btn-1 size-8 p-0"},Z={class:"shrink grow font-semibold text-sm md:text-base"},G={class:"ml-auto shrink-0 grow-0 flex gap-2 md:gap-3 items-center"},J=["href"],K=["innerHTML"],P={key:0,class:"flex flex-wrap gap-y-1 gap-x-3 items-center text-xs md:text-sm lg:text-base"},Q={key:0},W={key:1},X={key:1,class:"flex flex-wrap gap-y-1 gap-x-3 items-center text-xs md:text-sm lg:text-base"},Y={key:2,class:"flex flex-wrap gap-y-1 gap-x-3 items-center text-xs md:text-sm lg:text-base"},ee={key:3,class:"flex gap-3 items-center"},se={class:"flex items-center gap-8"},te={key:0,class:"flex flex-wrap flex-col md:flex-row gap-x-1 text-xs md:text-sm text-left"},ae={key:0,class:"hidden md:inline font-bold"},re=["innerHTML"],oe={__name:"MySpecificNotificationList",setup(pe){const l=A(),n=C(),{icons:k,loading:f,notifications:x,count_notifications:u}=D(n);R(()=>{l.params.type&&(n.fetchCountNotifications(),n.fetchSpecificNotifications(l.params.type))}),V(()=>l.params.type,(e,a)=>{e&&e!==a&&(n.fetchCountNotifications(),n.fetchSpecificNotifications(e))});const b=async()=>{await n.fetchSpecificNotifications(l.params.type)},i=e=>{var a;return(e==null?void 0:e.application_id)||(e==null?void 0:e.id)||(e==null?void 0:e.attachment_id)||((a=e==null?void 0:e.attachment)==null?void 0:a.id)||(e==null?void 0:e.event_id)},w={leave_applications:"LeaveApplicationShow",short_leave_applications:"ShortLeaveShow",shift_exchange_applications:"ExchangeShiftShow",offday_exchange_applications:"ExchangeOffdayShow",manual_attendance_applications:"ManualAttendanceShow",overtime_applications:"OvertimeShow",discipline_attachments:"DisciplineAttachmentDetails"},S=B(()=>l.params.type?l.params.type.replace(/[_-]/g," ").replace(/([A-Z])/g," $1").replace(/\s+/g," ").trim().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"");return(e,a)=>{const N=H("RouterLink");return t(),r("div",j,[p("h2",z,[m(o(S.value||"Notifications")+" ",1),c(u)[c(l).params.type]?(t(),r("span",F,o(c(u)[c(l).params.type]),1)):d("",!0)]),c(f)?(t(),r("div",O,[g(M)])):c(x).length?(t(),r("div",$,[(t(!0),r(_,null,v(c(x),s=>{var h;return t(),r("div",{key:s.application_id,class:"bg-white p-3 md:p-4 rounded-xl shadow border grid gap-2"},[p("div",q,[p("div",U,o(c(k)[c(l).params.type]),1),p("div",Z,o(s.user_name),1),p("div",G,[s!=null&&s.attachment?(t(),r("a",{key:0,href:s.attachment,target:"_blank",class:"btn-4 px-2"},a[0]||(a[0]=[p("i",{class:"fad fa-link"},null,-1)]),8,J)):d("",!0),i(s)?(t(),E(N,{key:1,to:{name:w[c(l).params.type],params:{id:i(s)}},class:"btn-1 px-3"},{default:I(()=>a[1]||(a[1]=[p("i",{class:"far fa-eye"},null,-1)])),_:2,__:[1]},1032,["to"])):d("",!0)])]),p("div",{class:"flex items-center text-red-600 text-xs md:text-sm lg:text-base",innerHTML:s.message},null,8,K),s.type||s.duration?(t(),r("div",P,[s.type?(t(),r("div",Q,[a[2]||(a[2]=p("span",{class:"text-gray-400"},"Type:",-1)),m(" "+o(s.type),1)])):d("",!0),s.duration?(t(),r("div",W,[a[3]||(a[3]=p("span",{class:"text-gray-400"},"Duration:",-1)),m(" "+o(s.duration),1)])):d("",!0)])):d("",!0),s.reason?(t(),r("div",X,[p("div",null,[a[4]||(a[4]=p("span",{class:"text-gray-400"},"Reason:",-1)),m(" "+o(s.reason),1)])])):d("",!0),s.last_approver_note?(t(),r("div",Y,[p("div",null,[a[5]||(a[5]=p("span",{class:"text-gray-400"},"Last Approver Note:",-1)),m(" "+o(s.last_approver_note),1)])])):d("",!0),c(l).params.type!=="discipline_attachments"?(t(),r("div",ee,[p("div",se,[(h=s.messages)!=null&&h.length?(t(),r("p",te,[(t(!0),r(_,null,v(s.messages,(L,y)=>(t(),r(_,{key:y},[y?(t(),r("span",ae,"|")):d("",!0),p("span",{innerHTML:L,class:"text-black"},null,8,re)],64))),128))])):d("",!0)]),g(T,{class:"ml-auto",notificationType:c(l).params.type,applicationId:s.application_id,onSuccess:b,variant:2},null,8,["notificationType","applicationId"])])):d("",!0)])}),128))])):d("",!0)])}}};export{oe as default};
