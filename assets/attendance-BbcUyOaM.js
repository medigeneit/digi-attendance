import{E as h,r as l,G as u}from"./index-B8yiLsc3.js";const R=h("attendance",()=>{const y=l([]),g=l([]),d=l([]),m=l(null),i=l(null),v=l(new Date().toISOString().substring(0,7)),p=l(new Date().toISOString().substring(0,10)),t=l(null),o=l(!1);return{monthlyLogs:y,dailyLateLogs:d,summary:m,monthly_company_summary:i,selectedMonth:v,selectedDate:p,error:t,isLoading:o,dailyLogs:g,getMonthlyAttendanceByShift:async(s,r)=>{var a,n;if(!s||!r){t.value="Invalid user ID or month";return}o.value=!0;try{const e=await u.get(`/user/${s}/attendance/monthly/${r}`);y.value=e.data.monthly_logs,m.value=e.data.summary,t.value=null}catch(e){t.value=((n=(a=e.response)==null?void 0:a.data)==null?void 0:n.message)||"Something went wrong",console.error(t.value)}finally{o.value=!1}},getTodayAttendanceReport:async(s,r)=>{var a,n;o.value=!0;try{const e={companyId:s,month:r},c=await u.get("/attendance/today",{params:e});g.value=c.data,t.value=null}catch(e){t.value=((n=(a=e.response)==null?void 0:a.data)==null?void 0:n.message)||"Something went wrong",console.error(t.value)}finally{o.value=!1}},getAttendanceLateReport:async(s,r)=>{var a,n;o.value=!0;try{const e={company_id:s,month:r},c=await u.get("/attendance/late-reports",{params:e});d.value=c.data,t.value=null}catch(e){t.value=((n=(a=e.response)==null?void 0:a.data)==null?void 0:n.message)||"Something went wrong",console.error(t.value)}finally{o.value=!1}},getMonthlyAttendanceSummaryReport:async(s,r)=>{var a,n;if(!s||!r){t.value="Invalid user ID or month";return}o.value=!0;try{const e={company_id:s,month:r},c=await u.get("/attendance/monthly-summary-reports",{params:e});i.value=c.data,t.value=null}catch(e){t.value=((n=(a=e.response)==null?void 0:a.data)==null?void 0:n.message)||"Something went wrong",console.error(t.value)}finally{o.value=!1}}}});export{R as u};
