import{d as U,m as H,A as W,f as O,o as s,c as o,g as d,a as e,j as a,t as l,x as X,p,D as Z,Y as ee}from"./index-CCDY22hC.js";import{_ as v}from"./ApprovalItem-CcT4KuHg.js";import{L as te}from"./LoaderView-BzFDh6qZ.js";import{_ as ne}from"./ShareComponent-DD-W6mps.js";import{u as ae}from"./manual-attendance-pFdPjGgm.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AcceptAndRejectHandler-Cffww1CK.js";const ie={key:0,class:"fixed inset-0 z-50","aria-modal":"true",role:"dialog","aria-labelledby":"manual-attendance-title"},se={class:"relative w-full max-w-4xl rounded-lg bg-white shadow-xl max-h-[90vh] overflow-y-auto print:overflow-visible print:shadow-none print:max-h-none"},oe={class:"p-4 md:p-8"},de={key:1,class:"card-bg p-4 md:p-8"},ue={class:"grid md:grid-cols-2"},re={key:0},ce={key:1},pe={key:2},me={key:3},ve={class:"pt-10"},fe={class:"text-sm"},ye={class:"title-md"},be={key:0},ge={key:0,class:"grid grid-cols-2 text-sm md:text-base md:grid-cols-3 md:gap-x-4 gap-y-14 pt-14 items-end"},_e={class:"mt-2 print:hidden"},ke={__name:"ManualAttendanceDetailsModal",props:{open:{type:Boolean,default:!1},id:{type:[String,Number],required:!0}},emits:["update:open"],setup(f,{emit:P}){const u=f,Y=P,r=ae();U();const J=H(()=>r.loading),n=H(()=>r.manualAttendance),c=()=>Y("update:open",!1),Q=async()=>{if(u.id)try{await r.fetchManualAttendanceById(u.id)}catch(i){console.error("Failed to fetch manual attendance details:",i)}};W(()=>[u.open,u.id],async([i])=>{i&&await Q()},{immediate:!0});const m=async()=>{await r.fetchManualAttendanceById(u.id)},y=i=>i?new Date(i).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",b=i=>i?new Date(i).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A";return(i,t)=>{var g,_,k,x,A,w,h,D,N,B,j,M,C,S,R,T,V,I,L,z,G,K,$,q,E,F;return s(),O(ee,{to:"body"},[f.open?(s(),o("div",ie,[e("div",{class:"fixed inset-0 bg-black/50",onClick:c}),e("div",{class:"fixed inset-0 flex items-center justify-center p-4",onKeydown:Z(c,["esc"])},[e("div",se,[e("div",{class:"sticky top-0 z-10 flex items-center justify-between gap-2 border-b bg-white px-4 py-3 print:hidden"},[e("button",{class:"btn-3",onClick:c},t[0]||(t[0]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),t[2]||(t[2]=e("h1",{id:"manual-attendance-title",class:"title-lg text-center"},"Manual Attendance Details",-1)),e("div",null,[e("button",{class:"btn-3",onClick:c},t[1]||(t[1]=[e("i",{class:"far fa-times"},null,-1),e("span",{class:"hidden md:inline"},"Close",-1)]))])]),e("div",oe,[J.value?(s(),O(te,{key:0})):(s(),o("div",de,[e("div",null,[e("div",ue,[(g=n.value)!=null&&g.check_in?(s(),o("div",re,[t[3]||(t[3]=e("b",null,"Date:",-1)),a(" "+l(y((_=n.value)==null?void 0:_.check_in)),1)])):d("",!0),(k=n.value)!=null&&k.check_out?(s(),o("div",ce,[t[4]||(t[4]=e("b",null,"Date:",-1)),a(" "+l(y((x=n.value)==null?void 0:x.check_out)),1)])):d("",!0),(A=n.value)!=null&&A.check_in?(s(),o("div",pe,[t[5]||(t[5]=e("b",null,"Check-In:",-1)),a(" "+l(b((w=n.value)==null?void 0:w.check_in)),1)])):d("",!0),(h=n.value)!=null&&h.check_out?(s(),o("div",me,[t[6]||(t[6]=e("b",null,"Check-Out:",-1)),a(" "+l(b((D=n.value)==null?void 0:D.check_out)),1)])):d("",!0),e("div",null,[t[7]||(t[7]=e("b",null,"Type:",-1)),a(" "+l((N=n.value)==null?void 0:N.type),1)]),e("div",null,[t[8]||(t[8]=e("b",null,"Reason:",-1)),a(" "+l(((B=n.value)==null?void 0:B.description)||"N/A"),1)])]),e("div",ve,[e("div",null,[t[12]||(t[12]=e("hr",{class:"w-44 border-black"},null,-1)),e("p",null,[t[9]||(t[9]=a(" Name: ")),e("b",null,l((M=(j=n.value)==null?void 0:j.user)==null?void 0:M.name),1)]),e("div",fe,[e("p",null,[t[10]||(t[10]=a(" Designation: ")),e("b",null,l((R=(S=(C=n.value)==null?void 0:C.user)==null?void 0:S.designation)==null?void 0:R.title),1)]),e("p",null,[t[11]||(t[11]=a(" Department: ")),e("b",null,l((I=(V=(T=n.value)==null?void 0:T.user)==null?void 0:V.department)==null?void 0:I.name),1)])])])])]),t[16]||(t[16]=e("hr",null,null,-1)),e("div",null,[e("h3",ye,[t[13]||(t[13]=a(" Approvals ")),e("span",{class:X({"text-yellow-500":((L=n.value)==null?void 0:L.status)==="Pending","text-green-500":((z=n.value)==null?void 0:z.status)==="Approved","text-red-500":((G=n.value)==null?void 0:G.status)==="Rejected"})}," ("+l(((K=n.value)==null?void 0:K.status)||"N/A")+") ",3)]),(($=n.value)==null?void 0:$.status)==="Rejected"?(s(),o("div",be,[e("div",null,[t[14]||(t[14]=e("b",null,"Rejected By:",-1)),a(" "+l(((E=(q=n.value)==null?void 0:q.rejected_by_user)==null?void 0:E.name)||"N/A"),1)]),e("div",null,[t[15]||(t[15]=e("b",null,"Rejection Reason:",-1)),a(" "+l(((F=n.value)==null?void 0:F.rejection_reason)||"N/A"),1)])])):d("",!0)]),n.value?(s(),o("div",ge,[p(v,{application:n.value,type:"manual_attendance_applications",item:"in_charge",onAction:m},null,8,["application"]),p(v,{application:n.value,type:"manual_attendance_applications",item:"recommend_by",onAction:m},null,8,["application"]),p(v,{application:n.value,type:"manual_attendance_applications",item:"approved_by",onAction:m},null,8,["application"])])):d("",!0)])),e("div",_e,[p(ne)])])])],32)])):d("",!0)])}}},je=le(ke,[["__scopeId","data-v-da5a9fef"]]);export{je as default};
