import{r as u,s as _,b as w,q as D,c as n,a as t,d as y,A as S,F as b,x as m,h as i,v as A,j as C,o as r,t as a,y as c,g as L}from"./index-DgsSwB-x.js";import{L as T}from"./LoaderView-DY1_k-z_.js";import{u as B}from"./attendance-DPQgiMX7.js";import{u as E}from"./company-70eqjzs0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"px-4 space-y-4"},M={class:"flex gap-4"},V=["value"],$={key:1,class:"space-y-4"},g={class:"overflow-x-auto card-bg"},j={class:"min-w-full table-auto border-collapse border border-gray-300 bg-white"},F={class:"text-center text-xs"},N={class:"border px-1 py-0.5"},U={class:"border px-1 py-0.5"},W={class:"border px-1 py-0.5"},q=["title"],z=["title"],H=["title"],I={class:"border px-1 py-0.5"},P={class:"border px-1 py-0.5"},G={class:"border px-1 py-0.5"},tt={__name:"TodayAttendanceReport",setup(J){const x=L(),p=E(),o=B(),d=u(""),h=u(""),{companies:v}=_(p),{dailyLogs:f}=_(o),l=async()=>{d.value&&await o.getTodayAttendanceReport(d.value,o.selectedDate)};w(async()=>{await p.fetchCompanies(),await o.getTodayAttendanceReport(d.value,o.selectedDate)}),D([d,h],l);const k=()=>x.go(-1);return(K,s)=>(r(),n("div",R,[t("div",{class:"flex items-center justify-between gap-2"},[t("button",{class:"btn-3",onClick:k},s[2]||(s[2]=[t("i",{class:"far fa-arrow-left"},null,-1),t("span",{class:"hidden md:flex"},"Back",-1)])),s[3]||(s[3]=t("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Monthly Attendance",-1)),s[4]||(s[4]=t("div",null,null,-1))]),t("div",M,[t("div",null,[y(t("select",{id:"userSelect","onUpdate:modelValue":s[0]||(s[0]=e=>d.value=e),onChange:l,class:"input-1"},[s[5]||(s[5]=t("option",{value:"",disabled:""},"Select a user",-1)),(r(!0),n(b,null,m(i(v),e=>(r(),n("option",{key:e==null?void 0:e.id,value:e==null?void 0:e.id},a(e==null?void 0:e.name),9,V))),128))],544),[[S,d.value]])]),t("div",null,[y(t("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=e=>i(o).selectedDate=e),onChange:l,class:"input-1"},null,544),[[A,i(o).selectedDate]])])]),i(o).isLoading?(r(),C(T,{key:0})):(r(),n("div",$,[t("div",g,[t("table",j,[s[6]||(s[6]=t("thead",null,[t("tr",{class:"bg-gray-200 text-xs"},[t("th",{class:"border p-1"},"Emp/Worker Name"),t("th",{class:"border p-1"},"Date"),t("th",{class:"border p-1"},"Day"),t("th",{class:"border p-1"},"Shift"),t("th",{class:"border p-1"},"Entry Time"),t("th",{class:"border p-1"},"Exit Time"),t("th",{class:"border p-1"},"Working Hours"),t("th",{class:"border p-1"},"Late Entry"),t("th",{class:"border p-1"},"Early Leave"),t("th",{class:"border p-1"},"Status")])],-1)),t("tbody",F,[(r(!0),n(b,null,m(i(f),e=>(r(),n("tr",{key:e==null?void 0:e.date},[t("td",N,a(e.user_name),1),t("td",U,a(e.date),1),t("td",W,a(e.weekday),1),t("td",{class:"border px-1 py-0.5",title:`${e.shift_start_time} to ${e.shift_end_time}`},a(e.shift_name),9,q),t("td",{class:c(["border px-1 py-0.5",{"bg-red-200":e.late_duration}]),title:`Device: ${e.entry_device}`},a(e.entry_time),11,z),t("td",{class:c(["border px-1 py-0.5",{"bg-red-200":e.early_leave_duration}]),title:`Device: ${e.exit_device}`},a(e.exit_time),11,H),t("td",I,a(e.working_hours),1),t("td",P,a(e.late_duration),1),t("td",G,a(e.early_leave_duration),1),t("td",{class:c(["border px-1 py-0.5",{"text-red-600":e.status==="Absent","text-green-600":e.status==="Present"}])},a(e.status),3)]))),128))])])])]))]))}};export{tt as default};
