import{B as $,r as v,x as m,C as c}from"./index-javiA15k.js";const I=$("comment",()=>{const o=v([]),i=v(null),n=v(!1),u=v(""),s=v(null),f=async a=>{var l,t;n.value=!0,s.value=null;try{const e=await c.get("/comments",{params:a});o.value=e.data}catch(e){s.value=((t=(l=e.response)==null?void 0:l.data)==null?void 0:t.message)||"কমেন্ট লোড করতে ব্যর্থ হয়েছে।"}finally{n.value=!1}},p=async a=>{var l,t;u.value="fetching",n.value=!0,s.value=null;try{const e=await c.get(`/comments/${a}`);i.value=e.data}catch(e){s.value=((t=(l=e.response)==null?void 0:l.data)==null?void 0:t.message)||`কমেন্ট (ID: ${a}) লোড করতে ব্যর্থ হয়েছে।`}finally{u.value="",n.value=!1}},g=async a=>{var l,t;u.value="creating",n.value=!0,s.value=null;try{const e=await c.post("/comments",a);return o.value.push(e.data.data),e.data.data}catch(e){throw s.value=((t=(l=e.response)==null?void 0:l.data)==null?void 0:t.message)||"কমেন্ট তৈরি করতে ব্যর্থ হয়েছে।",e}finally{n.value=!1,u.value=""}},y=async(a,l)=>{var t,e;u.value="updating",n.value=!0,s.value=null;try{const r=await c.put(`/comments/${a}`,l),d=o.value.findIndex(C=>C.id===a);return d!==-1&&(o.value[d]=r.data.data),r.data.data}catch(r){throw s.value=((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.message)||`কমেন্ট (ID: ${a}) আপডেট করতে ব্যর্থ হয়েছে।`,r}finally{n.value=!1,u.value=""}},h=async a=>{var l,t;u.value="deleting",n.value=!0,s.value=null;try{await c.delete(`/comments/${a}`),o.value=o.value.filter(e=>e.id!==a)}catch(e){throw s.value=((t=(l=e.response)==null?void 0:l.data)==null?void 0:t.message)||`কমেন্ট (ID: ${a}) মুছতে ব্যর্থ হয়েছে।`,e}finally{n.value=!1,u.value=""}},w=async a=>{var l,t;u.value="acknowledging",n.value=!0,s.value=null;try{const e=await c.post(`/comments/${a}/acknowledge`),r=o.value.findIndex(d=>d.id===a);return r!==-1&&(o.value[r]=e.data.data),e.data.data}catch(e){throw s.value=((t=(l=e.response)==null?void 0:l.data)==null?void 0:t.message)||`কমেন্ট (ID: ${a}) একনলেজ করতে ব্যর্থ হয়েছে।`,e}finally{n.value=!1,u.value=""}};return{comments:m(()=>o.value),comment:m(()=>i.value),loading:m(()=>n.value),error:m(()=>s.value),action:m(()=>u.value),fetchComments:f,fetchComment:p,createComment:g,updateComment:y,deleteComment:h,acknowledgeComment:w}});export{I as u};
