import{u as g}from"./useRequirementStore-ZPBxd45N.js";import{u as w,e as v,z as k,c as o,o as n,a as e,k as d,t as a,F as R,n as S,q as c,i as p,j as h}from"./index-BWMy-C83.js";import"./requirement-BEAl3uLY.js";const A={class:"container mx-auto p-6"},L={class:"bg-white shadow-md rounded-lg p-6"},C={key:0,class:"text-center py-4 text-gray-500"},D={key:1,class:"text-center py-4 text-red-500"},F={key:2,class:"overflow-x-auto"},N={class:"min-w-full bg-white border overflow-hidden table table-fixed"},j={class:"px-4 py-2"},B={class:"px-4 py-2 max-w-[60px] md:max-w-[300px]"},E={class:"flex flex-col lg:flex-row items-start lg:items-center gap-2"},T={class:"text-blue-700 font-semibold flex-shrink-0"},V={class:"text-blue-700 font-semibold flex-shrink-0"},M={class:""},P={key:0,class:"text-blue-800"},z={class:"line-clamp-1 text-sm"},O={key:1,class:"text-gray-400 text-sm"},U={key:0},G={key:1},H={class:"px-4 py-2 text-center whitespace-nowrap"},I={class:"text-gray-600"},J={class:"px-4 py-2 text-center"},K={class:"flex gap-4 items-center justify-center"},$={__name:"RequirementList",setup(Q){const l=g(),y=w();v(()=>{l.fetchRequirements()});const b=()=>{y.push({name:"RequirementAdd"})};return(W,s)=>{const r=k("RouterLink");return n(),o("div",A,[e("div",L,[e("div",{class:"flex justify-between items-center mb-6"},[s[2]||(s[2]=e("h2",{class:"text-2xl font-bold text-gray-800"},"Requirements",-1)),e("button",{onClick:b,class:"btn-1"},"Add Requirement")]),d(l).loading?(n(),o("div",C,"Loading requirements...")):d(l).error?(n(),o("div",D,a(d(l).error),1)):(n(),o("div",F,[e("table",N,[s[7]||(s[7]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left whitespace-nowrap"},"#"),e("th",{class:"px-4 py-2 text-left whitespace-nowrap"},"Department"),e("th",{class:"px-4 py-2 text-center whitespace-nowrap"},"Submitted On"),e("th",{class:"px-4 py-2 text-center whitespace-nowrap"},"Actions")])],-1)),e("tbody",null,[(n(!0),o(R,null,S(d(l).requirements,(t,f)=>{var m,u,x;return n(),o("tr",{key:t.id,class:"border-t hover:bg-blue-50 odd:bg-gray-50"},[e("td",j,a(f+1),1),e("td",B,[e("div",E,[s[3]||(s[3]=e("span",{class:"text-gray-500"},"From ",-1)),e("span",T,a((m=t==null?void 0:t.from_department)==null?void 0:m.name),1),s[4]||(s[4]=e("span",{class:"text-gray-500"},"To ",-1)),e("span",V,a((u=t==null?void 0:t.to_department)==null?void 0:u.name),1)]),e("div",M,[((x=t==null?void 0:t.details)==null?void 0:x.length)>0&&Array.isArray(t==null?void 0:t.details)?(n(),o("div",P,[e("div",z,a(t==null?void 0:t.details[0].title),1)])):(n(),o("div",O,"No Details added")),c(r,{to:{name:"RequirementShow",params:{id:t==null?void 0:t.id}},class:"text-blue-600 text-sm hover:underline hover:text-blue-800"},{default:p(()=>{var i,_;return[((i=t==null?void 0:t.details)==null?void 0:i.length)-1>0?(n(),o("span",U,a(((_=t==null?void 0:t.details)==null?void 0:_.length)-1)+" More Requirement ",1)):(n(),o("span",G,"Show Form"))]}),_:2},1032,["to"])])]),e("td",H,[e("div",I,a(new Date(t.submission_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})),1)]),e("td",J,[e("div",K,[c(r,{to:{name:"RequirementShow",params:{id:t==null?void 0:t.id}},class:"btn-2",onClick:s[0]||(s[0]=i=>i.stopPropagation())},{default:p(()=>s[5]||(s[5]=[e("i",{class:"fad fa-eye"},null,-1),h(" Show ")])),_:2,__:[5]},1032,["to"]),c(r,{to:{name:"RequirementEdit",params:{id:t==null?void 0:t.id}},class:"btn-4 border border-blue-500 hover:bg-blue-500 hover:text-white",onClick:s[1]||(s[1]=i=>i.stopPropagation())},{default:p(()=>s[6]||(s[6]=[e("i",{class:"fad fa-edit"},null,-1),h(" Edit ")])),_:2,__:[6]},1032,["to"])])])])}),128))])])]))])])}}};export{$ as default};
