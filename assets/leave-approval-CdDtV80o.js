import{J as g,r as n,p as u,E as v}from"./index-BK6oVgrE.js";const A=g("leaveApproval",()=>{const p=n([]),i=n(null),t=n(!1),o=n(null),c=async(a={})=>{var l,r;t.value=!0,o.value=null;try{const e=await v.get("/leave-approvals",{params:a});p.value=e.data}catch(e){o.value=((r=(l=e.response)==null?void 0:l.data)==null?void 0:r.message)||"Failed to fetch leave approvals.",console.error("Error fetching leave approvals:",e)}finally{t.value=!1}},f=async a=>{var l,r;t.value=!0,o.value=null;try{const e=await v.get(`/leave-approvals/${a}`);i.value=e.data}catch(e){o.value=((r=(l=e.response)==null?void 0:l.data)==null?void 0:r.message)||`Failed to fetch leave approval with ID: ${a}.`,console.error(`Error fetching leave approval with ID ${a}:`,e)}finally{t.value=!1}},y=async a=>{var l,r;t.value=!0,o.value=null;try{const e=await v.post("/leave-approvals",a);return await c({type:a.type}),e.data}catch(e){o.value=((r=(l=e.response)==null?void 0:l.data)==null?void 0:r.message)||"Failed to create leave approval.",console.error("Error creating leave approval:",e)}finally{t.value=!1}},d=async(a,l)=>{var r,e;t.value=!0,o.value=null;try{const s=await v.put(`/leave-approvals/${a}`,l);return await c({type:l.type}),s.data}catch(s){o.value=((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||`Failed to update leave approval with ID: ${a}.`,console.error(`Error updating leave approval with ID ${a}:`,s)}finally{t.value=!1}},h=async a=>{var l,r;t.value=!0,o.value=null;try{await v.delete(`/leave-approvals/${a}`),p.value=p.value.filter(e=>e.id!==a)}catch(e){o.value=((r=(l=e.response)==null?void 0:l.data)==null?void 0:r.message)||`Failed to delete leave approval with ID: ${a}.`,console.error(`Error deleting leave approval with ID ${a}:`,e)}finally{t.value=!1}};return{leaveApprovals:u(()=>p.value),leaveApproval:u(()=>i.value),loading:u(()=>t.value),error:u(()=>o.value),fetchLeaveApprovals:c,fetchLeaveApproval:f,createLeaveApproval:y,updateLeaveApproval:d,deleteLeaveApproval:h}});export{A as u};
