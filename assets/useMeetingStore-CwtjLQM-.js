import{P as M,r as o,m as c,Q as i}from"./index-BnkImPfz.js";const x=M("meeting",()=>{const u=o([]),v=o(null),l=o(!1),n=o(null),f=async(t,s)=>{var e,a;l.value=!0,n.value=null;try{await i.post(`/meetings/${t}/assign-users`,{user_ids:s}),await g(t)}catch(r){throw n.value=((a=(e=r.response)==null?void 0:e.data)==null?void 0:a.message)||"Assign users failed",r}finally{l.value=!1}},m=async()=>{var t,s;l.value=!0,n.value=null;try{const e=await i.get("/meetings");u.value=e.data}catch(e){n.value=((s=(t=e.response)==null?void 0:t.data)==null?void 0:s.message)||"মিটিং লোড করতে ব্যর্থ হয়েছে।"}finally{l.value=!1}},g=async t=>{var s,e;l.value=!0,n.value=null;try{const a=await i.get(`/meetings/${t}`);v.value=a.data}catch(a){n.value=((e=(s=a.response)==null?void 0:s.data)==null?void 0:e.message)||"মিটিং লোড করতে ব্যর্থ হয়েছে।"}finally{l.value=!1}},p=async t=>{var s,e;l.value=!0,n.value=null;try{const a=await i.post("/meetings",t);return u.value.push(a.data.data),a.data.data}catch(a){n.value=((e=(s=a.response)==null?void 0:s.data)==null?void 0:e.message)||"মিটিং তৈরি করতে ব্যর্থ হয়েছে।"}finally{l.value=!1}},y=async(t,s)=>{var e,a;l.value=!0,n.value=null;try{const r=await i.put(`/meetings/${t}`,s),d=u.value.findIndex(w=>w.id===t);return d!==-1&&(u.value[d]=r.data.data),r.data.data}catch(r){n.value=((a=(e=r.response)==null?void 0:e.data)==null?void 0:a.message)||`মিটিং (ID: ${t}) আপডেট করতে ব্যর্থ হয়েছে।`}finally{l.value=!1}},h=async t=>{var s,e;l.value=!0,n.value=null;try{await i.delete(`/meetings/${t}`),u.value=u.value.filter(a=>a.id!==t)}catch(a){n.value=((e=(s=a.response)==null?void 0:s.data)==null?void 0:e.message)||`মিটিং (ID: ${t}) মুছতে ব্যর্থ হয়েছে।`}finally{l.value=!1}};return{meetings:c(()=>u.value),meeting:c(()=>v.value),loading:c(()=>l.value),error:c(()=>n.value),fetchMeetings:m,fetchEditMeeting:g,createMeeting:p,updateMeeting:y,deleteMeeting:h,assignUsers:f}});export{x as u};
