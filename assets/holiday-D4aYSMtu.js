import{J as w,r as i,K as n}from"./index-C2AyZSdO.js";const H=w("holiday",()=>{const u=i([]),r=i(null),s=i(!1),o=i(null);async function y(e={}){var t,l;s.value=!0,o.value=null;try{const a=await n.get("/holidays",{params:e});return u.value=a==null?void 0:a.data,a==null?void 0:a.data}catch(a){o.value=((l=(t=a.response)==null?void 0:t.data)==null?void 0:l.message)||"Failed to fetch holidays"}finally{s.value=!1}}async function v(e){var t,l;s.value=!0,o.value=null;try{const a=await n.get(`/holidays/${e}`);r.value=a.data}catch(a){o.value=((l=(t=a.response)==null?void 0:t.data)==null?void 0:l.message)||`Failed to fetch holiday with ID ${e}`}finally{s.value=!1}}async function f(e){var t,l;s.value=!0,o.value=null;try{const a=await n.post("/holidays",e);u.value.push(a.data.data)}catch(a){o.value=((l=(t=a.response)==null?void 0:t.data)==null?void 0:l.message)||"Failed to create holiday"}finally{s.value=!1}}async function h(e,t){var l,a;s.value=!0,o.value=null;try{const d=await n.put(`/holidays/${e}`,t),c=u.value.findIndex(g=>g.id===e);c!==-1&&(u.value[c]=d.data.data)}catch(d){o.value=((a=(l=d.response)==null?void 0:l.data)==null?void 0:a.message)||`Failed to update holiday with ID ${e}`}finally{s.value=!1}}async function p(e){var t,l;s.value=!0,o.value=null;try{await n.delete(`/holidays/${e}`),u.value=u.value.filter(a=>a.id!==e)}catch(a){o.value=((l=(t=a.response)==null?void 0:t.data)==null?void 0:l.message)||`Failed to delete holiday with ID ${e}`}finally{s.value=!1}}return{holidays:u,holiday:r,loading:s,error:o,fetchHolidays:y,fetchHolidayById:v,createHoliday:f,updateHoliday:h,deleteHoliday:p}});export{H as u};
