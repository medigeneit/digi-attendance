import{D as C,r as c,y as m,E as r}from"./index-CA1YAq4M.js";const $=C("comment",()=>{const o=c([]),v=c(null),l=c(!1),n=c(null),f=async()=>{var e,s;l.value=!0,n.value=null;try{const a=await r.get("/comments");o.value=a.data}catch(a){n.value=((s=(e=a.response)==null?void 0:e.data)==null?void 0:s.message)||"কমেন্ট লোড করতে ব্যর্থ হয়েছে।"}finally{l.value=!1}},i=async e=>{var s,a;l.value=!0,n.value=null;try{const t=await r.get(`/comments/${e}`);v.value=t.data}catch(t){n.value=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||`কমেন্ট (ID: ${e}) লোড করতে ব্যর্থ হয়েছে।`}finally{l.value=!1}},p=async e=>{var s,a;l.value=!0,n.value=null;try{const t=await r.post("/comments",e);return o.value.push(t.data.data),t.data.data}catch(t){n.value=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||"কমেন্ট তৈরি করতে ব্যর্থ হয়েছে।"}finally{l.value=!1}},y=async(e,s)=>{var a,t;l.value=!0,n.value=null;try{const u=await r.put(`/comments/${e}`,s),d=o.value.findIndex(h=>h.id===e);return d!==-1&&(o.value[d]=u.data.data),u.data.data}catch(u){throw n.value=((t=(a=u.response)==null?void 0:a.data)==null?void 0:t.message)||`কমেন্ট (ID: ${e}) আপডেট করতে ব্যর্থ হয়েছে।`,u}finally{l.value=!1}},g=async e=>{var s,a;l.value=!0,n.value=null;try{await r.delete(`/comments/${e}`),o.value=o.value.filter(t=>t.id!==e)}catch(t){n.value=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||`কমেন্ট (ID: ${e}) মুছতে ব্যর্থ হয়েছে।`}finally{l.value=!1}};return{comments:m(()=>o.value),comment:m(()=>v.value),loading:m(()=>l.value),error:m(()=>n.value),fetchComments:f,fetchComment:i,createComment:p,updateComment:y,deleteComment:g}});export{$ as u};
