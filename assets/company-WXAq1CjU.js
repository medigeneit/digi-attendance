import{L as D,r as c,m as p,C as t}from"./index-BjblboAM.js";const S=D("company",()=>{const l=c([]),i=c([]),m=c([]),v=c(null),r=c(!1),o=c(null),f=async(a={})=>{var n,s;r.value=!0,o.value=null;try{const e=await t.get("/companies",{params:a});l.value=e.data}catch(e){o.value=((s=(n=e.response)==null?void 0:n.data)==null?void 0:s.message)||"কোম্পানি লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching companies:",e)}finally{r.value=!1}},d=async(a={})=>{var n,s;r.value=!0,o.value=null;try{const e=await t.get("/companies",{params:{...a,ignore_permission:!1}});i.value=e.data}catch(e){o.value=((s=(n=e.response)==null?void 0:n.data)==null?void 0:s.message)||"কোম্পানি লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching companies:",e)}finally{r.value=!1}},g=async a=>{var n,s;r.value=!0,o.value=null;try{const e=await t.get(`/companies/${a}`);v.value=e.data}catch(e){o.value=((s=(n=e.response)==null?void 0:n.data)==null?void 0:s.message)||`কোম্পানি (ID: ${a}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching company with id ${a}:`,e)}finally{r.value=!1}},h=async a=>{var n,s;r.value=!0,o.value=null;try{const e=await t.post("/companies",a);return l.value.push(e.data),e.data}catch(e){o.value=((s=(n=e.response)==null?void 0:n.data)==null?void 0:s.message)||"কোম্পানি তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating company:",e)}finally{r.value=!1}},$=async(a,n)=>{var s,e;r.value=!0,o.value=null;try{const u=await t.put(`/companies/${a}`,n),y=l.value.findIndex(I=>I.id===a);return y!==-1&&(l.value[y]=u.data),u.data}catch(u){o.value=((e=(s=u.response)==null?void 0:s.data)==null?void 0:e.message)||`কোম্পানি (ID: ${a}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating company with id ${a}:`,u)}finally{r.value=!1}},w=async a=>{var n,s;r.value=!0,o.value=null;try{const e=await t.get(`/companies/${a}/employees`);return m.value=e.data,e.data}catch(e){o.value=((s=(n=e.response)==null?void 0:n.data)==null?void 0:s.message)||`কোম্পানি (ID: ${a}) এর এমপ্লয়ী লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching department with id ${a}:`,e)}finally{r.value=!1}},C=async a=>{var n,s;r.value=!0,o.value=null;try{await t.delete(`/companies/${a}`),l.value=l.value.filter(e=>e.id!==a)}catch(e){o.value=((s=(n=e.response)==null?void 0:n.data)==null?void 0:s.message)||`কোম্পানি (ID: ${a}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting company with id ${a}:`,e)}finally{r.value=!1}},E=async a=>await t.get(`/companies/${a}/employees`);return{companies:p(()=>l.value),myCompanies:p(()=>i.value),company:p(()=>v.value),loading:p(()=>r.value),error:p(()=>o.value),employees:m,fetchEmployee:w,fetchCompanies:f,fetchMyCompanies:d,fetchCompany:g,createCompany:h,updateCompany:$,deleteCompany:C,fetchEmployees:E}});export{S as u};
