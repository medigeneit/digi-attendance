import{g as oe,D as P,r as f,x as W,ad as Z,q as z,h as te,c as i,o as d,a as e,i as O,w as se,j as S,k as h,v as U,P as re,t as m,F as j,e as M,m as T,ae as H,b as ne,d as V,u as de,f as ue,p as ie,l as ee,Y as ce}from"./index-CXRXeaCb.js";import{L as ae}from"./LoaderView-BVlZol1h.js";import{_ as pe}from"./MultiselectDropdown-V7HyhFF9.js";import{u as ye}from"./holiday-DHTD9_31.js";import{u as le}from"./leave-application-rD2KSUqm.js";import{u as me}from"./leave-type-i2OVV7EW.js";import{u as J}from"./user-DmA30Qu1.js";import{_ as ve}from"./EmployeeFilter-BMsgEedr.js";import{S as _e}from"./SelectedEmployeeCard-BmR-9XDV.js";import{u as be}from"./company-CVNK3tBw.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./MultiselectDropdown.vue_vue_type_style_index_0_lang-WxFpqQch.js";import"./department-s8cOONWt.js";import"./EmployeeDropdownInput-CGrTGuhL.js";import"./SelectDropdown-IWCE-gOx.js";import"./UserChip-CFMG9I2H.js";const fe={class:"space-y-6 p-4"},xe={class:"space-y-4"},he={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ge={class:"space-y-2"},we={class:"space-y-2"},ke={class:"flex flex-wrap items-center justify-between gap-3 rounded-xl border border-slate-100 bg-slate-50/60 p-4"},$e={class:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 shadow-sm"},Le={key:0,class:"rounded-xl border border-blue-100 bg-blue-50/70 px-4 py-3 text-sm font-medium text-blue-700"},Se={class:"space-y-4 rounded-2xl border border-dashed border-slate-200 p-4"},Ae={class:"flex flex-wrap items-center justify-between gap-3"},Ue={class:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600"},De={key:0,class:"rounded-xl border border-slate-100 bg-white/70 p-6 text-center text-sm text-slate-500"},Ce={key:1,class:"space-y-3"},qe={class:"flex flex-wrap items-center justify-between gap-2"},Ve={class:"text-base font-semibold text-slate-700"},Te={class:"flex flex-wrap gap-2"},Be=["title"],je=["name","value","onUpdate:modelValue","disabled"],Me={class:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-sm font-medium text-slate-600 transition peer-checked:border-blue-500 peer-checked:bg-blue-50 peer-checked:text-blue-600 peer-disabled:opacity-40"},Fe={class:"text-xs text-slate-400"},Re={class:"cursor-pointer"},Ne=["name","onUpdate:modelValue"],Ie={class:"cursor-pointer"},Ye=["name","onUpdate:modelValue"],We={class:"text-xs uppercase tracking-wide text-slate-400"},ze={class:"space-y-4 rounded-2xl border border-slate-100 bg-slate-50/50 p-4"},Ee={class:"space-y-2"},He={key:0,class:"space-y-4"},Pe={class:"space-y-2"},Oe={class:"space-y-2"},Je={key:0,class:"rounded-xl border border-red-100 bg-red-50 px-4 py-3 text-sm text-red-600"},Qe={__name:"AdminLeaveApplicationAddForm",props:{userInfo:Object},emits:["close","formSuccessClosed"],setup(D,{emit:B}){const n=D,x=B,A=le();me();const g=J(),w=oe(),$=ye(),{userLeaveBalance:C}=P(g),q=f(""),L=f(!0),o=f({last_working_date:"",resumption_date:"",reason:"",works_in_hand:"",handover_user_id:"",leave_days:[]}),l=f([]),c=f(!1),k=f(null),b=W(()=>{var p,t,u;return((t=(p=n==null?void 0:n.userInfo)==null?void 0:p.assign_weekend)==null?void 0:t.weekends)||((u=n==null?void 0:n.userInfo)==null?void 0:u.weekends)}),_=W(()=>{const p=o.value.last_working_date,t=o.value.resumption_date;if(!p||!t)return[];const u=new Date(p),y=new Date(t);if(y<=u)return[];const v=[];let r=new Date(u);for(r.setDate(r.getDate()+1);r<y;){const a=r.getFullYear(),N=(r.getMonth()+1).toString().padStart(2,"0"),I=r.getDate().toString().padStart(2,"0");v.push(`${a}-${N}-${I}`),r.setDate(r.getDate()+1)}return v}),F=W(()=>{if(!o.value.last_working_date||!o.value.resumption_date)return"";const p=new Date(o.value.last_working_date);return new Date(o.value.resumption_date)<=p?"Resumption date must be after Last Working Date.":_.value.length===0?"No leave days between the selected dates.":null});Z(async()=>{var p;_.value.length&&C.value.length&&(await $.fetchHolidays({company_id:(p=w==null?void 0:w.user)==null?void 0:p.company_id,start_date:_.value[0],end_date:_.value[_.value.length-1]}),_.value.forEach(async(t,u)=>{const y=new Date(t).toLocaleString("en-us",{weekday:"long"}).toLowerCase(),v=y.charAt(0).toUpperCase()+y.slice(1);b.value.includes(v)&&(l.value[u]="weekend"),$.holidayDates.includes(t)&&(l.value[u]="holiday")}))}),z(()=>q.value,p=>{o.value.handover_user_id=p==null?void 0:p.id});const E=async()=>{var p;c.value=!0,k.value=null;try{const t=_.value.map((r,a)=>({date:r,leave_type_id:l.value[a]!=="weekend"&&l.value[a]!=="holiday"?l.value[a]:null})).filter(r=>r.leave_type_id!==null),u=_.value.map((r,a)=>({date:r,leave_type_id:l.value[a]||""})).filter(r=>r.leave_type_id!==null),y={user_id:(p=n==null?void 0:n.userInfo)==null?void 0:p.id,last_working_date:o.value.last_working_date,resumption_date:o.value.resumption_date,reason:o.value.reason,works_in_hand:o.value.works_in_hand,handover_user_id:L.value?null:o.value.handover_user_id,leave_days:t,json_data:u,is_direct_approve:L.value};await A.storeAdminLeaveApplication(y)&&x("formSuccessClosed")}catch(t){k.value=t.message||"Failed to submit leave application"}finally{c.value=!1}};te(async()=>{Z(()=>{var t;const p=(t=n==null?void 0:n.userInfo)==null?void 0:t.id;p&&g.fetchUserLeaveBalances(p)}),await g.fetchTypeWiseEmployees({except:"auth"})});const R=()=>{x("close")};return(p,t)=>(d(),i("div",fe,[e("header",{class:"flex flex-wrap items-start justify-between gap-3"},[t[6]||(t[6]=e("div",null,[e("p",{class:"text-xs font-semibold uppercase tracking-widest text-slate-500"},"Admin panel"),e("h1",{class:"title-md md:title-lg"},"Leave Application Form")],-1)),e("button",{type:"button",class:"rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 transition hover:border-slate-400 hover:text-slate-800",onClick:R}," Close ")]),c.value?(d(),O(ae,{key:0})):(d(),i("form",{key:1,onSubmit:se(E,["prevent"]),class:"space-y-6 rounded-2xl border border-slate-100 bg-white/80 p-4 shadow-sm backdrop-blur"},[e("section",xe,[e("div",he,[e("div",ge,[t[7]||(t[7]=e("label",{class:"text-sm font-semibold text-slate-600"},"Last Working Date",-1)),h(e("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=u=>o.value.last_working_date=u),class:"input-1 w-full",required:""},null,512),[[U,o.value.last_working_date]])]),e("div",we,[t[8]||(t[8]=e("label",{class:"text-sm font-semibold text-slate-600"},"Resumption Date",-1)),h(e("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=u=>o.value.resumption_date=u),class:"input-1 w-full",required:""},null,512),[[U,o.value.resumption_date]])])]),e("div",ke,[t[10]||(t[10]=e("div",null,[e("p",{class:"text-sm font-semibold text-slate-600"},"Approval preference"),e("p",{class:"text-xs text-slate-500"}," Toggle off to assign a handover owner and capture works in hand. ")],-1)),e("label",$e,[h(e("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=u=>L.value=u),class:"h-4 w-4 text-blue-600"},null,512),[[re,L.value]]),t[9]||(t[9]=e("span",{class:"text-sm font-semibold text-slate-700"},"Direct approve",-1))])]),o.value.last_working_date&&o.value.resumption_date&&F.value?(d(),i("div",Le,m(F.value),1)):S("",!0)]),e("section",Se,[e("div",Ae,[t[11]||(t[11]=e("div",null,[e("p",{class:"text-base font-semibold text-slate-700"},"Day-by-day allocation")],-1)),e("span",Ue,m(_.value.length)+" day"+m(_.value.length===1?"":"s"),1)]),_.value.length?(d(),i("div",Ce,[(d(!0),i(j,null,M(_.value,(u,y)=>(d(),i("div",{key:y,class:"rounded-2xl flex border border-slate-100 bg-white p-2 items-center justify-between shadow-sm transition hover:border-blue-200"},[e("div",qe,[e("p",Ve,m(u),1)]),e("div",Te,[(d(!0),i(j,null,M(T(C),v=>(d(),i("label",{key:v.id,class:"cursor-pointer",title:v.remaining_days===0?"No balance remaining":""},[h(e("input",{type:"radio",name:"leaveType-"+y,value:v.id,"onUpdate:modelValue":r=>l.value[y]=r,class:"peer hidden",disabled:l.value.filter(r=>r===v.id).length>=v.remaining_days},null,8,je),[[H,l.value[y]]]),e("span",Me,[ne(m(v.name)+" ",1),e("span",Fe,"("+m(v.remaining_days)+"d)",1)])],8,Be))),128)),e("label",Re,[h(e("input",{type:"radio",name:"leaveType-"+y,value:"weekend","onUpdate:modelValue":v=>l.value[y]=v,class:"peer hidden"},null,8,Ne),[[H,l.value[y]]]),t[12]||(t[12]=e("span",{class:"inline-flex items-center rounded-full border border-slate-200 px-3 py-1 text-sm font-medium text-slate-600 transition peer-checked:border-amber-500 peer-checked:bg-amber-50 peer-checked:text-amber-600"}," Weekend ",-1))]),e("label",Ie,[h(e("input",{type:"radio",name:"leaveType-"+y,value:"holiday","onUpdate:modelValue":v=>l.value[y]=v,class:"peer hidden"},null,8,Ye),[[H,l.value[y]]]),t[13]||(t[13]=e("span",{class:"inline-flex items-center rounded-full border border-slate-200 px-3 py-1 text-sm font-medium text-slate-600 transition peer-checked:border-emerald-500 peer-checked:bg-emerald-50 peer-checked:text-emerald-600"}," Holiday ",-1))])]),e("p",We,m(l.value[y]?"Assigned":"Unassigned"),1)]))),128))])):(d(),i("div",De," No days calculated yet. Pick a last working date and a resumption date to configure the breakdown. "))]),e("section",ze,[e("div",Ee,[t[14]||(t[14]=e("label",{class:"text-sm font-semibold text-slate-600"},"Reason",-1)),h(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=u=>o.value.reason=u),class:"input-1 min-h-[80px] w-full",placeholder:"Summarize why the leave is required"},null,512),[[U,o.value.reason]])]),L.value?S("",!0):(d(),i("div",He,[e("div",Pe,[t[15]||(t[15]=e("label",{class:"text-sm font-semibold text-slate-600"},"Handover user",-1)),V(pe,{modelValue:q.value,"onUpdate:modelValue":t[4]||(t[4]=u=>q.value=u),options:T(g).users,multiple:!1,label:"label",placeholder:"Select the teammate who will receive the handover",class:"z-50"},null,8,["modelValue","options"])]),e("div",Oe,[t[16]||(t[16]=e("label",{for:"works-in-hand",class:"text-sm font-semibold text-slate-600"},"Works in hand",-1)),h(e("textarea",{id:"works-in-hand","onUpdate:modelValue":t[5]||(t[5]=u=>o.value.works_in_hand=u),class:"input-1 min-h-[100px] w-full",placeholder:"Detail the tasks that will continue while away"},null,512),[[U,o.value.works_in_hand]])])]))]),k.value?(d(),i("div",Je,m(k.value),1)):S("",!0),e("div",{class:"flex flex-wrap items-center justify-end gap-3"},[e("button",{type:"button",class:"rounded-full border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-400",onClick:R}," Cancel "),t[17]||(t[17]=e("button",{type:"submit",class:"btn-2 rounded-full px-6 py-2"},"Submit request",-1))])],32))]))}},Ge={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50"},Ke={class:"bg-white rounded-lg shadow-lg w-full max-w-3xl"},Xe={class:"px-6 py-4 border-b"},Ze={class:"text-lg font-bold"},et={class:"table-auto w-full border"},tt={class:"p-2"},st=["onUpdate:modelValue"],at=["onUpdate:modelValue"],lt={class:"p-2"},ot=["onUpdate:modelValue"],rt={class:"p-2"},nt=["onUpdate:modelValue"],dt={__name:"UserLeaveBalanceModal",props:{show:{type:Boolean,required:!0},user:{type:Object,required:!0}},emits:["close"],setup(D,{emit:B}){const n=D,x=B,A=be(),g=J(),w=f([]),$=f(!1);z(()=>n.show,async o=>{var l;o&&((l=n.user)!=null&&l.id)&&!$.value&&(await C(),$.value=!0)}),z(()=>{var o;return(o=n.user)==null?void 0:o.id},()=>{$.value=!1,w.value=[]});const C=async()=>{try{const o=await g.fetchUserLeaveTypes(n.user.id);if(o!=null&&o.length)w.value=o;else{const l=await A.fetchCompanyLeaveTypes(n.user.company_id);w.value=l.data.map(c=>({id:c.id,name:c.name,annual_quota:c.annual_quota||0,max_consecutive_days:c.max_consecutive_days||null,type:c.type||"Paid"}))}}catch(o){console.error("Failed to load leave balances or fallback types:",o)}},q=async()=>{try{await g.saveLeaveBalances(n.user.id,w.value),x("close")}catch(o){console.error("Failed to save leave balances:",o)}},L=()=>{x("close")};return(o,l)=>D.show&&D.user?(d(),i("div",Ge,[e("div",Ke,[e("div",Xe,[e("h3",Ze,"Set Leave Balances for "+m(D.user.name),1)]),e("form",{onSubmit:se(q,["prevent"]),class:"p-6 space-y-4"},[e("table",et,[l[0]||(l[0]=e("thead",{class:"bg-gray-100 text-left"},[e("tr",null,[e("th",{class:"p-2"},"Leave Type"),e("th",{class:"p-2"},"Annual Quota"),e("th",{class:"p-2"},"Max Consecutive Days")])],-1)),e("tbody",null,[(d(!0),i(j,null,M(w.value,(c,k)=>(d(),i("tr",{key:k},[e("td",tt,[h(e("input",{type:"hidden","onUpdate:modelValue":b=>c.id=b,class:"input-1 w-full"},null,8,st),[[U,c.id]]),h(e("input",{"onUpdate:modelValue":b=>c.name=b,class:"input-1 w-full",disabled:""},null,8,at),[[U,c.name]])]),e("td",lt,[h(e("input",{"onUpdate:modelValue":b=>c.annual_quota=b,type:"number",min:"0",class:"input-1 w-full"},null,8,ot),[[U,c.annual_quota,void 0,{number:!0}]])]),e("td",rt,[h(e("input",{"onUpdate:modelValue":b=>c.max_consecutive_days=b,type:"number",min:"0",class:"input-1 w-full"},null,8,nt),[[U,c.max_consecutive_days,void 0,{number:!0}]])])]))),128))])]),e("div",{class:"flex justify-end gap-2 pt-4 border-t"},[e("button",{type:"button",onClick:L,class:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300"}," Cancel "),l[1]||(l[1]=e("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"}," Save ",-1))])],32)])])):S("",!0)}},ut={class:"space-y-2 px-4"},it={class:"flex flex-wrap gap-2 py-4"},ct={key:0,class:"text-center py-4"},pt={key:1,class:"space-y-4"},yt={key:0,class:"bg-sky-100/30 p-4 rounded-lg shadow mb-6 space-y-6"},mt={class:"grid md:grid-cols-2 gap-6"},vt={class:"bg-white border rounded-lg p-4 shadow"},_t={class:"overflow-x-auto"},bt={class:"min-w-full text-sm text-left text-gray-700 border"},ft={class:"px-4 py-1 text-center font-medium"},xt={class:"px-4 py-1 text-center"},ht={class:"px-4 py-1 text-center"},gt={class:"px-4 py-1 text-center"},wt={class:"px-4 py-1 text-center"},kt={class:"overflow-x-auto"},$t={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},Lt={class:"border border-gray-300 px-2 py-2"},St={class:"border border-gray-300 px-2 py-2 text-center"},At={class:"border border-gray-300 px-2 py-2 text-center"},Ut={class:"border border-gray-300 px-2 py-2"},Dt={class:"border border-gray-300 px-2 py-2"},Ct=["innerHTML"],qt={class:"border border-gray-300 px-2 py-2 text-center"},Vt={class:"border border-gray-300 px-2 py-2"},Tt={class:"border border-gray-300 px-2"},Bt={class:"flex justify-center gap-2"},jt=["onClick"],Mt={key:0},Ft={key:0},Rt={class:"text-center py-2",colspan:"6"},Nt={key:0,class:"fixed inset-0 z-[1000] bg-black bg-opacity-50 flex items-center justify-center"},It={class:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-lg p-4 relative"},as={__name:"AdminLeaveApplication",setup(D){const B=de(),n=ue(),x=le(),A=J(),{user:g,leave_balances:w,leaveApplications:$,loading:C}=P(x),{userLeaveBalance:q}=P(A),L=f(n.query.year||x.selectedYear),o=f(n.query.search||""),l=f({company_id:n.query.company_id||"",department_id:n.query.department_id||"all",line_type:n.query.line_type||"all",employee_id:n.query.employee_id||""}),c=f(!1),k=f(!1),b=async()=>{const r={selectedYear:L.value,selectedStatus:x.selectedStatus,query:o.value};l.value.employee_id?(r.user_id=l.value.employee_id,C.value=!0,await x.fetchYearlyUserLeaveApplications(r),C.value=!1):$.value=[]};te(async()=>{await b(),n.query.employee_id&&await A.fetchUserLeaveBalances(n.query.employee_id)}),z(()=>n.query.employee_id,async r=>{r&&await A.fetchUserLeaveBalances(r)});const _=W(()=>$.value||[]),F=()=>B.go(-1),E=async()=>{B.replace({query:{...n.query,company_id:l.value.company_id,department_id:l.value.department_id,line_type:l.value.line_type,employee_id:l.value.employee_id}}),await b()},R=()=>{k.value=!0},p=async()=>{c.value=!1,await b()},t=new Date().getFullYear(),u=f([]);for(let r=2023;r<=t;r++)u.value.push(r);const y=async r=>{confirm("Are you sure to delete this application?")&&(await x.deleteLeaveApplication(r),await b())},v=()=>{k.value=!1,A.fetchUserLeaveBalances(n.query.employee_id)};return(r,a)=>{var I,Q;const N=ie("RouterLink");return d(),i(j,null,[e("div",ut,[e("div",{class:"flex items-center justify-between gap-2"},[e("button",{class:"btn-3",onClick:F},a[7]||(a[7]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),a[8]||(a[8]=e("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Annual Leave Applications",-1)),a[9]||(a[9]=e("div",null,null,-1))]),e("div",it,[V(ve,{company_id:l.value.company_id,"onUpdate:company_id":a[0]||(a[0]=s=>l.value.company_id=s),department_id:l.value.department_id,"onUpdate:department_id":a[1]||(a[1]=s=>l.value.department_id=s),employee_id:l.value.employee_id,"onUpdate:employee_id":a[2]||(a[2]=s=>l.value.employee_id=s),line_type:l.value.line_type,"onUpdate:line_type":a[3]||(a[3]=s=>l.value.line_type=s),"with-type":!0,"initial-value":r.$route.query,onFilterChange:E},null,8,["company_id","department_id","employee_id","line_type","initial-value"])]),T(x).loading?(d(),i("div",ct,[V(ae)])):(d(),i("div",pt,[(I=l.value)!=null&&I.employee_id?(d(),i("div",yt,[e("div",mt,[V(_e,{user:T(g)},null,8,["user"]),e("div",vt,[e("div",{class:"flex justify-between items-start"},[a[10]||(a[10]=e("h3",{class:"text-lg font-semibold text-gray-700 mb-4"},"Leave Balance",-1)),e("button",{onClick:R,type:"button",class:"btn-2"},"Set Leave Balance")]),e("div",_t,[e("table",bt,[a[11]||(a[11]=e("thead",{class:"bg-gray-100 text-xs uppercase"},[e("tr",null,[e("th",{class:"px-4 py-2 text-center"},"Type"),e("th",{class:"px-4 py-2 text-center"},"Total"),e("th",{class:"px-4 py-2 text-center"},"Used"),e("th",{class:"px-4 py-2 text-center"},"Pending"),e("th",{class:"px-4 py-2 text-center"},"Remaining")])],-1)),e("tbody",null,[(d(!0),i(j,null,M(T(q),s=>(d(),i("tr",{key:s.id,class:"border-t hover:bg-gray-50"},[e("td",ft,m(s.name),1),e("td",xt,m(s.annual_quota),1),e("td",ht,m(s.used_days),1),e("td",gt,m(s==null?void 0:s.pending_days),1),e("td",wt,m(s.remaining_days),1)]))),128))])])])])])])):S("",!0),e("div",kt,[e("table",$t,[a[16]||(a[16]=e("thead",null,[e("tr",{class:"bg-gray-200"},[e("th",{class:"border border-gray-300 px-2 py-1 text-center"},"#"),e("th",{class:"border border-gray-300 px-2 py-1 text-center"},"Last Working Day"),e("th",{class:"border border-gray-300 px-2 py-1 text-center"},"Resumption Date"),e("th",{class:"border border-gray-300 px-2 py-1 text-center"},"Leave Period"),e("th",{class:"border border-gray-300 px-2 py-1 text-center"},"Total Days"),e("th",{class:"border border-gray-300 px-2 py-1 text-center"},"Leave Type"),e("th",{class:"border border-gray-300 px-2 py-1 text-center"},"Status"),e("th",{class:"border border-gray-300 px-2 py-1 text-center"},"Action")])],-1)),e("tbody",null,[(d(!0),i(j,null,M(_.value,(s,G)=>{var K;return d(),i("tr",{key:G,class:"border-b border-gray-200 hover:bg-blue-200"},[e("td",Lt,m(G+1),1),e("td",St,m(s==null?void 0:s.last_working_date),1),e("td",At,m(s==null?void 0:s.resumption_date),1),e("td",Ut,m(s==null?void 0:s.leave_period),1),e("td",Dt,[e("div",{innerHTML:(s==null?void 0:s.duration)||(s==null?void 0:s.total_leave_days)},null,8,Ct)]),e("td",qt,m([...new Set((K=s==null?void 0:s.leave_days)==null?void 0:K.map(Y=>{var X;return(X=Y==null?void 0:Y.leave_type)==null?void 0:X.name}))].join(",")),1),e("td",Vt,m((s==null?void 0:s.status)||"N/A"),1),e("td",Tt,[e("div",Bt,[V(N,{to:{name:"LeaveApplicationShow",params:{id:s==null?void 0:s.id}},class:"btn-icon",target:"_blank"},{default:ee(()=>a[12]||(a[12]=[e("i",{class:"far fa-eye"},null,-1)])),_:2,__:[12]},1032,["to"]),["Approved","Rejected"].includes(s==null?void 0:s.status)?S("",!0):(d(),O(N,{key:0,to:{name:"LeaveApplicationEdit",params:{id:s==null?void 0:s.id}},class:"btn-icon",target:"_blank"},{default:ee(()=>a[13]||(a[13]=[e("i",{class:"far fa-edit text-orange-600"},null,-1)])),_:2,__:[13]},1032,["to"])),e("button",{onClick:Y=>y(s==null?void 0:s.id),class:"btn-icon text-red-500"},a[14]||(a[14]=[e("i",{class:"far fa-trash"},null,-1)]),8,jt)])])])}),128)),_.value.length?S("",!0):(d(),i("tr",Mt,a[15]||(a[15]=[e("td",{colspan:"7",class:"p-1 text-center text-red-500"},"No application found",-1)])))]),e("tfoot",null,[(Q=l.value)!=null&&Q.employee_id?(d(),i("tr",Ft,[e("th",Rt,[e("button",{onClick:a[4]||(a[4]=s=>c.value=!0),class:"text-white font-semibold px-4 py-2 rounded-full shadow-md bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 transition"}," + Add Application ")])])):S("",!0)])])])]))]),V(dt,{show:k.value,user:T(g),onClose:v},null,8,["show","user"]),(d(),O(ce,{to:"body"},[c.value?(d(),i("div",Nt,[e("div",It,[e("button",{class:"absolute top-2 right-2 text-gray-500 hover:text-red-500 text-xl font-bold",onClick:a[5]||(a[5]=s=>c.value=!1)}," Ã— "),V(Qe,{userInfo:T(g),onClose:a[6]||(a[6]=s=>c.value=!1),onFormSuccessClosed:p},null,8,["userInfo"])])])):S("",!0)]))],64)}}};export{as as default};
