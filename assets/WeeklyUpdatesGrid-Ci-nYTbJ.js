import{B as Ne,r as C,G as Ue,x as S,C as ye,D as Fe,f as Ee,u as Le,h as Oe,y as Ae,c as r,o as d,k,a as s,s as H,t as p,d as We,b as Y,l as G,v as Q,n as g,i as Be,P as te,F as A,e as J,A as Ke}from"./index-CiN0Aetu.js";import{_ as Pe}from"./EmployeeFilter-1Y4NnO8o.js";import"./company-Cjo81ZTA.js";import"./department-BDINjIT8.js";import"./EmployeeDropdownInput-BjU6Mwu6.js";import"./SelectDropdown-D7C73_Zc.js";import"./UserChip-BSEhWwOx.js";import"./user-B9CptSco.js";const Ve=Ne("weeklyUpdates",()=>{const W=C(!1),D=C(null),B=C(null),E=C([]),M=C([]),R=Ue({anchor_date:"",past_days:5,future_days:5,window:null,start_date:"",end_date:"",company_id:"",department_id:"",line_type:"",user_id:"",status:""});let v=null,o=0;const x=f=>{const b={};return Object.entries(f||{}).forEach(([h,_])=>{_==null||_===""||_!=="all"&&(b[h]=_)}),b},j=async(f={})=>{var h,_,q,w,P;const b=++o;W.value=!0,D.value=null,Object.assign(R,f),v&&v.abort(),v=new AbortController;try{const u=await ye.get("/weekly-updates",{params:x(R),signal:v.signal});return b!==o?void 0:(B.value=((h=u.data)==null?void 0:h.meta)??null,E.value=((_=u.data)==null?void 0:_.dates)??[],M.value=((q=u.data)==null?void 0:q.rows)??[],u.data)}catch(u){if((u==null?void 0:u.name)==="CanceledError"||(u==null?void 0:u.code)==="ERR_CANCELED"||b!==o)return;throw D.value=((P=(w=u==null?void 0:u.response)==null?void 0:w.data)==null?void 0:P.message)||(u==null?void 0:u.message)||"Failed to load weekly updates.",u}finally{b===o&&(W.value=!1)}},n=async f=>{const{kind:b,ref_id:h,status:_,message:q}=f||{};if(!b||!h)throw new Error("Invalid item");const w={kind:b,ref_id:h};return _!=null&&_!==""&&(w.status=_),q&&(w.message=q),await ye.post("/weekly-updates/send-message",w)},z=()=>j({window:"prev"}),N=()=>j({window:"next"}),K=(f,b)=>j({past_days:f,future_days:b,window:null}),T=(f={})=>j(f),U=S(()=>E.value),L=S(()=>M.value),i=S(()=>B.value);return{loading:W,error:D,params:R,dates:U,rows:L,meta:i,fetchWeekly:j,prevWeek:z,nextWeek:N,applyRange:K,setFilters:T,sendWeeklyMessage:n}}),He={class:"space-y-3 px-4"},Ye={class:"rounded-2xl border border-slate-200 bg-white/95 backdrop-blur p-3 shadow-sm"},Ge={class:"rounded-2xl border border-slate-200 bg-white/95 backdrop-blur p-3 shadow-sm"},Qe={class:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between"},Je={class:"flex flex-wrap items-center gap-2"},Xe={class:"rounded-xl border border-slate-200 bg-slate-50/70 px-2 py-1"},Ze={class:"flex items-center gap-2"},et={class:"flex items-center gap-2 text-xs font-semibold text-slate-600"},tt={class:"flex items-center gap-2 text-xs font-semibold text-slate-600"},st={class:"flex items-center gap-2 text-xs font-semibold text-slate-600"},nt={class:"flex items-center justify-between gap-3 text-xs text-slate-500 lg:justify-end"},at={class:"text-right bg-gray-100 rounded-full px-2 py-1"},lt={key:0,class:"font-semibold text-slate-800"},ot={class:"flex justify-center items-center gap-3"},rt={class:"text-[11px] text-slate-400 bg-gray-100 rounded-full px-2 py-1"},dt={class:"font-semibold text-slate-600"},it={key:1,class:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700"},ut={key:2,class:"rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-500"},ct={key:3,class:"rounded-2xl border border-slate-200 bg-white shadow-sm"},pt={class:"min-w-max w-full text-sm"},yt={class:"text-slate-600"},ft={class:"text-[11px] font-semibold text-slate-400"},xt={class:"text-xs font-semibold text-slate-800"},bt={key:0,class:"mt-1 text-[10px] font-semibold text-amber-700"},_t={class:"sticky left-0 z-20 w-10 border-r border-slate-200 bg-white p-2 text-xs font-semibold text-slate-600"},gt={class:"sticky left-12 z-20 border-r border-slate-200 bg-white p-2"},mt={class:"min-w-0"},vt=["href","title"],ht={class:"truncate group-hover:underline decoration-slate-400 underline-offset-4"},wt={class:"mt-0.5 text-[11px] text-slate-500"},kt={key:0,class:"flex flex-col items-center justify-center"},St=["title","onClick"],Ct={key:1,class:"text-slate-300 text-sm"},$t={class:"px-2"},Dt={class:"flex justify-end"},Mt=["disabled","onClick"],jt={key:0},Tt={key:1},qt={key:0,class:"font-bold"},It={key:0,class:"border-t border-slate-100"},Rt=["colspan"],zt={key:4,class:"fixed inset-0 z-[75] flex items-center justify-center bg-slate-900/50 p-4"},Nt={class:"w-full max-w-lg rounded-2xl bg-white p-4 shadow-xl"},Ut={class:"flex items-start justify-between gap-3"},Ft={class:"text-xs text-slate-500"},Et={class:"mt-4"},Lt={class:"mt-1 flex items-center justify-between text-[11px] text-slate-400"},Ot={class:"mt-4 flex items-center justify-end gap-2"},At=["disabled"],Wt={key:0},Bt={key:1},Kt={key:5,class:"fixed inset-0 z-[70] flex items-center justify-center bg-slate-900/50 p-4"},Pt={class:"w-full max-w-sm rounded-2xl bg-white p-4 shadow-xl"},Vt={class:"flex items-start justify-between gap-3"},Ht={class:"flex items-center gap-2"},Yt=["href"],Gt={class:"mt-4 space-y-2 text-sm text-slate-700"},Qt={class:"flex items-center justify-between"},Jt={class:"font-semibold"},Xt={class:"flex items-center justify-between"},Zt={class:"font-semibold"},es={class:"flex items-center justify-between"},ts={class:"font-semibold"},ss={class:"flex items-center justify-between"},ns={class:"font-semibold"},as={class:"flex items-center justify-between"},ls={class:"font-semibold"},os={class:"mt-4 flex items-center justify-end gap-2"},bs={__name:"WeeklyUpdatesGrid",setup(W){const D=Ve(),{loading:B,error:E,dates:M,rows:R,meta:v,params:o}=Fe(D),x=Ee(),j=Le(),n=C({detailsOpen:!1,selectedItem:null,smsOpen:!1,smsMessage:"",smsTarget:null,busyKey:null,toast:null}),z=C(null),N=C(null),K=C(0);let T=null;const U=async()=>{var c,y;await Ke();const e=((c=z.value)==null?void 0:c.offsetHeight)||0,t=((y=N.value)==null?void 0:y.offsetHeight)||0,l=12;K.value=e+t+l},L=S(()=>({top:`${K.value}px`})),i=C({company_id:x.query.company_id||"",department_id:x.query.department_id||"all",line_type:x.query.line_type||"all",employee_id:x.query.employee_id||x.query.user_id||""}),f=(e,t,l)=>Math.min(Math.max(Number(e)||0,t),l),b=(e,t)=>{const l=Number(e);return Number.isFinite(l)?f(l,0,60):t};x.query.anchor_date&&(o.value.anchor_date=String(x.query.anchor_date)),x.query.past_days!=null&&(o.value.past_days=b(x.query.past_days,o.value.past_days)),x.query.future_days!=null&&(o.value.future_days=b(x.query.future_days,o.value.future_days));const h=e=>{if(e){const[t,l,c]=String(e).split("-").map(Number);if(t&&l&&c)return new Date(t,l-1,c)}return new Date},_=(e,t)=>{const l=new Date(e);return l.setDate(l.getDate()+t),l},q=e=>{const t=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),c=String(e.getDate()).padStart(2,"0");return`${t}-${l}-${c}`},w=e=>{if(!e)return"";const t=new Date(`${e}T00:00:00`);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(t)},P=e=>{if(!e)return"";const t=new Date(`${e}T00:00:00`);return new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(t)},u=(e,t)=>{var l;return((l=e==null?void 0:e.days)==null?void 0:l[t])??[]},fe=e=>{const t=String((e==null?void 0:e.status)??"").toLowerCase();return t.includes("pending")?"bg-amber-50 text-amber-700 ring-amber-200":t.includes("approved")?"bg-emerald-50 text-emerald-700 ring-emerald-200":t.includes("rejected")?"bg-rose-50 text-rose-700 ring-rose-200":"bg-slate-50 text-slate-700 ring-slate-200"},xe=e=>{const t=String((e==null?void 0:e.kind)||"").toLowerCase();return t==="weekend"||t==="holiday"||t==="present"},se=e=>{const t=String((e==null?void 0:e.kind)||"").toLowerCase();return t==="weekend"?"WK":t==="holiday"?"HD":t==="present"?"P":t==="worked"?"W":e==null?void 0:e.code},be=e=>{const t=String((e==null?void 0:e.kind)||"").toLowerCase();return t==="weekend"?"bg-slate-50 text-slate-700 ring-slate-200":t==="holiday"?"bg-sky-50 text-sky-700 ring-sky-200":t==="present"?"bg-emerald-50 text-emerald-700 ring-emerald-200":t==="worked"?"bg-indigo-50 text-indigo-700 ring-indigo-200":fe(e)},_e=e=>{const t=[],l=(e==null?void 0:e.label)||(e==null?void 0:e.kind)||se(e);return l&&t.push(l),e!=null&&e.status&&t.push(e.status),e!=null&&e.ref_id&&t.push(`#${e.ref_id}`),t.join(" - ")},ge=e=>String((e==null?void 0:e.kind)||"").toLowerCase()==="exchange",me=S(()=>{var t;const e=(t=n.value.toast)==null?void 0:t.type;return e==="success"?"border-emerald-200 bg-emerald-50 text-emerald-800":e==="error"?"border-rose-200 bg-rose-50 text-rose-800":"border-slate-200 bg-slate-50 text-slate-800"});function F(e,t){n.value.toast={type:e,text:t},window.clearTimeout(F._t),F._t=window.setTimeout(()=>n.value.toast=null,2500)}const ve=S(()=>{var t;return!!String(n.value.smsMessage||"").trim()&&!!((t=n.value.smsTarget)!=null&&t.item)&&!n.value.busyKey}),he=e=>!(e!=null&&e.kind)||!(e!=null&&e.ref_id)?!1:!xe(e),ne=e=>{const t=M.value||[];for(let l=t.length-1;l>=0;l--){const c=t[l],y=u(e,c);if(y!=null&&y.length)for(let m=y.length-1;m>=0;m--){const $=y[m];if(he($))return $}}return null},we=e=>{const t=ne(e);if(!t)return F("info","No application found in this range.");n.value.smsTarget={item:t,user:(e==null?void 0:e.user)||null},n.value.smsMessage="",n.value.smsOpen=!0},X=()=>{n.value.smsOpen=!1,n.value.smsMessage="",n.value.smsTarget=null},ke=async(e,t="")=>{var c,y;if(!(e!=null&&e.kind)||!(e!=null&&e.ref_id))return!1;const l=`${e.kind}:${e.ref_id}`;n.value.busyKey=l;try{return await D.sendWeeklyMessage({kind:e.kind,ref_id:e.ref_id,status:e.status,message:t}),F("success",`SMS sent (${e.code||e.kind} #${e.ref_id})`),!0}catch(m){return F("error",((y=(c=m==null?void 0:m.response)==null?void 0:c.data)==null?void 0:y.message)||"Failed to send SMS."),!1}finally{n.value.busyKey=null}},Se=async()=>{var c;const e=(c=n.value.smsTarget)==null?void 0:c.item,t=String(n.value.smsMessage||"").trim();if(!e)return;if(!t)return F("error","Please write a message before sending.");await ke(e,t)&&X()},ae=S(()=>{var e,t;return!((e=v.value)!=null&&e.start_date)||!((t=v.value)!=null&&t.end_date)?"":`${w(v.value.start_date)} - ${w(v.value.end_date)}`}),Ce=S(()=>{var t;const e=o.value.anchor_date||((t=v.value)==null?void 0:t.anchor_date);return e?h(e):new Date}),Z=S(()=>{const e=Ce.value,t=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0");return`${t}-${l}`}),$e=e=>e?`/hrd/em-attendance?${new URLSearchParams({department_id:String(e.department_id??i.value.department_id??""),line_type:String(i.value.line_type??""),date:String(Z.value),company_id:String(e.company_id??i.value.company_id??""),employee_id:String(e.id??"")}).toString()}`:"#",le=e=>{if(!(e!=null&&e.kind)||!(e!=null&&e.ref_id))return null;const t=String(e.kind).toLowerCase();return t==="leave"?`/leave-application-show/${e.ref_id}`:t==="exchange"?`/exchange-offday-show/${e.ref_id}`:null},De=S(()=>{const e=new Date,t=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),c=String(e.getDate()).padStart(2,"0");return`${t}-${l}-${c}`}),ee=e=>String(e)===String(De.value),Me=e=>ee(e)?"bg-amber-50":"bg-slate-50",je=e=>ee(e)?"bg-amber-50":"",Te=()=>{j.replace({query:{...x.query,company_id:i.value.company_id||void 0,department_id:i.value.department_id&&i.value.department_id!=="all"?i.value.department_id:void 0,line_type:i.value.line_type&&i.value.line_type!=="all"?i.value.line_type:void 0,employee_id:i.value.employee_id||void 0,anchor_date:o.value.anchor_date||void 0,past_days:o.value.past_days!=null?String(o.value.past_days):void 0,future_days:o.value.future_days!=null?String(o.value.future_days):void 0}}).catch(()=>{})},V=()=>{D.fetchWeekly({company_id:i.value.company_id||"",department_id:i.value.department_id||"all",line_type:i.value.line_type||"all",user_id:i.value.employee_id||"",anchor_date:o.value.anchor_date,past_days:o.value.past_days,future_days:o.value.future_days,window:null}),Te()},qe=()=>{o.value.past_days=f(o.value.past_days,0,60),o.value.future_days=f(o.value.future_days,0,60),V()},Ie=()=>V(),oe=e=>{var $;const t=f(o.value.past_days,0,60),l=f(o.value.future_days,0,60),c=t+l+1,y=h(o.value.anchor_date||(($=v.value)==null?void 0:$.anchor_date)),m=_(y,e*c);o.value.anchor_date=q(m),V()},Re=e=>{n.value.selectedItem=e,n.value.detailsOpen=!0};return Oe(async()=>{V(),await U(),typeof ResizeObserver<"u"?(T=new ResizeObserver(U),z.value&&T.observe(z.value),N.value&&T.observe(N.value)):window.addEventListener("resize",U)}),Ae(()=>{T&&T.disconnect(),window.removeEventListener("resize",U)}),(e,t)=>{var l,c,y,m,$,re,de;return d(),r("section",He,[n.value.toast?(d(),r("div",{key:0,class:H(["fixed right-4 top-4 z-[80] rounded-xl border px-4 py-2 text-sm shadow-sm",me.value])},p(n.value.toast.text),3)):k("",!0),s("div",{ref_key:"stickyBarRef",ref:z,class:"sticky top-14 z-50"},[s("div",Ye,[We(Pe,{company_id:i.value.company_id,"onUpdate:company_id":t[0]||(t[0]=a=>i.value.company_id=a),department_id:i.value.department_id,"onUpdate:department_id":t[1]||(t[1]=a=>i.value.department_id=a),employee_id:i.value.employee_id,"onUpdate:employee_id":t[2]||(t[2]=a=>i.value.employee_id=a),line_type:i.value.line_type,"onUpdate:line_type":t[3]||(t[3]=a=>i.value.line_type=a),"with-type":!0,"initial-value":{...e.$route.query,employee_id:e.$route.query.employee_id||e.$route.query.user_id},onFilterChange:Ie,class:"w-full"},null,8,["company_id","department_id","employee_id","line_type","initial-value"])])],512),s("div",{ref_key:"controlsRef",ref:N},[s("div",Ge,[s("div",Qe,[s("div",Je,[s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:t[4]||(t[4]=a=>oe(-1)),title:"Previous range"}," Prev "),s("div",Xe,[s("div",Ze,[s("label",et,[t[12]||(t[12]=Y(" Past ")),G(s("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>g(o).past_days=a),type:"number",min:"0",max:"60",class:"w-14 rounded-lg border border-slate-200 bg-white px-2 py-2 text-xs focus:border-slate-400 focus:outline-none"},null,512),[[Q,g(o).past_days,void 0,{number:!0}]])]),s("label",tt,[t[13]||(t[13]=Y(" Future ")),G(s("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>g(o).future_days=a),type:"number",min:"0",max:"60",class:"w-14 rounded-lg border border-slate-200 bg-white px-2 py-2 text-xs focus:border-slate-400 focus:outline-none"},null,512),[[Q,g(o).future_days,void 0,{number:!0}]])])])]),s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:t[7]||(t[7]=a=>oe(1)),title:"Next range"}," Next "),s("label",st,[G(s("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>g(o).anchor_date=a),type:"date",class:"rounded-lg border border-slate-200 px-2 py-2 text-xs focus:border-slate-400 focus:outline-none"},null,512),[[Q,g(o).anchor_date]])]),s("button",{type:"button",class:"rounded-lg bg-slate-900 px-3 py-2 text-xs font-semibold text-white hover:bg-slate-800",onClick:qe}," Apply ")]),s("div",nt,[s("div",at,[ae.value?(d(),r("div",lt,p(ae.value),1)):k("",!0)]),s("div",ot,[s("div",rt,[t[14]||(t[14]=Y(" Attendance month: ")),s("span",dt,p(Z.value),1)])]),t[15]||(t[15]=Be('<div class="hidden sm:flex items-center gap-2"><span class="inline-flex items-center gap-1 text-[11px] text-slate-500"><span class="h-2.5 w-2.5 rounded-full bg-amber-300"></span> Pending </span><span class="inline-flex items-center gap-1 text-[11px] text-slate-500"><span class="h-2.5 w-2.5 rounded-full bg-emerald-300"></span> Approved </span><span class="inline-flex items-center gap-1 text-[11px] text-slate-500"><span class="h-2.5 w-2.5 rounded-full bg-rose-300"></span> Rejected </span></div>',1))])])])],512),g(E)?(d(),r("div",it,p(g(E)),1)):k("",!0),g(B)?(d(),r("div",ut," Loading weekly updates... ")):(d(),r("div",ct,[s("div",null,[s("table",pt,[s("thead",yt,[s("tr",null,[s("th",{class:"sticky left-0 z-30 w-10 border-r border-slate-200 bg-slate-50 p-2 text-left text-xs font-semibold uppercase tracking-wide",style:te(L.value)}," # ",4),s("th",{class:"sticky left-12 z-30 border-r border-slate-200 bg-slate-50 px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide",style:te(L.value)}," Employee ",4),(d(!0),r(A,null,J(g(M),a=>(d(),r("th",{key:a,class:H(["sticky z-20 min-w-[40px] p-2 text-center hover:bg-slate-100",Me(a)]),style:te(L.value)},[s("div",ft,p(P(a)),1),s("div",xt,p(w(a)),1),ee(a)?(d(),r("div",bt,"Today")):k("",!0)],6))),128)),t[16]||(t[16]=s("th",{class:"sticky z-20 bg-slate-50 px-4 py-3 text-right text-xs font-semibold uppercase tracking-wide"}," SMS ",-1))])]),s("tbody",null,[(d(!0),r(A,null,J(g(R),(a,ze)=>{var ie,ue,ce,pe;return d(),r("tr",{key:a.user.id,class:"border-t border-slate-200 hover:bg-sky-50/70"},[s("td",_t,p(ze+1),1),s("td",gt,[s("div",mt,[s("a",{href:$e(a.user),target:"_blank",rel:"noopener",class:"group inline-flex items-center gap-2 truncate font-semibold text-slate-900 hover:text-slate-900",title:`Open Attendance (${Z.value})`},[s("span",ht,p(a.user.name),1)],8,vt),s("div",wt,p(((ie=a.user.company)==null?void 0:ie.name)||"—")+" · "+p(((ue=a.user.department)==null?void 0:ue.name)||"—"),1)])]),(d(!0),r(A,null,J(g(M),O=>(d(),r("td",{key:`${a.user.id}-${O}`,class:H(["p-2 border-r border-slate-200 text-center",je(O)])},[u(a,O).length?(d(),r("div",kt,[(d(!0),r(A,null,J(u(a,O),I=>(d(),r("button",{key:`${I.kind}-${I.ref_id}-${I.code}`,type:"button",class:H(["rounded-full px-2 py-0.5 text-[11px] font-semibold ring-1 ring-inset transition hover:scale-[1.02] active:scale-[0.99]",be(I)]),title:_e(I),onClick:rs=>Re(I)},p(se(I)),11,St))),128))])):(d(),r("span",Ct,"—"))],2))),128)),s("td",$t,[s("div",Dt,[s("button",{type:"button",class:"btn-4",disabled:!ne(a)||!!n.value.busyKey,onClick:O=>we(a)},[n.value.busyKey?(d(),r("span",jt,"Sending...")):(d(),r("span",Tt,[t[17]||(t[17]=Y("Send SMS ")),(ce=a.user)!=null&&ce.yearly_message_count?(d(),r("span",qt,"("+p((pe=a.user)==null?void 0:pe.yearly_message_count)+")",1)):k("",!0)]))],8,Mt)])])])}),128)),g(R).length?k("",!0):(d(),r("tr",It,[s("td",{class:"bg-white px-4 py-10 text-slate-500 text-center",colspan:g(M).length+3}," No updates found. ",8,Rt)]))])])])])),n.value.smsOpen?(d(),r("div",zt,[s("div",Nt,[s("div",Ut,[s("div",null,[t[18]||(t[18]=s("h3",{class:"text-sm font-semibold text-slate-900"},"Send SMS",-1)),s("p",Ft,p(((c=(l=n.value.smsTarget)==null?void 0:l.user)==null?void 0:c.name)||"Employee"),1)]),s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:X}," Close ")]),s("div",Et,[t[20]||(t[20]=s("label",{class:"text-xs font-semibold text-slate-600"},"Message",-1)),G(s("textarea",{"onUpdate:modelValue":t[9]||(t[9]=a=>n.value.smsMessage=a),rows:"4",class:"mt-2 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-700 focus:border-slate-400 focus:outline-none",placeholder:"Write your SMS message..."},null,512),[[Q,n.value.smsMessage]]),s("div",Lt,[s("span",null,p((n.value.smsMessage||"").length)+" characters",1),t[19]||(t[19]=s("span",null,"Message will be sent to the employee.",-1))])]),s("div",Ot,[s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:X}," Cancel "),s("button",{type:"button",class:"rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white hover:bg-slate-800 disabled:cursor-not-allowed disabled:opacity-60",disabled:!ve.value,onClick:Se},[n.value.busyKey?(d(),r("span",Wt,"Sending...")):(d(),r("span",Bt,"Send SMS"))],8,At)])])])):k("",!0),n.value.detailsOpen?(d(),r("div",Kt,[s("div",Pt,[s("div",Vt,[t[21]||(t[21]=s("div",null,[s("h3",{class:"text-sm font-semibold text-slate-900"},"Update Details"),s("p",{class:"text-xs text-slate-500"},"Quick view")],-1)),s("div",Ht,[le(n.value.selectedItem)?(d(),r("a",{key:0,href:le(n.value.selectedItem),target:"_blank",rel:"noopener",class:"btn-1 py-1 px-2 text-xs font-semibold",title:"Open application details"}," Application ",8,Yt)):k("",!0),s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:t[10]||(t[10]=a=>n.value.detailsOpen=!1)}," Close ")])]),s("div",Gt,[s("div",Qt,[t[22]||(t[22]=s("span",{class:"text-xs font-semibold text-slate-500"},"Label",-1)),s("span",Jt,p((y=n.value.selectedItem)==null?void 0:y.label),1)]),s("div",Xt,[t[23]||(t[23]=s("span",{class:"text-xs font-semibold text-slate-500"},"Status",-1)),s("span",Zt,p((m=n.value.selectedItem)==null?void 0:m.status),1)]),s("div",es,[t[24]||(t[24]=s("span",{class:"text-xs font-semibold text-slate-500"},"Kind",-1)),s("span",ts,p(($=n.value.selectedItem)==null?void 0:$.kind),1)]),ge(n.value.selectedItem)?(d(),r(A,{key:0},[s("div",ss,[t[25]||(t[25]=s("span",{class:"text-xs font-semibold text-slate-500"},"Current Date",-1)),s("span",ns,p(((re=n.value.selectedItem)==null?void 0:re.current_date)||"N/A"),1)]),s("div",as,[t[26]||(t[26]=s("span",{class:"text-xs font-semibold text-slate-500"},"Exchange Date",-1)),s("span",ls,p(((de=n.value.selectedItem)==null?void 0:de.exchange_date)||"N/A"),1)])],64)):k("",!0)]),s("div",os,[s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:t[11]||(t[11]=a=>n.value.detailsOpen=!1)}," Done ")])])])):k("",!0)])}}};export{bs as default};
