import{_ as k}from"./AcceptAndRejectHandler-C5LUnMXe.js";import{L as S}from"./LoaderView-Cw-gPO11.js";import{N as b,s as w,b as N,A as L,y as A,c as s,a as t,l as d,t as r,h as n,e as i,m,F as C,x as T,f as M,o as a,n as R,p as V}from"./index-DqjtVuvx.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"space-y-6 px-4 py-4"},E={class:"md:text-2xl font-semibold capitalize text-gray-700"},z={key:0,class:"ml-auto text-xs bg-red-500 text-white rounded-full px-2 py-0.5 font-semibold"},D={key:0,class:"text-center text-red-500 py-10 text-xl italic"},F={key:1,class:"space-y-4"},H={class:"flex gap-2 md:gap-3 items-center"},I={class:"shrink-0 grow-0 btn-1 size-8 p-0"},$={class:"shrink grow font-semibold text-sm md:text-base"},j={class:"ml-auto shrink-0 grow-0 flex gap-2 md:gap-3 items-center"},O=["href"],P=["innerHTML"],U={class:"flex flex-wrap gap-y-1 gap-x-3 items-center text-xs md:text-sm lg:text-base"},Z={key:0},q={key:1},G={class:"flex flex-wrap gap-y-1 gap-x-3 items-center text-xs md:text-sm lg:text-base"},J={key:0},K={class:"flex gap-3 items-center"},Q={class:"flex items-center gap-8"},W={class:"flex flex-col md:flex-row gap-x-1 font-light text-xs md:text-sm pt-0.5"},X={key:0},Y={key:1,class:"hidden md:inline"},ee={key:2},ne={__name:"MySpecificNotificationList",setup(te){const p=M(),l=b(),{icons:u,loading:h,notifications:_,count_notifications:x}=w(l);N(()=>{p.params.type&&(l.fetchCountNotifications(),l.fetchSpecificNotifications(p.params.type))}),L(()=>p.params.type,(c,o)=>{c&&c!==o&&(l.fetchCountNotifications(),l.fetchSpecificNotifications(c))});const g=async()=>{await l.fetchSpecificNotifications(p.params.type)},f={leave_applications:"LeaveApplicationShow",short_leave_applications:"ShortLeaveShow",shift_exchange_applications:"ExchangeShiftShow",offday_exchange_applications:"ExchangeOffdayShow",manual_attendance_applications:"ManualAttendanceShow"},y=A(()=>p.params.type?p.params.type.replace(/[_-]/g," ").replace(/([A-Z])/g," $1").replace(/\s+/g," ").trim().split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" "):"");return(c,o)=>{const v=V("RouterLink");return a(),s("div",B,[t("h2",E,[d(r(y.value||"Notifications")+" ",1),n(x)[n(p).params.type]?(a(),s("span",z,r(n(x)[n(p).params.type]),1)):i("",!0)]),n(h)?(a(),s("div",D,[m(S)])):n(_).length?(a(),s("div",F,[(a(!0),s(C,null,T(n(_),e=>(a(),s("div",{key:e.application_id,class:"bg-white p-3 md:p-4 rounded-xl shadow border grid gap-2"},[t("div",H,[t("div",I,r(n(u)[n(p).params.type]),1),t("div",$,r(e.user_name),1),t("div",j,[e!=null&&e.attachment?(a(),s("a",{key:0,href:e.attachment,target:"_blank",class:"btn-4 px-2"},o[0]||(o[0]=[t("i",{class:"fad fa-link"},null,-1)]),8,O)):i("",!0),m(v,{to:{name:f[n(p).params.type],params:{id:e.application_id}},class:"btn-1 px-3"},{default:R(()=>o[1]||(o[1]=[t("i",{class:"far fa-eye"},null,-1)])),_:2},1032,["to"])])]),t("div",{class:"flex items-center text-red-600 text-xs md:text-sm lg:text-base",innerHTML:e.message},null,8,P),t("div",U,[e.type?(a(),s("div",Z,[o[2]||(o[2]=t("span",{class:"text-gray-400"},"Type:",-1)),d(" "+r(e.type),1)])):i("",!0),e.duration?(a(),s("div",q,[o[3]||(o[3]=t("span",{class:"text-gray-400"},"Duration:",-1)),d(" "+r(e.duration),1)])):i("",!0)]),t("div",G,[e.reason?(a(),s("div",J,[o[4]||(o[4]=t("span",{class:"text-gray-400"},"Reason:",-1)),d(" "+r(e.reason),1)])):i("",!0)]),t("div",K,[t("div",Q,[t("p",W,[e.pending?(a(),s("strong",X," Pending: "+r(e.pending),1)):i("",!0),e.pending&&e.approved?(a(),s("span",Y," / ")):i("",!0),e.approved?(a(),s("strong",ee," Approved: "+r(e.approved),1)):i("",!0)])]),m(k,{class:"ml-auto",notificationType:n(p).params.type,applicationId:e.application_id,onSuccess:g,variant:2},null,8,["notificationType","applicationId"])])]))),128))])):i("",!0)])}}};export{ne as default};
