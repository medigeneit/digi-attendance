import{x as P,c as a,o,k as n,s as D,g as R,p,d as N,a as s,t as i,F as O,e as G,j as I,b as B,m as M,w as l,n as u}from"./index-Ck--8GOP.js";import{h as W,k as $,l as K}from"./datetime-Du_mcDA9.js";import{_ as q}from"./DepartmentChip-SILCKVfK.js";import{_ as j}from"./UserChip-BHiXRNSK.js";const V={key:0,class:"fas fa-clock text-base",title:"Pending"},z={key:1,class:"fas fa-sync text-base",title:"Working"},F={key:2,class:"fas fa-check-square text-lg",title:"Completed"},U={__name:"TodoStatusIcon",props:{todoDate:{type:Object,required:!0}},setup(t){const c=t,m=P(()=>{switch(c.todoDate.status){case"PENDING":return"text-red-400";case"WORKING":return"text-yellow-600";case"COMPLETED":return"text-green-400"}return""});return(r,L)=>(o(),a("span",{class:D(m.value)},[t.todoDate.status=="PENDING"?(o(),a("i",V)):n("",!0),t.todoDate.status=="WORKING"?(o(),a("i",z)):n("",!0),t.todoDate.status=="COMPLETED"?(o(),a("i",F)):n("",!0)],2))}},A={class:""},H={class:"flex items-center gap-1"},J={class:"font-semibold"},Q={class:"line-clamp-1"},X={key:0,class:"mt-1 space-x-1"},Y={key:0,class:"mt-1 flex items-center gap-2"},Z={key:0,class:"line-clamp-2 text-gray-500 whitespace-nowrap mr-2"},_={key:1,class:"md:ml-auto w-full md:w-auto flex items-center justify-center gap-2"},tt={key:0,class:"flex items-center gap-1 text-red-600"},nt={__name:"TodoItemCard",props:{todoDate:{type:Object,required:!0},hideDepartment:{type:Boolean,default:!1},hideUser:{type:Boolean,default:!1},hideSortingBtn:{type:Boolean,default:!1},hideBtns:{type:Boolean,default:!1},userRole:{type:String,default:"employee"}},emits:["clickTodo","clickEdit","clickDelete","clickChangeStatus","clickDelete"],setup(t,{emit:c}){const m=R(),r=c;return(L,e)=>{var g,f,k,x,y,b,h,v,C,E,w;const S=p("RouterLink");return o(),a("div",{class:D(["px-4 py-4 md:py-2 cursor-pointer flex flex-wrap items-center gap-y-2 gap-x-4 text-sm",{"bg-green-100":t.todoDate.status=="COMPLETED","hover:bg-gray-50":t.todoDate.status!="COMPLETED","bg-orange-100 text-orange-800 border-b border-orange-200 hover:bg-orange-100":t.todoDate.status=="WORKING"&&u(K)(t.todoDate.date)}]),onClick:e[4]||(e[4]=l(d=>r("clickTodo",t.todoDate),["prevent"]))},[N(U,{todoDate:t.todoDate},null,8,["todoDate"]),s("div",A,[s("div",{class:D(["",{"text-green-800":t.todoDate.status=="COMPLETED","text-blue-800":t.todoDate.status!="COMPLETED"}])},[s("div",H,[s("span",J,i((g=t.todoDate.todo)==null?void 0:g.id)+" -",1),s("span",Q,i(t.todoDate.title),1)]),((k=(f=t.todoDate.todo)==null?void 0:f.tags)==null?void 0:k.length)>0?(o(),a("div",X,[(o(!0),a(O,null,G(((x=t.todoDate)==null?void 0:x.todo.tags)||[],d=>(o(),a("span",{class:"bg-gray-100 px-2 rounded-full border border-blue-500 text-blue-500",key:d.id},i(d.name),1))),128))])):n("",!0)],2),t.todoDate.user?(o(),a("div",Y,[t.hideUser?n("",!0):(o(),I(j,{key:0,user:t.todoDate.user,"avatar-size":"xsmall"},null,8,["user"])),t.hideDepartment?n("",!0):(o(),I(q,{key:1,department:(b=(y=t.todoDate)==null?void 0:y.user)==null?void 0:b.department},null,8,["department"]))])):n("",!0)]),(h=t.todoDate.todo)!=null&&h.todo_type&&((v=t.todoDate.todo)!=null&&v.todo_type_id)?(o(),a("div",Z,[B(i((C=t.todoDate.todo)==null?void 0:C.todo_type)+" ",1),N(S,{class:"text-blue-600 font-semibold underline hover:text-sky-400",onClick:l(d=>null,["stop"]),to:{name:"RequirementTaskShow",params:{id:(E=t.todoDate.todo)==null?void 0:E.todo_type_id}}},{default:M(()=>{var d;return[e[5]||(e[5]=s("i",{class:"fas fa-link"},null,-1)),B(" "+i((d=t.todoDate.todo)==null?void 0:d.todo_type_id),1)]}),_:1,__:[5]},8,["to"])])):n("",!0),t.hideBtns?n("",!0):(o(),a("div",_,[t.todoDate.status=="WORKING"&&u(W)(t.todoDate.date)?(o(),a("div",tt,e[6]||(e[6]=[s("span",{class:"fas fa-circle animate-pulse text-xs"},null,-1),s("span",{class:"text-xs"},"Working",-1)]))):n("",!0),t.todoDate.user_id===((w=u(m).user)==null?void 0:w.id)?(o(),a(O,{key:1},[t.todoDate.status==="WORKING"?(o(),a("button",{key:0,title:"Mark as Completed",class:"btn-icon bg-transparent text-green-400 border-green-400 border hover:bg-green-400 hover:text-white",onClick:e[0]||(e[0]=l(()=>r("clickChangeStatus",t.todoDate,"COMPLETED"),["prevent","stop"]))},e[7]||(e[7]=[s("i",{class:"fas fa-check"},null,-1)]))):n("",!0),t.todoDate.status==="PENDING"&&u($)(t.todoDate.date)?(o(),a("button",{key:1,title:"Start Working",class:"btn-icon bg-transparent text-red-400 border-red-400 border hover:bg-red-400 hover:text-white",onClick:e[1]||(e[1]=l(()=>r("clickChangeStatus",t.todoDate,"WORKING"),["prevent","stop"]))},e[8]||(e[8]=[s("i",{class:"fas fa-play ml-[4px]"},null,-1)]))):n("",!0),s("button",{class:"btn-icon bg-sky-400 text-white hover:bg-sky-600 hover:text-white",onClick:e[2]||(e[2]=l(d=>{var T;return r("clickEdit",(T=t.todoDate)==null?void 0:T.todo)},["prevent","stop"]))},e[9]||(e[9]=[s("i",{class:"fas fa-pen"},null,-1)])),s("button",{class:"btn-icon bg-red-400 text-white hover:bg-red-600 hover:text-white",onClick:e[3]||(e[3]=l(()=>r("clickDelete",t.todoDate),["prevent","stop"]))},e[10]||(e[10]=[s("i",{class:"fas fa-trash-alt"},null,-1)]))],64)):n("",!0),t.hideSortingBtn?n("",!0):(o(),a("button",{key:2,onClick:l(()=>null,["stop","prevent"]),class:"btn-icon bg-gray-400 text-white hover:bg-gray-600 hover:text-white handle"},e[11]||(e[11]=[s("i",{class:"fas fa-arrows-alt-v"},null,-1)])))]))],2)}}};export{nt as _,U as a};
