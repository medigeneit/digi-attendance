import{B as Pe,r as k,G as We,x as C,C as he,D as Be,f as Ke,u as Ve,h as He,y as Ge,c as d,o as i,k as S,a as s,s as we,t as u,d as Qe,b as ke,l as H,v as G,n as y,i as Ye,P as Q,F as O,e as Y,A as Je}from"./index-DaJLeBqA.js";import{_ as Xe}from"./EmployeeFilter-CRRaekhw.js";import"./company-J4Q9N4Db.js";import"./department-C1S1Vonr.js";import"./EmployeeDropdownInput-BqsQZ_SS.js";import"./SelectDropdown-CHBTJr9J.js";import"./UserChip-C5Ca31e6.js";import"./user-C_IxvSRN.js";const Ze=Pe("weeklyUpdates",()=>{const A=k(!1),M=k(null),P=k(null),E=k([]),$=k([]),I=We({anchor_date:"",past_days:5,future_days:5,window:null,start_date:"",end_date:"",company_id:"",department_id:"",line_type:"",user_id:"",status:""});let f=null,l=0;const _=b=>{const m={};return Object.entries(b||{}).forEach(([h,v])=>{v==null||v===""||v!=="all"&&(m[h]=v)}),m},T=async(b={})=>{var h,v,j,w,B;const m=++l;A.value=!0,M.value=null,Object.assign(I,b),f&&f.abort(),f=new AbortController;try{const c=await he.get("/weekly-updates",{params:_(I),signal:f.signal});return m!==l?void 0:(P.value=((h=c.data)==null?void 0:h.meta)??null,E.value=((v=c.data)==null?void 0:v.dates)??[],$.value=((j=c.data)==null?void 0:j.rows)??[],c.data)}catch(c){if((c==null?void 0:c.name)==="CanceledError"||(c==null?void 0:c.code)==="ERR_CANCELED"||m!==l)return;throw M.value=((B=(w=c==null?void 0:c.response)==null?void 0:w.data)==null?void 0:B.message)||(c==null?void 0:c.message)||"Failed to load weekly updates.",c}finally{m===l&&(A.value=!1)}},a=async b=>{const{kind:m,ref_id:h,status:v,message:j}=b||{};if(!m||!h)throw new Error("Invalid item");const w={kind:m,ref_id:h};return v!=null&&v!==""&&(w.status=v),j&&(w.message=j),await he.post("/weekly-updates/send-message",w)},N=()=>T({window:"prev"}),U=()=>T({window:"next"}),W=(b,m)=>T({past_days:b,future_days:m,window:null}),R=(b={})=>T(b),z=C(()=>E.value),F=C(()=>$.value),r=C(()=>P.value);return{loading:A,error:M,params:I,dates:z,rows:F,meta:r,fetchWeekly:T,prevWeek:N,nextWeek:U,applyRange:W,setFilters:R,sendWeeklyMessage:a}}),et={class:"space-y-3 px-4"},tt={class:"rounded-2xl border border-slate-200 bg-white/95 backdrop-blur p-3 shadow-sm"},st={class:"rounded-2xl border border-slate-200 bg-white/95 backdrop-blur p-3 shadow-sm"},at={class:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between"},nt={class:"flex flex-wrap items-center gap-2"},lt={class:"rounded-xl border border-slate-200 bg-slate-50/70 px-2 py-1"},ot={class:"flex items-center gap-2"},rt={class:"flex items-center gap-2 text-xs font-semibold text-slate-600"},dt={class:"flex items-center gap-2 text-xs font-semibold text-slate-600"},it={class:"flex items-center gap-2 text-xs font-semibold text-slate-600"},ut=["href"],ct={class:"flex items-center justify-between gap-3 text-xs text-slate-500 lg:justify-end"},pt={key:0,class:"font-semibold text-slate-800"},yt={key:1},xt={key:1,class:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700"},ft={key:2,class:"rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-500"},bt={key:3,class:"rounded-2xl border border-slate-200 bg-white shadow-sm"},_t={class:""},mt={class:"min-w-max w-full text-sm"},vt={class:"bg-slate-50 text-slate-600"},gt={class:"text-[11px] font-semibold text-slate-400"},ht={class:"text-xs font-semibold text-slate-800"},wt={class:"sticky left-0 z-20 w-12 border-r border-slate-200 bg-white hover:bg-sky-100 px-3 py-3 text-xs font-semibold text-slate-600"},kt={class:"sticky left-12 z-20 border-r border-slate-200 bg-white hover:bg-sky-100 px-4 py-3"},St={class:"min-w-0"},Ct={class:"truncate font-semibold text-slate-900"},Dt={class:"text-[11px] text-slate-500"},Mt={key:0,class:"flex flex-col items-start gap-1.5"},$t=["title","onClick"],Tt={key:1,class:"text-slate-300 text-sm"},Rt={class:"px-4 py-3 text-right"},jt=["disabled","onClick"],qt={key:0},It={key:1},Nt={key:0,class:"border-t border-slate-100"},Ut=["colspan"],zt={key:4,class:"fixed inset-0 z-[75] flex items-center justify-center bg-slate-900/50 p-4"},Ft={class:"w-full max-w-lg rounded-2xl bg-white p-4 shadow-xl"},Lt={class:"flex items-start justify-between gap-3"},Et={class:"text-xs text-slate-500"},Ot={class:"mt-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600"},At={class:"mt-1 flex flex-wrap items-center gap-2"},Pt={class:"rounded-full bg-white px-2 py-0.5 text-[11px] font-semibold text-slate-700 ring-1 ring-slate-200"},Wt={class:"text-[11px] text-slate-500"},Bt={class:"text-[11px] text-slate-500"},Kt={key:0,class:"mt-1 text-[11px] text-slate-500"},Vt={class:"mt-4"},Ht={class:"mt-1 flex items-center justify-between text-[11px] text-slate-400"},Gt={class:"mt-4 flex items-center justify-end gap-2"},Qt=["disabled"],Yt={key:0},Jt={key:1},Xt={key:5,class:"fixed inset-0 z-[70] flex items-center justify-center bg-slate-900/50 p-4"},Zt={class:"w-full max-w-sm rounded-2xl bg-white p-4 shadow-xl"},es={class:"flex items-start justify-between gap-3"},ts={class:"mt-4 space-y-2 text-sm text-slate-700"},ss={class:"flex items-center justify-between"},as={class:"font-semibold"},ns={class:"flex items-center justify-between"},ls={class:"font-semibold"},os={class:"flex items-center justify-between"},rs={class:"font-semibold"},ds={class:"flex items-center justify-between"},is={class:"font-semibold"},us={class:"flex items-center justify-between"},cs={class:"font-semibold"},ps={class:"flex items-center justify-between"},ys={class:"font-semibold"},xs={class:"mt-4 flex items-center justify-end gap-2"},Ss={__name:"WeeklyUpdatesGrid",setup(A){const M=Ze(),{loading:P,error:E,dates:$,rows:I,meta:f,params:l}=Be(M),_=Ke(),T=Ve(),a=k({detailsOpen:!1,selectedItem:null,smsOpen:!1,smsMessage:"",smsTarget:null,busyKey:null,toast:null}),N=k(null),U=k(null),W=k(0);let R=null;const z=async()=>{var p,x;await Je();const t=((p=N.value)==null?void 0:p.offsetHeight)||0,e=((x=U.value)==null?void 0:x.offsetHeight)||0,n=12;W.value=t+e+n},F=C(()=>({top:`${W.value}px`})),r=k({company_id:_.query.company_id||"",department_id:_.query.department_id||"all",line_type:_.query.line_type||"all",employee_id:_.query.employee_id||_.query.user_id||""}),b=(t,e,n)=>Math.min(Math.max(Number(t)||0,e),n),m=(t,e)=>{const n=Number(t);return Number.isFinite(n)?b(n,0,60):e};_.query.anchor_date&&(l.value.anchor_date=String(_.query.anchor_date)),_.query.past_days!=null&&(l.value.past_days=m(_.query.past_days,l.value.past_days)),_.query.future_days!=null&&(l.value.future_days=m(_.query.future_days,l.value.future_days));const h=t=>{if(t){const[e,n,p]=String(t).split("-").map(Number);if(e&&n&&p)return new Date(e,n-1,p)}return new Date},v=(t,e)=>{const n=new Date(t);return n.setDate(n.getDate()+e),n},j=t=>{const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),p=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${p}`},w=t=>{if(!t)return"";const e=new Date(`${t}T00:00:00`);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(e)},B=t=>{if(!t)return"";const e=new Date(`${t}T00:00:00`);return new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(e)},c=(t,e)=>{var n;return((n=t==null?void 0:t.days)==null?void 0:n[e])??[]},Se=t=>{const e=String((t==null?void 0:t.status)??"").toLowerCase();return e.includes("pending")?"bg-amber-50 text-amber-700 ring-amber-200":e.includes("approved")?"bg-emerald-50 text-emerald-700 ring-emerald-200":e.includes("rejected")?"bg-rose-50 text-rose-700 ring-rose-200":"bg-slate-50 text-slate-700 ring-slate-200"},Ce=t=>{const e=String((t==null?void 0:t.kind)||"").toLowerCase();return e==="weekend"||e==="holiday"||e==="present"},X=t=>{const e=String((t==null?void 0:t.kind)||"").toLowerCase();return e==="weekend"?"WK":e==="holiday"?"HD":e==="present"?"P":t==null?void 0:t.code},De=t=>{const e=String((t==null?void 0:t.kind)||"").toLowerCase();return e==="weekend"?"bg-slate-50 text-slate-700 ring-slate-200":e==="holiday"?"bg-sky-50 text-sky-700 ring-sky-200":e==="present"?"bg-emerald-50 text-emerald-700 ring-emerald-200":Se(t)},Me=t=>{const e=[],n=(t==null?void 0:t.label)||(t==null?void 0:t.kind)||X(t);return n&&e.push(n),t!=null&&t.status&&e.push(t.status),t!=null&&t.ref_id&&e.push(`#${t.ref_id}`),e.join(" - ")},$e=t=>String((t==null?void 0:t.kind)||"").toLowerCase()==="exchange",Te=C(()=>{var e;const t=(e=a.value.toast)==null?void 0:e.type;return t==="success"?"border-emerald-200 bg-emerald-50 text-emerald-800":t==="error"?"border-rose-200 bg-rose-50 text-rose-800":"border-slate-200 bg-slate-50 text-slate-800"}),Re=C(()=>{var e;return!!String(a.value.smsMessage||"").trim()&&!!((e=a.value.smsTarget)!=null&&e.item)&&!a.value.busyKey}),Z=C(()=>{var t,e;return!((t=f.value)!=null&&t.start_date)||!((e=f.value)!=null&&e.end_date)?"":`${w(f.value.start_date)} - ${w(f.value.end_date)}`}),je=C(()=>{var e;const t=l.value.anchor_date||((e=f.value)==null?void 0:e.anchor_date);return t?h(t):new Date}),qe=C(()=>{const t=je.value,e=t.getFullYear(),n=t.getMonth()+1;return`/reports/monthly-leave-report?${new URLSearchParams({company_id:r.value.company_id||"",department_id:r.value.department_id||"all",line_type:r.value.line_type||"all",employee_id:r.value.employee_id||"",year:String(e),month:String(n),strict_user:"0",per_page:"25",page:"1"}).toString()}`}),Ie=()=>{T.replace({query:{..._.query,company_id:r.value.company_id||void 0,department_id:r.value.department_id&&r.value.department_id!=="all"?r.value.department_id:void 0,line_type:r.value.line_type&&r.value.line_type!=="all"?r.value.line_type:void 0,employee_id:r.value.employee_id||void 0,anchor_date:l.value.anchor_date||void 0,past_days:l.value.past_days!=null?String(l.value.past_days):void 0,future_days:l.value.future_days!=null?String(l.value.future_days):void 0}}).catch(()=>{})},K=()=>{M.fetchWeekly({company_id:r.value.company_id||"",department_id:r.value.department_id||"all",line_type:r.value.line_type||"all",user_id:r.value.employee_id||"",anchor_date:l.value.anchor_date,past_days:l.value.past_days,future_days:l.value.future_days,window:null}),Ie()},Ne=()=>{l.value.past_days=b(l.value.past_days,0,60),l.value.future_days=b(l.value.future_days,0,60),K()},Ue=()=>K(),ee=t=>{var D;const e=b(l.value.past_days,0,60),n=b(l.value.future_days,0,60),p=e+n+1,x=h(l.value.anchor_date||((D=f.value)==null?void 0:D.anchor_date)),g=v(x,t*p);l.value.anchor_date=j(g),K()},ze=t=>{a.value.selectedItem=t,a.value.detailsOpen=!0};function L(t,e){a.value.toast={type:t,text:e},window.clearTimeout(L._t),L._t=window.setTimeout(()=>a.value.toast=null,2500)}const Fe=t=>!(t!=null&&t.kind)||!(t!=null&&t.ref_id)?!1:!Ce(t),te=t=>{const e=$.value||[];for(let n=e.length-1;n>=0;n--){const p=e[n],x=c(t,p);if(x!=null&&x.length)for(let g=x.length-1;g>=0;g--){const D=x[g];if(Fe(D))return D}}return null},Le=t=>{const e=te(t);if(!e)return L("info","No application found in this range.");a.value.smsTarget={item:e,user:(t==null?void 0:t.user)||null},a.value.smsMessage="",a.value.smsOpen=!0},J=()=>{a.value.smsOpen=!1,a.value.smsMessage="",a.value.smsTarget=null},Ee=async(t,e="")=>{var p,x;if(!(t!=null&&t.kind)||!(t!=null&&t.ref_id))return!1;const n=`${t.kind}:${t.ref_id}`;a.value.busyKey=n;try{return await M.sendWeeklyMessage({kind:t.kind,ref_id:t.ref_id,status:t.status,message:e}),L("success",`SMS sent (${t.code||t.kind} #${t.ref_id})`),!0}catch(g){return L("error",((x=(p=g==null?void 0:g.response)==null?void 0:p.data)==null?void 0:x.message)||"Failed to send SMS."),!1}finally{a.value.busyKey=null}},Oe=async()=>{var p;const t=(p=a.value.smsTarget)==null?void 0:p.item,e=String(a.value.smsMessage||"").trim();if(!t)return;if(!e)return L("error","Please write a message before sending.");await Ee(t,e)&&J()};return He(async()=>{K(),await z(),typeof ResizeObserver<"u"?(R=new ResizeObserver(z),N.value&&R.observe(N.value),U.value&&R.observe(U.value)):window.addEventListener("resize",z)}),Ge(()=>{R&&R.disconnect(),window.removeEventListener("resize",z)}),(t,e)=>{var n,p,x,g,D,se,ae,ne,le,oe,re,de,ie,ue,ce,pe,ye,xe,fe,be,_e,me;return i(),d("section",et,[a.value.toast?(i(),d("div",{key:0,class:we(["fixed right-4 top-4 z-[80] rounded-xl border px-4 py-2 text-sm shadow-sm",Te.value])},u(a.value.toast.text),3)):S("",!0),s("div",{ref_key:"stickyBarRef",ref:N,class:"sticky top-14 z-50"},[s("div",tt,[Qe(Xe,{company_id:r.value.company_id,"onUpdate:company_id":e[0]||(e[0]=o=>r.value.company_id=o),department_id:r.value.department_id,"onUpdate:department_id":e[1]||(e[1]=o=>r.value.department_id=o),employee_id:r.value.employee_id,"onUpdate:employee_id":e[2]||(e[2]=o=>r.value.employee_id=o),line_type:r.value.line_type,"onUpdate:line_type":e[3]||(e[3]=o=>r.value.line_type=o),"with-type":!0,"initial-value":{...t.$route.query,employee_id:t.$route.query.employee_id||t.$route.query.user_id},onFilterChange:Ue,class:"w-full"},null,8,["company_id","department_id","employee_id","line_type","initial-value"])])],512),s("div",{ref_key:"controlsRef",ref:U},[s("div",st,[s("div",at,[s("div",nt,[s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:e[4]||(e[4]=o=>ee(-1)),title:"Previous range"}," Prev "),s("div",lt,[s("div",ot,[s("label",rt,[e[12]||(e[12]=ke(" Past ")),H(s("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>y(l).past_days=o),type:"number",min:"0",max:"60",class:"w-14 rounded-lg border border-slate-200 bg-white px-2 py-2 text-xs focus:border-slate-400 focus:outline-none"},null,512),[[G,y(l).past_days,void 0,{number:!0}]])]),s("label",dt,[e[13]||(e[13]=ke(" Future ")),H(s("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>y(l).future_days=o),type:"number",min:"0",max:"60",class:"w-14 rounded-lg border border-slate-200 bg-white px-2 py-2 text-xs focus:border-slate-400 focus:outline-none"},null,512),[[G,y(l).future_days,void 0,{number:!0}]])])])]),s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:e[7]||(e[7]=o=>ee(1)),title:"Next range"}," Next "),s("label",it,[H(s("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>y(l).anchor_date=o),type:"date",class:"rounded-lg border border-slate-200 px-2 py-2 text-xs focus:border-slate-400 focus:outline-none"},null,512),[[G,y(l).anchor_date]])]),s("button",{type:"button",class:"rounded-lg bg-slate-900 px-3 py-2 text-xs font-semibold text-white hover:bg-slate-800",onClick:Ne}," Apply "),s("a",{href:qe.value,target:"_blank",rel:"noopener",class:"btn-1 rounded-lg",title:"Open Monthly Leave Report"}," Monthly Leave Report ",8,ut)]),s("div",ct,[s("div",null,[Z.value?(i(),d("div",pt,u(Z.value),1)):S("",!0),((n=y(f))==null?void 0:n.past_days)!=null&&((p=y(f))==null?void 0:p.future_days)!=null?(i(),d("div",yt," Past "+u(y(f).past_days)+" / Future "+u(y(f).future_days),1)):S("",!0)]),e[14]||(e[14]=Ye('<div class="hidden sm:flex items-center gap-2"><span class="inline-flex items-center gap-1 text-[11px] text-slate-500"><span class="h-2.5 w-2.5 rounded-full bg-amber-300"></span> Pending </span><span class="inline-flex items-center gap-1 text-[11px] text-slate-500"><span class="h-2.5 w-2.5 rounded-full bg-emerald-300"></span> Approved </span><span class="inline-flex items-center gap-1 text-[11px] text-slate-500"><span class="h-2.5 w-2.5 rounded-full bg-rose-300"></span> Rejected </span></div>',1))])])])],512),y(E)?(i(),d("div",xt,u(y(E)),1)):S("",!0),y(P)?(i(),d("div",ft," Loading weekly updates... ")):(i(),d("div",bt,[s("div",_t,[s("table",mt,[s("thead",vt,[s("tr",null,[s("th",{class:"sticky left-0 z-30 w-12 border-r border-slate-200 bg-slate-50 px-3 py-3 text-left text-xs font-semibold uppercase tracking-wide",style:Q(F.value)}," # ",4),s("th",{class:"sticky left-12 z-30 border-r border-slate-200 bg-slate-50 px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide",style:Q(F.value)}," Employee ",4),(i(!0),d(O,null,Y(y($),o=>(i(),d("th",{key:o,class:"sticky z-20 min-w-[40px] bg-slate-50 px-3 py-3 text-center",style:Q(F.value)},[s("div",gt,u(B(o)),1),s("div",ht,u(w(o)),1)],4))),128)),s("th",{class:"sticky z-20 bg-slate-50 px-4 py-3 text-right text-xs font-semibold uppercase tracking-wide",style:Q(F.value)}," SMS ",4)])]),s("tbody",null,[(i(!0),d(O,null,Y(y(I),(o,Ae)=>{var ve,ge;return i(),d("tr",{key:o.user.id,class:"border-t border-slate-300 hover:bg-sky-100"},[s("td",wt,u(Ae+1),1),s("td",kt,[s("div",St,[s("div",Ct,u(o.user.name),1),s("div",Dt,u(((ve=o.user.company)==null?void 0:ve.name)||"—")+" · "+u(((ge=o.user.department)==null?void 0:ge.name)||"—"),1)])]),(i(!0),d(O,null,Y(y($),V=>(i(),d("td",{key:`${o.user.id}-${V}`,class:"px-3 py-3 align-top border-r border-slate-200"},[c(o,V).length?(i(),d("div",Mt,[(i(!0),d(O,null,Y(c(o,V),q=>(i(),d("button",{key:`${q.kind}-${q.ref_id}-${q.code}`,type:"button",class:we(["rounded-full px-2 py-0.5 text-[11px] font-semibold ring-1 ring-inset",De(q)]),title:Me(q),onClick:fs=>ze(q)},u(X(q)),11,$t))),128))])):(i(),d("span",Tt,"—"))]))),128)),s("td",Rt,[s("button",{type:"button",class:"rounded-lg bg-slate-900 px-3 py-2 text-xs font-semibold text-white hover:bg-slate-800 disabled:cursor-not-allowed disabled:opacity-50",disabled:!te(o)||!!a.value.busyKey,onClick:V=>Le(o)},[a.value.busyKey?(i(),d("span",qt,"Sending...")):(i(),d("span",It,"Send SMS"))],8,jt)])])}),128)),y(I).length?S("",!0):(i(),d("tr",Nt,[s("td",{class:"bg-white px-4 py-8 text-slate-500",colspan:y($).length+3}," No updates found. ",8,Ut)]))])])])])),a.value.smsOpen?(i(),d("div",zt,[s("div",Ft,[s("div",Lt,[s("div",null,[e[15]||(e[15]=s("h3",{class:"text-sm font-semibold text-slate-900"},"Send SMS",-1)),s("p",Et,u(((g=(x=a.value.smsTarget)==null?void 0:x.user)==null?void 0:g.name)||"Employee"),1)]),s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:J}," Close ")]),s("div",Ot,[e[16]||(e[16]=s("div",{class:"font-semibold text-slate-700"},"Application",-1)),s("div",At,[s("span",Pt,u(((se=(D=a.value.smsTarget)==null?void 0:D.item)==null?void 0:se.code)||((ne=(ae=a.value.smsTarget)==null?void 0:ae.item)==null?void 0:ne.kind)||"N/A"),1),s("span",Wt,"#"+u(((oe=(le=a.value.smsTarget)==null?void 0:le.item)==null?void 0:oe.ref_id)||"N/A"),1),s("span",Bt,u(((de=(re=a.value.smsTarget)==null?void 0:re.item)==null?void 0:de.status)||"Unknown"),1)]),(ue=(ie=a.value.smsTarget)==null?void 0:ie.item)!=null&&ue.label?(i(),d("div",Kt,u((pe=(ce=a.value.smsTarget)==null?void 0:ce.item)==null?void 0:pe.label),1)):S("",!0)]),s("div",Vt,[e[18]||(e[18]=s("label",{class:"text-xs font-semibold text-slate-600"},"Message",-1)),H(s("textarea",{"onUpdate:modelValue":e[9]||(e[9]=o=>a.value.smsMessage=o),rows:"4",class:"mt-2 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-700 focus:border-slate-400 focus:outline-none",placeholder:"Write your SMS message..."},null,512),[[G,a.value.smsMessage]]),s("div",Ht,[s("span",null,u((a.value.smsMessage||"").length)+" characters",1),e[17]||(e[17]=s("span",null,"Message will be sent to the employee.",-1))])]),s("div",Gt,[s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:J}," Cancel "),s("button",{type:"button",class:"rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white hover:bg-slate-800 disabled:cursor-not-allowed disabled:opacity-60",disabled:!Re.value,onClick:Oe},[a.value.busyKey?(i(),d("span",Yt,"Sending...")):(i(),d("span",Jt,"Send SMS"))],8,Qt)])])])):S("",!0),a.value.detailsOpen?(i(),d("div",Xt,[s("div",Zt,[s("div",es,[e[19]||(e[19]=s("div",null,[s("h3",{class:"text-sm font-semibold text-slate-900"},"Update Details"),s("p",{class:"text-xs text-slate-500"},"Quick view")],-1)),s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:e[10]||(e[10]=o=>a.value.detailsOpen=!1)}," Close ")]),s("div",ts,[s("div",ss,[e[20]||(e[20]=s("span",{class:"text-xs font-semibold text-slate-500"},"Label",-1)),s("span",as,u((ye=a.value.selectedItem)==null?void 0:ye.label),1)]),s("div",ns,[e[21]||(e[21]=s("span",{class:"text-xs font-semibold text-slate-500"},"Status",-1)),s("span",ls,u((xe=a.value.selectedItem)==null?void 0:xe.status),1)]),s("div",os,[e[22]||(e[22]=s("span",{class:"text-xs font-semibold text-slate-500"},"Kind",-1)),s("span",rs,u((fe=a.value.selectedItem)==null?void 0:fe.kind),1)]),s("div",ds,[e[23]||(e[23]=s("span",{class:"text-xs font-semibold text-slate-500"},"Ref ID",-1)),s("span",is,"#"+u((be=a.value.selectedItem)==null?void 0:be.ref_id),1)]),$e(a.value.selectedItem)?(i(),d(O,{key:0},[s("div",us,[e[24]||(e[24]=s("span",{class:"text-xs font-semibold text-slate-500"},"Current Date",-1)),s("span",cs,u(((_e=a.value.selectedItem)==null?void 0:_e.current_date)||"N/A"),1)]),s("div",ps,[e[25]||(e[25]=s("span",{class:"text-xs font-semibold text-slate-500"},"Exchange Date",-1)),s("span",ys,u(((me=a.value.selectedItem)==null?void 0:me.exchange_date)||"N/A"),1)])],64)):S("",!0)]),s("div",xs,[s("button",{type:"button",class:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:e[11]||(e[11]=o=>a.value.detailsOpen=!1)}," Done ")])])])):S("",!0)])}}};export{Ss as default};
