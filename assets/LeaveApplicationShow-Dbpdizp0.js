import{u as xs,r as k,p as rs,b as fs,c as o,a as e,k as r,j as gs,t as l,F as x,x as w,h as v,e as i,y as ns,l as ks,d as ws,v as As,f as hs,o as a,g as js}from"./index-C-8SCogb.js";import{L as Ls}from"./LoaderView-B65GJgKb.js";import{_ as Cs}from"./ShareComponent-BZ6Eb0nx.js";import{u as Ds}from"./leave-application-BBSW9lgX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Bs={class:"my-container max-w-3xl space-y-6"},Rs={key:1,class:"card-bg p-4 md:p-8"},Ns={class:"title-lg text-center"},Ws={class:"text-center text-sm"},Is={class:"space-y-4"},Ts={class:"grid md:grid-cols-2 print:grid-cols-2 gap-8"},Ss={class:""},$s={class:"text-sm"},Hs={class:"flex justify-end gap-4"},Ms={class:"table-auto border border-black bg-white text-xs"},Vs={class:"border border-black px-2"},Os={class:"border border-black px-2"},Fs={class:"border border-black px-2"},Ps={class:"font-bold"},Es={class:"border border-black px-2"},Us={class:"table-auto border border-black bg-white text-xs"},zs={class:"border border-black"},Gs={colspan:"2",class:"border border-black px-2 w-32"},qs={class:"border border-black px-2"},Js={class:"border border-black px-2"},Ks={class:"font-bold"},Qs={class:"border border-black px-2"},Xs={class:"grid print:grid-cols-2 md:grid-cols-2 text-sm"},Ys={class:"text-sm"},Zs={class:"pt-8 grid grid-cols-2"},el={class:"text-sm"},tl={class:"flex flex-col justify-center items-center text-sm"},sl={key:0,class:"print:hidden"},ll={class:"text-xs text-center"},al={class:"flex justify-center gap-2"},ol={class:"font-bold"},rl={key:0,class:"text-green-600 print:text-black"},nl={key:1,class:"pl-2 text-yellow-700"},dl={class:"overflow-x-auto"},il={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},ul={class:"border border-gray-500 px-4 py-0.5 text-left"},pl={class:"border border-gray-500 px-4 py-0.5 text-center"},cl={class:"border border-gray-500 px-4 py-0.5 text-center"},vl={class:"space-y-14"},bl={class:"font-bold text-center text-lg"},_l={key:0},yl={class:"grid md:grid-cols-3 print:grid-cols-3 gap-4 text-sm items-end"},ml={class:"flex flex-col justify-center items-center"},xl={key:0},fl={key:1,class:"text-center"},gl={key:2,class:"print:hidden"},kl={class:"text-xs text-center text-blue-600"},wl={class:"flex justify-center gap-4"},Al={class:"font-bold"},hl={key:0,class:"text-green-600"},jl={key:1,class:"pl-2 text-yellow-700"},Ll={class:"flex flex-col justify-center items-center"},Cl={key:0},Dl={class:"text-center"},Bl={key:1,class:"print:hidden"},Rl={class:"text-xs text-center text-blue-600"},Nl={class:"flex justify-center gap-4"},Wl={class:"font-bold"},Il={key:0,class:"text-green-600"},Tl={key:1,class:"pl-2 text-yellow-700"},Sl={class:"flex flex-col justify-center items-center"},$l={key:0},Hl={key:1,class:"text-center"},Ml={key:2,class:"print:hidden"},Vl={class:"text-xs text-center text-blue-600"},Ol={class:"flex justify-center gap-4"},Fl={class:"font-bold"},Pl={key:0,class:"text-green-600"},El={key:1,class:"pl-2 text-yellow-700"},Ul={class:"flex justify-evenly text-sm items-end"},zl={class:"flex flex-col justify-center items-center"},Gl={key:0},ql={class:"text-center"},Jl={key:1,class:"print:hidden"},Kl={class:"text-xs text-center text-blue-600"},Ql={class:"flex justify-center gap-4"},Xl={class:"font-bold"},Yl={key:0,class:"text-green-600"},Zl={key:1,class:"pl-2 text-yellow-700"},ea={class:"flex flex-col justify-center items-center"},ta={key:0},sa={class:"text-center"},la={key:1,class:"print:hidden"},aa={class:"text-xs text-center text-blue-600"},oa={class:"flex justify-center gap-4"},ra={class:"font-bold"},na={key:0,class:"text-green-600"},da={key:1,class:"pl-2 text-yellow-700"},ia={key:0,class:"modal-bg"},ua={class:"modal-card"},pa={class:"flex justify-end gap-2 mt-4"},xa={__name:"LeaveApplicationShow",setup(ca){const c=xs(),u=Ds(),ds=js(),f=hs(),A=k(!0),_=k(!1),y=k(""),s=rs(()=>u.leaveApplication);fs(async()=>{const{id:d}=f.params;try{await u.fetchLeaveApplicationById(d)}catch(t){console.error("Failed to load leave application:",t)}finally{A.value=!1}});async function is(){try{await u.rejectLeaveApplication(f.params.id,{rejection_reason:y.value}),alert("Leave application rejected successfully!"),_.value=!1,y.value="",await u.fetchLeaveApplicationById(f.params.id)}catch(d){alert(d.message)}}function b(){_.value=!0}async function us(d){try{await u.acceptHandover(d),alert("Handover accepted successfully!"),await u.fetchLeaveApplicationById(d)}catch(t){alert(t.message)}}async function ps(d){try{await u.acceptInCharge(d),alert("Leave Application Successfully Accepted!"),await u.fetchLeaveApplicationById(d)}catch(t){alert(t.message)}}async function cs(d){try{await u.acceptCoordinator(d),alert("Coordinator accepted successfully!"),await u.fetchLeaveApplicationById(d)}catch(t){alert(t.message)}}async function vs(d){try{await u.acceptOperationalAdmin(d),alert("Operational Admin accepted successfully!"),await u.fetchLeaveApplicationById(d)}catch(t){alert(t.message)}}async function bs(d){try{await u.acceptRecommendBy(d),alert("Recommendation accepted successfully!"),await u.fetchLeaveApplicationById(d)}catch(t){alert(t.message)}}async function _s(d){try{await u.acceptApprovedBy(d),alert("Leave Application approved successfully!"),await u.fetchLeaveApplicationById(d)}catch(t){alert(t.message)}}function ys(){window.print()}const ms=()=>ds.go(-1),h=rs(()=>{if(!s.value||!s.value.last_working_date||!s.value.resumption_date)return 0;const d=new Date(s==null?void 0:s.value.last_working_date),m=new Date(s==null?void 0:s.value.resumption_date)-d;return Math.ceil(m/(1e3*60*60*24))-1});return(d,t)=>{var m,g,j,L,C,D,B,R,N,W,I,T,S,$,H,M,V,O,F,P,E,U,z,G,q,J,K,Q,X,Y,Z,ee,te,se,le,ae,oe,re,ne,de,ie,ue,pe,ce,ve,be,_e,ye,me,xe,fe,ge,ke,we,Ae,he,je,Le,Ce,De,Be,Re,Ne,We,Ie,Te,Se,$e,He,Me,Ve,Oe,Fe,Pe,Ee,Ue,ze,Ge,qe,Je,Ke,Qe,Xe,Ye,Ze,et,tt,st,lt,at,ot,rt,nt,dt,it,ut,pt,ct,vt,bt,_t,yt,mt,xt,ft,gt,kt,wt,At,ht,jt,Lt,Ct,Dt,Bt,Rt,Nt,Wt,It,Tt,St,$t,Ht,Mt,Vt,Ot,Ft,Pt,Et,Ut,zt,Gt,qt,Jt,Kt,Qt,Xt,Yt,Zt,es,ts,ss,ls,as,os;return a(),o(x,null,[e("div",Bs,[e("div",{class:"flex items-center justify-between gap-2 print:hidden"},[e("button",{class:"btn-3",onClick:ms},t[8]||(t[8]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),t[10]||(t[10]=e("h1",{class:"title-md md:title-xl flex-wrap text-center"},"Leave Application",-1)),e("div",null,[e("button",{class:"btn-2",onClick:ys},t[9]||(t[9]=[e("i",{class:"far fa-print"},null,-1),r(" Print ")]))])]),A.value?(a(),gs(Ls,{key:0})):(a(),o("div",Rs,[e("div",null,[e("h1",Ns,l((j=(g=(m=s.value)==null?void 0:m.user)==null?void 0:g.company)==null?void 0:j.name),1),e("p",Ws,l((C=(L=s.value)==null?void 0:L.user)==null?void 0:C.company.address),1)]),e("div",Is,[e("div",Ts,[e("div",null,[t[11]||(t[11]=e("p",null,"To",-1)),t[12]||(t[12]=e("p",{class:"font-bold"},"Managing Director",-1)),e("p",Ss,l((R=(B=(D=s.value)==null?void 0:D.user)==null?void 0:B.company)==null?void 0:R.name),1),e("p",$s,l((W=(N=s.value)==null?void 0:N.user)==null?void 0:W.company.address),1),t[13]||(t[13]=e("div",null,[e("p",{class:"pt-6"},[e("b",null,"Subject:"),r(" Leave Application")])],-1))]),e("div",Hs,[e("div",null,[t[17]||(t[17]=e("h1",{class:"font-bold"},"Summary",-1)),e("table",Ms,[t[16]||(t[16]=e("thead",null,[e("tr",{class:"bg-gray-200 border border-black"},[e("th",{class:"border border-black px-2"},"Type"),e("th",{class:"border border-black px-2"},"Days")])],-1)),e("tbody",null,[(a(!0),o(x,null,w((I=s.value)==null?void 0:I.leave_types,(n,p)=>(a(),o("tr",{key:p,class:"border border-black"},[e("td",Vs,l(n.type),1),e("td",Os,l(n.days),1)]))),128)),e("tr",null,[t[14]||(t[14]=e("td",{class:"border-black px-2"},"WL/GHD",-1)),e("td",Fs,l(h.value-((S=(T=s.value)==null?void 0:T.leave_days)==null?void 0:S.length)),1)]),e("tr",Ps,[t[15]||(t[15]=e("td",{class:"border border-black px-2"},"Total",-1)),e("td",Es,l(h.value),1)])])])]),e("div",null,[t[21]||(t[21]=e("h1",{class:"font-bold"},"Last Leave",-1)),e("div",null,[e("table",Us,[e("thead",null,[t[18]||(t[18]=e("tr",{class:"bg-gray-200 border border-black"},[e("th",{colspan:"2",class:"border border-black px-2"},"Date")],-1)),e("tr",zs,[e("td",Gs,l(((H=($=s.value)==null?void 0:$.last_leave)==null?void 0:H.date)||"N/A"),1)]),t[19]||(t[19]=e("tr",{class:"bg-gray-200 border border-black"},[e("th",{class:"border border-black px-2"},"Type"),e("th",{class:"border border-black px-2"},"Days")],-1))]),e("tbody",null,[(a(!0),o(x,null,w((V=(M=s.value)==null?void 0:M.last_leave)==null?void 0:V.types,(n,p)=>(a(),o("tr",{key:p,class:"border border-black"},[e("td",qs,l(n==null?void 0:n.type),1),e("td",Js,l(n==null?void 0:n.days),1)]))),128)),e("tr",Ks,[t[20]||(t[20]=e("td",{class:"border border-black px-2"},"Total",-1)),e("td",Qs,l((F=(O=s.value)==null?void 0:O.last_leave)!=null&&F.types?s.value.last_leave.types.reduce((n,p)=>n+p.days,0):0),1)])])])])])])]),e("div",null,[t[28]||(t[28]=e("h3",{class:"font-bold"},"Leave Details:",-1)),e("div",Xs,[e("li",null,[t[22]||(t[22]=e("strong",null,"Reason: ",-1)),r(l(((P=s.value)==null?void 0:P.reason)||"No reason provided"),1)]),e("li",null,[t[23]||(t[23]=e("strong",null,"Leave Days:",-1)),r(" "+l((E=s.value)==null?void 0:E.leave_period),1)]),e("li",null,[t[24]||(t[24]=e("strong",null,"Total Days:",-1)),r(" "+l((U=s.value)==null?void 0:U.total_leave_days),1)]),e("li",null,[t[25]||(t[25]=e("strong",null,"Weekends:",-1)),r(" "+l((z=s.value)==null?void 0:z.user.weekends.join(", ")),1)]),e("li",null,[t[26]||(t[26]=e("strong",null,"Last Working Date:",-1)),r(" "+l((G=s.value)==null?void 0:G.last_working_date),1)]),e("li",null,[t[27]||(t[27]=e("strong",null,"Resumption Date:",-1)),r(" "+l((q=s.value)==null?void 0:q.resumption_date),1)])])]),e("div",Ys,[e("p",null,[t[29]||(t[29]=e("strong",null,"Works in Hand: ",-1)),r(l(((J=s.value)==null?void 0:J.works_in_hand)||"No details provided"),1)])]),e("div",Zs,[e("div",null,[e("div",el,[t[34]||(t[34]=e("hr",{class:"w-44 border-black hidden print:block"},null,-1)),e("p",null,[t[30]||(t[30]=e("strong",null,"Applicant:",-1)),r(" "+l((Q=(K=s.value)==null?void 0:K.user)==null?void 0:Q.name),1)]),e("p",null,[t[31]||(t[31]=e("strong",null,"Designation:",-1)),r(" "+l((Z=(Y=(X=s.value)==null?void 0:X.user)==null?void 0:Y.designation)==null?void 0:Z.title),1)]),e("p",null,[t[32]||(t[32]=e("strong",null,"Department:",-1)),r(" "+l((se=(te=(ee=s.value)==null?void 0:ee.user)==null?void 0:te.department)==null?void 0:se.name),1)]),e("p",null,[t[33]||(t[33]=e("strong",null,"Phone:",-1)),r(" "+l((ae=(le=s.value)==null?void 0:le.user)==null?void 0:ae.phone),1)])])]),e("div",tl,[e("p",null,l(((re=(oe=s.value)==null?void 0:oe.handover_user)==null?void 0:re.name)||"Not assigned"),1),!((ne=s.value)!=null&&ne.status)&&s.value.handover_user_id===v(c).user.id?(a(),o("div",sl,[e("p",ll,[r(l((ie=(de=s.value)==null?void 0:de.user)==null?void 0:ie.name)+" has assigned you for his handover. ",1),t[35]||(t[35]=e("br",null,null,-1)),t[36]||(t[36]=r(" Do you agree? "))]),e("div",al,[e("button",{class:"font-bold text-lg text-green-600 px-2",onClick:t[0]||(t[0]=n=>us(s.value.id))}," ✔ "),t[37]||(t[37]=e("button",{class:"px-2"},"❌",-1))])])):i("",!0),t[40]||(t[40]=e("hr",{class:"w-44 border-black"},null,-1)),e("h4",ol,[t[39]||(t[39]=r(" Handover ")),(ue=s.value)!=null&&ue.handover_user_id&&((pe=s.value)!=null&&pe.status)?(a(),o("span",rl," (✔) ")):i("",!0),(ce=s.value)!=null&&ce.handover_user_id&&!((ve=s.value)!=null&&ve.status)?(a(),o("span",nl,t[38]||(t[38]=[e("i",{class:"fad fa-spinner"},null,-1)]))):i("",!0)])])]),e("div",null,[t[42]||(t[42]=e("h1",{class:"font-bold"},"Leave Balance",-1)),e("div",dl,[e("table",il,[t[41]||(t[41]=e("thead",null,[e("tr",{class:"bg-gray-200"},[e("th",{class:"border border-gray-500 px-4 py-0.5 text-left"},"Leave Type"),e("th",{class:"border border-gray-500 px-4 py-0.5 text-center"},"Total Days"),e("th",{class:"border border-gray-500 px-4 py-0.5 text-center"},"Used Days"),e("th",{class:"border border-gray-500 px-4 py-0.5 text-center"},"Remaining Days")])],-1)),e("tbody",null,[(a(!0),o(x,null,w((be=s.value)==null?void 0:be.leave_balance,(n,p)=>(a(),o("tr",{key:p,class:"hover:bg-blue-200"},[e("td",ul,l(n.leave_type),1),e("td",pl,l(n.total_leave_days),1),e("td",cl,l(n.used_days),1),e("td",{class:ns(["border border-gray-500 px-4 py-0.5 text-center",{"text-green-600 font-bold":n.remaining_days>0,"text-red-600 font-bold":n.remaining_days===0}])},l(n.remaining_days),3)]))),128))])])])])]),e("div",vl,[e("p",bl,[t[43]||(t[43]=r(" Leave Approval: ")),e("b",{class:ns({"text-yellow-600":((_e=s.value)==null?void 0:_e.status)==="Pending","text-green-600":((ye=s.value)==null?void 0:ye.status)==="Approved","text-red-600":((me=s.value)==null?void 0:me.status)==="Rejected"})},l(((xe=s.value)==null?void 0:xe.status)||"N/A"),3)]),((fe=s.value)==null?void 0:fe.status)==="Rejected"?(a(),o("div",_l,[e("p",null,[t[44]||(t[44]=e("b",null,"Rejected by: ",-1)),r(" "+l((ke=(ge=s.value)==null?void 0:ge.rejected_by_user)==null?void 0:ke.name),1)]),e("p",null,[t[45]||(t[45]=e("b",null,"rejection Reason: ",-1)),r(" "+l(s.value.rejection_reason),1)])])):i("",!0),e("div",yl,[e("div",ml,[(we=s.value)!=null&&we.in_charge_user?(a(),o("p",xl,l(((he=(Ae=s.value)==null?void 0:Ae.in_charge_user)==null?void 0:he.name)||""),1)):(a(),o("p",fl,l(((De=(Ce=(Le=(je=s.value)==null?void 0:je.user)==null?void 0:Le.leave_approval)==null?void 0:Ce.in_charge_user)==null?void 0:De.name)||"N/A"),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((Be=s.value)!=null&&Be.in_charge_user_id)&&((We=(Ne=(Re=s.value)==null?void 0:Re.user)==null?void 0:Ne.leave_approval)==null?void 0:We.in_charge_user_id)===v(c).user.id?(a(),o("div",gl,[e("p",kl,[r(l((Te=(Ie=s.value)==null?void 0:Ie.user)==null?void 0:Te.name)+" has submitted an application. ",1),t[46]||(t[46]=e("br",null,null,-1)),t[47]||(t[47]=r(" Will you forward it? "))]),e("div",wl,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[1]||(t[1]=n=>ps(s.value.id))}," ✔ "),e("button",{class:"",onClick:b},"❌")])])):i("",!0),t[50]||(t[50]=e("hr",{class:"w-44 border-black"},null,-1)),e("h4",Al,[e("p",null,[t[49]||(t[49]=r(" In-Charge ")),(Se=s.value)!=null&&Se.in_charge_user_id?(a(),o("span",hl,"(✔)")):i("",!0),!(($e=s.value)!=null&&$e.in_charge_user_id)&&((Ve=(Me=(He=s.value)==null?void 0:He.user)==null?void 0:Me.leave_approval)!=null&&Ve.in_charge_user)?(a(),o("span",jl,t[48]||(t[48]=[e("i",{class:"fad fa-spinner"},null,-1)]))):i("",!0)])])]),e("div",Ll,[(Oe=s.value)!=null&&Oe.coordinator_user?(a(),o("p",Cl,l(((Pe=(Fe=s.value)==null?void 0:Fe.coordinator_user)==null?void 0:Pe.name)||"N/A"),1)):i("",!0),e("p",Dl,l(((Ge=(ze=(Ue=(Ee=s.value)==null?void 0:Ee.user)==null?void 0:Ue.leave_approval)==null?void 0:ze.coordinator_user)==null?void 0:Ge.name)||"N/A"),1),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((qe=s.value)!=null&&qe.coordinator_user_id)&&((Qe=(Ke=(Je=s.value)==null?void 0:Je.user)==null?void 0:Ke.leave_approval)==null?void 0:Qe.coordinator_user_id)===v(c).user.id?(a(),o("div",Bl,[e("p",Rl,[r(l((Ye=(Xe=s.value)==null?void 0:Xe.user)==null?void 0:Ye.name)+" has submitted an application. ",1),t[51]||(t[51]=e("br",null,null,-1)),t[52]||(t[52]=r(" Will you recommend it? "))]),e("div",Nl,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[2]||(t[2]=n=>cs(s.value.id))}," ✔ "),e("button",{class:"",onClick:b},"❌")])])):i("",!0),e("p",null,l(((et=(Ze=s.value)==null?void 0:Ze.coordinator_user)==null?void 0:et.name)||""),1),t[55]||(t[55]=e("hr",{class:"w-44 border-black"},null,-1)),e("p",Wl,[t[54]||(t[54]=r(" Coordinator ")),(tt=s.value)!=null&&tt.coordinator_user_id?(a(),o("span",Il,"(✔)")):i("",!0),!((st=s.value)!=null&&st.coordinator_user_id)&&((ot=(at=(lt=s.value)==null?void 0:lt.user)==null?void 0:at.leave_approval)!=null&&ot.coordinator_user)?(a(),o("span",Tl,t[53]||(t[53]=[e("i",{class:"fad fa-spinner"},null,-1)]))):i("",!0)])]),e("div",Sl,[(rt=s.value)!=null&&rt.operational_admin_user?(a(),o("p",$l,l(((dt=(nt=s.value)==null?void 0:nt.operational_admin_user)==null?void 0:dt.name)||""),1)):(a(),o("p",Hl,l(((ct=(pt=(ut=(it=s.value)==null?void 0:it.user)==null?void 0:ut.leave_approval)==null?void 0:pt.operational_admin_user)==null?void 0:ct.name)||"N/A"),1)),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((vt=s.value)!=null&&vt.operational_admin_user_id)&&((yt=(_t=(bt=s.value)==null?void 0:bt.user)==null?void 0:_t.leave_approval)==null?void 0:yt.operational_admin_user_id)===v(c).user.id?(a(),o("div",Ml,[e("p",Vl,[r(l((xt=(mt=s.value)==null?void 0:mt.user)==null?void 0:xt.name)+" has submitted an application.",1),t[56]||(t[56]=e("br",null,null,-1)),t[57]||(t[57]=r(" Will you recommend it? "))]),e("div",Ol,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[3]||(t[3]=n=>vs(s.value.id))}," ✔ "),e("button",{class:"",onClick:b},"❌")])])):i("",!0),t[60]||(t[60]=e("hr",{class:"w-44 border-black"},null,-1)),e("p",Fl,[t[59]||(t[59]=r(" Operational Admin ")),(ft=s.value)!=null&&ft.operational_admin_user_id?(a(),o("span",Pl,"(✔)")):i("",!0),!((gt=s.value)!=null&&gt.operational_admin_user_id)&&((At=(wt=(kt=s.value)==null?void 0:kt.user)==null?void 0:wt.leave_approval)!=null&&At.operational_admin_user)?(a(),o("span",El,t[58]||(t[58]=[e("i",{class:"fad fa-spinner"},null,-1)]))):i("",!0)])])]),e("div",Ul,[e("div",zl,[(ht=s.value)!=null&&ht.recommend_by_user?(a(),o("p",Gl,l(((Lt=(jt=s.value)==null?void 0:jt.recommend_by_user)==null?void 0:Lt.name)||"N/A"),1)):i("",!0),e("p",ql,l(((Rt=(Bt=(Dt=(Ct=s.value)==null?void 0:Ct.user)==null?void 0:Dt.leave_approval)==null?void 0:Bt.recommend_by_user)==null?void 0:Rt.name)||"N/A"),1),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((Nt=s.value)!=null&&Nt.recommend_by_user_id)&&((Tt=(It=(Wt=s.value)==null?void 0:Wt.user)==null?void 0:It.leave_approval)==null?void 0:Tt.recommend_by_user_id)===v(c).user.id?(a(),o("div",Jl,[e("p",Kl,[r(l(($t=(St=s.value)==null?void 0:St.user)==null?void 0:$t.name)+" has submitted an application.",1),t[61]||(t[61]=e("br",null,null,-1)),t[62]||(t[62]=r(" Will you recommend it? "))]),e("div",Ql,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[4]||(t[4]=n=>bs(s.value.id))}," ✔ "),e("button",{class:"",onClick:b},"❌")])])):i("",!0),t[65]||(t[65]=e("hr",{class:"w-44 border-black"},null,-1)),e("p",Xl,[t[64]||(t[64]=r(" Recommend By ")),(Ht=s.value)!=null&&Ht.recommend_by_user_id?(a(),o("span",Yl,"(✔)")):i("",!0),!((Mt=s.value)!=null&&Mt.recommend_by_user_id)&&((Ft=(Ot=(Vt=s.value)==null?void 0:Vt.user)==null?void 0:Ot.leave_approval)!=null&&Ft.recommend_by_user)?(a(),o("span",Zl,t[63]||(t[63]=[e("i",{class:"fad fa-spinner"},null,-1)]))):i("",!0)])]),e("div",ea,[(Pt=s.value)!=null&&Pt.approved_by_user?(a(),o("p",ta,l(((Ut=(Et=s.value)==null?void 0:Et.approved_by_user)==null?void 0:Ut.name)||"N/A"),1)):i("",!0),e("p",sa,l(((Jt=(qt=(Gt=(zt=s.value)==null?void 0:zt.user)==null?void 0:Gt.leave_approval)==null?void 0:qt.approved_by_user)==null?void 0:Jt.name)||"N/A"),1),s.value.status!=="Rejected"&&s.value.status!=="Approved"&&!((Kt=s.value)!=null&&Kt.approved_by_user_id)&&((Yt=(Xt=(Qt=s.value)==null?void 0:Qt.user)==null?void 0:Xt.leave_approval)==null?void 0:Yt.approved_by_user_id)===v(c).user.id?(a(),o("div",la,[e("p",aa,[r(l((es=(Zt=s.value)==null?void 0:Zt.user)==null?void 0:es.name)+" has submitted an application.",1),t[66]||(t[66]=e("br",null,null,-1)),t[67]||(t[67]=r(" Will you accept it? "))]),e("div",oa,[e("button",{class:"font-bold text-lg text-green-600",onClick:t[5]||(t[5]=n=>_s(s.value.id))}," ✔ "),e("button",{class:"",onClick:b},"❌")])])):i("",!0),t[70]||(t[70]=e("hr",{class:"w-44 border-black"},null,-1)),e("p",ra,[t[69]||(t[69]=r(" Approved By ")),(ts=s.value)!=null&&ts.approved_by_user_id?(a(),o("span",na,"(✔)")):i("",!0),!((ss=s.value)!=null&&ss.approved_by_user_id)&&((os=(as=(ls=s.value)==null?void 0:ls.user)==null?void 0:as.leave_approval)!=null&&os.approved_by_user)?(a(),o("span",da,t[68]||(t[68]=[e("i",{class:"fad fa-spinner"},null,-1)]))):i("",!0)])])])])])),ks(Cs)]),_.value?(a(),o("div",ia,[e("div",ua,[t[71]||(t[71]=e("h3",{class:"title-lg"},"Reject Application",-1)),ws(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=n=>y.value=n),rows:"4",placeholder:"Enter rejection reason...",class:"w-full border rounded-lg p-2 text-gray-700"},null,512),[[As,y.value]]),e("div",pa,[e("button",{class:"btn-3",onClick:t[7]||(t[7]=n=>_.value=!1)},"Cancel"),e("button",{class:"btn-2 bg-red-500 text-white",onClick:is},"Confirm")])])])):i("",!0)],64)}}};export{xa as default};
