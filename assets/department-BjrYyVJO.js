import{E as w,r as c,p,G as o}from"./index-C4L07Zzr.js";const I=w("department",()=>{const d=c([]),s=c([]),m=c(null),n=c(!1),l=c(null),i=async(a=null)=>{var r,t;n.value=!0,l.value=null;try{const e=await o.get("/departments",{params:{company_id:a}});s.value=e.data}catch(e){l.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||"ডিপার্টমেন্ট লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching departments:",e)}finally{n.value=!1}},f=async a=>{var r,t;n.value=!0,l.value=null;try{const e=await o.get(`/departments/${a}`);m.value=e.data}catch(e){l.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||`ডিপার্টমেন্ট (ID: ${a}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching department with id ${a}:`,e)}finally{n.value=!1}},y=async a=>{var r,t;n.value=!0,l.value=null;try{const e=await o.get("department-employees",{params:a});d.value=e==null?void 0:e.data.employees}catch(e){l.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||`ডিপার্টমেন্ট (ID: ${id}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching department with id ${id}:`,e)}finally{n.value=!1}},g=async a=>{var r,t;n.value=!0,l.value=null;try{const e=await o.post("/departments",a);return s.value.push(e.data),e.data}catch(e){l.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||"ডিপার্টমেন্ট তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating department:",e)}finally{n.value=!1}},h=async(a,r)=>{var t,e;n.value=!0,l.value=null;try{const u=await o.put(`/departments/${a}`,r),v=s.value.findIndex($=>$.id===a);return v!==-1&&(s.value[v]=u.data),u.data}catch(u){l.value=((e=(t=u.response)==null?void 0:t.data)==null?void 0:e.message)||`ডিপার্টমেন্ট (ID: ${a}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating department with id ${a}:`,u)}finally{n.value=!1}},D=async a=>{var r,t;n.value=!0,l.value=null;try{await o.delete(`/departments/${a}`),s.value=s.value.filter(e=>e.id!==a)}catch(e){l.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||`ডিপার্টমেন্ট (ID: ${a}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting department with id ${a}:`,e)}finally{n.value=!1}};return{departments:p(()=>s.value),department:p(()=>m.value),loading:p(()=>n.value),error:p(()=>l.value),employees:d,fetchDepartmentEmployee:y,fetchDepartments:i,fetchDepartment:f,createDepartment:g,updateDepartment:h,deleteDepartment:D}});export{I as u};
