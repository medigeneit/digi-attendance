import{u}from"./useCommentStore-DPKOsmqq.js";import{b as x,c as s,a as t,h as r,t as l,F as g,x as y,o as e,g as _}from"./index-CKknogop.js";const h={class:"container mx-auto p-6"},b={key:0,class:"text-center py-4 text-gray-500"},f={key:1,class:"text-center py-4 text-red-500"},C={key:2,class:"min-w-full bg-white shadow rounded-lg overflow-hidden"},k={class:"px-4 py-2"},v={class:"px-4 py-2 text-gray-700"},w={class:"px-4 py-2"},A=["onClick"],M={__name:"CommentList",setup(E){const o=u(),d=_();x(()=>{o.fetchComments()});const i=()=>{d.push({name:"CommentAdd"})},m=c=>{d.push({name:"CommentEdit",params:{id:c}})};return(c,a)=>(e(),s("div",h,[t("div",{class:"flex justify-between items-center mb-6"},[a[0]||(a[0]=t("h2",{class:"text-2xl font-bold text-gray-800"},"Comments",-1)),t("button",{onClick:i,class:"btn-1"},"Add Comment")]),r(o).loading?(e(),s("div",b," Loading comments... ")):r(o).error?(e(),s("div",f,l(r(o).error),1)):(e(),s("table",C,[a[1]||(a[1]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left"},"#"),t("th",{class:"px-4 py-2 text-left"},"Message"),t("th",{class:"px-4 py-2 text-left"},"Actions")])],-1)),t("tbody",null,[(e(!0),s(g,null,y(r(o).comments,(n,p)=>(e(),s("tr",{key:n.id,class:"border-t hover:bg-gray-50"},[t("td",k,l(p+1),1),t("td",v,l(n.message.length>50?n.message.slice(0,50)+"...":n.message),1),t("td",w,[t("button",{onClick:B=>m(n.id),class:"btn-2"},"Edit",8,A)])]))),128))])]))]))}};export{M as default};
