import{C as U,r as c,x as i,D as u}from"./index-CBLkaFAF.js";const H=U("user",()=>{const l=c([]),d=c([]),v=c({}),p=c({}),t=c(null),r=c(!1),g=c(new Date().toISOString().substring(0,10)),h=i(()=>l.value),m=i(()=>v.value),y=i(()=>t.value);return{users:l,handoverUsers:d,user:v,error:t,isLoading:r,allUsers:h,singleUser:m,errorMessage:y,dashboardInfo:p,selectedDate:g,fetchUsers:async()=>{var s,a;try{r.value=!0;const e=await u.get("/users");l.value=e.data,t.value=null}catch(e){t.value=((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"Something went wrong"}finally{r.value=!1}},fetchUser:async s=>{var a,e;try{r.value=!0;const o=(await u.get(`/users/${s}`)).data;return o&&(v.value=o),t.value=null,o}catch(n){t.value=((e=(a=n.response)==null?void 0:a.data)==null?void 0:e.message)||"Something went wrong"}finally{r.value=!1}},createUser:async s=>{var a,e;try{r.value=!0;const n=await u.post("/users",s);l.value.push(n.data.user),t.value=null}catch(n){t.value=((e=(a=n.response)==null?void 0:a.data)==null?void 0:e.message)||"Something went wrong"}finally{r.value=!1}},updateUser:async(s,a)=>{var e,n;try{r.value=!0;const o=await u.put(`/users/${s}`,a),f=l.value.findIndex(w=>w.id===s);return f!==-1&&(l.value[f]=o.data.user),t.value=null,o.data.user}catch(o){t.value=((n=(e=o.response)==null?void 0:e.data)==null?void 0:n.message)||"Something went wrong"}finally{r.value=!1}},deleteUser:async s=>{var a,e;try{r.value=!0,await u.delete(`/users/${s}`),l.value=l.value.filter(n=>n.id!==s),t.value=null}catch(n){t.value=((e=(a=n.response)==null?void 0:a.data)==null?void 0:e.message)||"Something went wrong"}finally{r.value=!1}},fetchUserDashboardData:async()=>{var s,a;try{r.value=!0;const n=(await u.get("/dashboard")).data;return n&&(p.value=n),t.value=null,n}catch(e){t.value=((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"Something went wrong"}finally{r.value=!1}},fetchDepartmentWiseEmployees:async()=>{var s,a;try{r.value=!0;const e=await u.get("/department-wise-employees");l.value=e.data,t.value=null}catch(e){t.value=((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"Something went wrong"}finally{r.value=!1}},fetchHandoverDepartmentWiseEmployees:async()=>{var s,a;try{r.value=!0;const e=await u.get("/department-handover-wise-employees");d.value=e.data,t.value=null}catch(e){t.value=((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"Something went wrong"}finally{r.value=!1}}}});export{H as u};
