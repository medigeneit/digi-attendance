import{u as w,b as D,y as R,r as f,e as O,z as V,c as r,o as n,a as e,q as v,k as p,h as E,v as L,F as N,n as A,t as i,i as B}from"./index-2SPaUKUG.js";import{_ as F}from"./EmployeeFilter-C7ShPBzl.js";import{L as M}from"./LoaderView-joPIgo-v.js";import{u as T}from"./overtime-lJhgG3pA.js";import"./MultiselectDropdown-4cqz4cEk.js";import"./company-DnRIFKt0.js";import"./department-DmqypjQ7.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"space-y-2 px-4"},S={class:"flex flex-wrap items-center gap-2"},j={key:0,class:"text-center py-4"},H={key:1,class:"space-y-4"},U={key:0,class:"overflow-x-auto"},z={class:"table-auto w-full border text-sm bg-white"},$={class:"border p-2"},G={class:"border p-2"},I={class:"border p-2"},J={class:"border p-2"},K={class:"border p-2 text-center"},Q={class:"border p-2 text-center"},W={class:"border p-2 text-center"},X={class:"border p-2 text-center print:hidden"},Y={class:"flex justify-center items-center gap-4"},Z={key:1,class:"text-center text-red-500 text-xl italic mt-10"},de={__name:"OvertimeReport",setup(ee){const c=w(),o=D(),d=T(),{reports:_,loading:x,selectedMonth:h}=R(d),s=f(o.query.date||h.value),a=f({company_id:o.query.company_id||"",department_id:o.query.department_id||"all",type:o.query.type||"all",employee_id:o.query.employee_id||""}),b=async()=>{var m,t,u,l;c.replace({query:{...o.query,company_id:(m=a.value)==null?void 0:m.company_id,department_id:(t=a.value)==null?void 0:t.department_id,type:(u=a.value)==null?void 0:u.type,employee_id:(l=a.value)==null?void 0:l.employee_id}}),a.value.company_id&&s.value&&d.getCompanyDepartmentOvertimeReport(s.value,a.value)},g=()=>{c.replace({query:{...o.query,date:s.value}}),a.value.company_id&&s.value&&d.getCompanyDepartmentOvertimeReport(s.value,a.value)},k=()=>c.go(-1),C=()=>{s.value&&d.exportCompanyDepartmentOvertimeExcel(s.value,a.value)},q=()=>{s.value&&d.exportCompanyDepartmentOvertimePdf(s.value,a.value)};return O(()=>{a.value.company_id&&s.value&&d.getCompanyDepartmentOvertimeReport(s.value,a.value)}),(m,t)=>{const u=V("RouterLink");return n(),r("div",P,[e("div",{class:"flex items-center justify-between gap-2"},[e("button",{class:"btn-3",onClick:k},t[2]||(t[2]=[e("i",{class:"far fa-arrow-left"},null,-1),e("span",{class:"hidden md:flex"},"Back",-1)])),t[5]||(t[5]=e("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Monthly Overtime Report",-1)),e("div",{class:"flex gap-2"},[e("button",{onClick:C,class:"btn-3",title:"Download Excel"},t[3]||(t[3]=[e("i",{class:"far fa-file-excel text-2xl text-green-500"},null,-1)])),e("button",{onClick:q,class:"btn-3",title:"Download PDF"},t[4]||(t[4]=[e("i",{class:"far fa-file-pdf text-2xl text-red-500"},null,-1)]))])]),e("div",S,[v(F,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=l=>a.value=l),"initial-value":p(o).query,onFilterChange:b},null,8,["modelValue","initial-value"]),e("div",null,[E(e("input",{id:"user-filter","onUpdate:modelValue":t[1]||(t[1]=l=>s.value=l),onChange:g,type:"month",class:"input-1"},null,544),[[L,s.value]])])]),p(x)?(n(),r("div",j,[v(M)])):(n(),r("div",H,[p(_).length?(n(),r("div",U,[e("table",z,[t[7]||(t[7]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"border p-2 text-left"},"#"),e("th",{class:"border p-2 text-left"},"Employee"),e("th",{class:"border p-2 text-left"},"Company"),e("th",{class:"border p-2 text-left"},"Department"),e("th",{class:"border p-2 text-center"},"Overtime Entries"),e("th",{class:"border p-2 text-center"},"Total Request Hours"),e("th",{class:"border p-2 text-center"},"Total Approval Hours"),e("th",{class:"border p-2 text-center print:hidden"},"Action")])],-1)),e("tbody",null,[(n(!0),r(N,null,A(p(_),(l,y)=>(n(),r("tr",{key:y,class:"hover:bg-blue-50"},[e("td",$,i(y+1),1),e("td",G,i(l.user_name||"N/A"),1),e("td",I,i(l.company_name||"N/A"),1),e("td",J,i(l.department_name||"N/A"),1),e("td",K,i(l.total_overtime_entries),1),e("td",Q,i(l.total_request_overtime_hours),1),e("td",W,i(l.total_approval_overtime_hours),1),e("td",X,[e("div",Y,[v(u,{to:{name:"OvertimeList",query:{...a.value,employee_id:l.user_id,date:s.value}},class:"text-blue-800"},{default:B(()=>t[6]||(t[6]=[e("i",{class:"far fa-eye text-lg"},null,-1)])),_:2,__:[6]},1032,["to"])])])]))),128))])])])):(n(),r("div",Z," No data available for this month. "))]))])}}};export{de as default};
