import{s as g,r as d,b as y,c as r,a as t,w as x,d as b,v as _,C as w,F as j,x as S,h as n,t as m,e as h,o as l,g as C}from"./index-aoeAgQM1.js";import{u as P}from"./company-CFfZ1RRk.js";import{u as k}from"./useProjectStore-DSBFrPva.js";const M={class:"container mx-auto p-6"},N={class:"max-w-lg mx-auto bg-white shadow-lg rounded-lg p-6"},V={class:"mb-4"},B={class:"mb-4"},L=["value"],A={key:0,class:"mb-4 text-red-500 font-medium"},D={class:"flex items-center gap-4"},E=["disabled"],$={__name:"ProjectAdd",setup(F){const s=k(),c=P(),p=C(),{companies:v}=g(c),i=d(""),u=d(""),a=d(!1);y(()=>{c.fetchCompanies()});const f=async()=>{a.value=!0,await s.createProject({name:i.value,company_id:u.value}),a.value=!1,s.error||p.push({name:"ProjectList"})};return(R,e)=>(l(),r("div",M,[t("div",N,[e[6]||(e[6]=t("h2",{class:"text-2xl font-semibold text-gray-800 mb-4"},"Add New Project",-1)),t("form",{onSubmit:x(f,["prevent"]),class:"space-y-6"},[t("div",V,[e[3]||(e[3]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Project Name",-1)),b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),type:"text",required:"",placeholder:"Enter project name",class:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,i.value]])]),t("div",B,[e[5]||(e[5]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Company",-1)),b(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o),class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"},[e[4]||(e[4]=t("option",{value:""},"Select Company",-1)),(l(!0),r(j,null,S(n(v),o=>(l(),r("option",{key:o.id,value:o.id},m(o.name),9,L))),128))],512),[[w,u.value]])]),n(s).error?(l(),r("div",A,m(n(s).error),1)):h("",!0),t("div",D,[t("button",{disabled:a.value,type:"submit",class:"bg-blue-500 hover:bg-blue-600 text-white font-semibold px-5 py-2 rounded transition"},m(a.value?"Saving...":"Save Project"),9,E),t("button",{type:"button",onClick:e[2]||(e[2]=o=>n(p).push({name:"ProjectList"})),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded transition"}," Cancel ")])],32)])]))}};export{$ as default};
