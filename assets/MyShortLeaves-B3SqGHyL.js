import{u as L,e as S,p as k,C as w,c as e,o as d,a as t,y as l,i as m,j as M,h as N,v as C,k as u,g as b,F as A,x as T,t as n}from"./index-CvBRDyb9.js";import{L as V}from"./LoaderView-CitUPkCl.js";import{u as B}from"./short-leave-BcQkHfaG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"space-y-2 px-4"},R={class:"flex items-center justify-between gap-2"},j={class:"grid grid-cols-3 gap-2"},E={key:0,class:"text-center py-4"},F={key:1,class:"space-y-4"},U={class:"overflow-x-auto"},H={class:"min-w-full table-auto border-collapse border border-gray-200 bg-white rounded-md text-sm"},P={class:"border border-gray-300 px-2"},$={class:"border border-gray-300 px-2"},q={class:"border border-gray-300 px-2"},z={class:"border border-gray-300 px-2"},G={class:"border border-gray-300 px-2"},I={class:"border border-gray-300 px-2"},J={class:"border border-gray-300 px-2 text-center"},K=["href"],O={class:"border border-gray-300 px-2"},Q={class:"border border-gray-300 px-2"},W={class:"flex gap-2"},X=["onClick"],Y={key:0},et={__name:"MyShortLeaves",setup(Z){const x=L(),o=B();S(()=>{o.fetchMyShortLeaves({date:o.selectedMonth})});const f=()=>{x.go(-1)},p=k(()=>o.shortLeaves),y=async()=>{o.fetchMyShortLeaves({date:o.selectedMonth})};function _(a){confirm("Are you sure you want to delete this application?")&&o.deleteShortLeave(a)}const h=a=>{if(!a)return"N/A";const[r,c]=a.split(":").map(Number),i=new Date;return i.setHours(r,c),i.toLocaleString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})};return(a,r)=>{var i;const c=w("RouterLink");return d(),e("div",D,[t("div",R,[t("button",{class:"btn-3",onClick:f},r[1]||(r[1]=[t("i",{class:"far fa-arrow-left"},null,-1),t("span",{class:"hidden md:flex"},"Back",-1)])),r[3]||(r[3]=t("h1",{class:"title-md md:title-lg flex-wrap text-center"},"Short Leaves",-1)),t("div",null,[l(c,{to:{name:"ShortLeaveAdd"},class:"btn-2"},{default:m(()=>r[2]||(r[2]=[M("New Short Leave")])),_:1,__:[2]})])]),t("div",j,[N(t("input",{id:"monthSelect",type:"month","onUpdate:modelValue":r[0]||(r[0]=s=>u(o).selectedMonth=s),onChange:y,class:"input-1"},null,544),[[C,u(o).selectedMonth]])]),(i=u(o))!=null&&i.loading?(d(),e("div",E,[l(V)])):(d(),e("div",F,[t("div",U,[t("table",H,[r[8]||(r[8]=t("thead",null,[t("tr",{class:"bg-gray-200"},[t("th",{class:"border border-gray-300 px-2 text-left"},"#"),t("th",{class:"border border-gray-300 px-2 text-left"},"Date"),t("th",{class:"border border-gray-300 px-2 text-left"},"Type"),t("th",{class:"border border-gray-300 px-2 text-left"},"Start Time"),t("th",{class:"border border-gray-300 px-2 text-left"},"End Time"),t("th",{class:"border border-gray-300 px-2 text-left"},"Total Minutes"),t("th",{class:"border border-gray-300 px-2 text-left"},"Attachment"),t("th",{class:"border border-gray-300 px-2 text-left"},"Status"),t("th",{class:"border border-gray-300 px-2 text-left"},"Action")])],-1)),t("tbody",null,[(d(!0),e(A,null,T(p.value,(s,g)=>(d(),e("tr",{key:s==null?void 0:s.id,class:"border-b border-gray-200 hover:bg-blue-200"},[t("td",P,n(g+1),1),t("td",$,n(s==null?void 0:s.date),1),t("td",q,n(s==null?void 0:s.type),1),t("td",z,n(h(s==null?void 0:s.start_time)),1),t("td",G,n(h(s==null?void 0:s.end_time)),1),t("td",I,n(s==null?void 0:s.total_minutes),1),t("td",J,[s.attachment?(d(),e("a",{key:0,href:s==null?void 0:s.attachment,target:"_blank",class:"text-blue-500 underline"},r[4]||(r[4]=[t("i",{class:"fad fa-link"},null,-1)]),8,K)):b("",!0)]),t("td",O,n((s==null?void 0:s.status)||"N/A"),1),t("td",Q,[t("div",W,[l(c,{to:{name:"ShortLeaveShow",params:{id:s==null?void 0:s.id}},class:"btn-icon"},{default:m(()=>r[5]||(r[5]=[t("i",{class:"far fa-eye"},null,-1)])),_:2,__:[5]},1032,["to"]),s.status=="Pending"||!s.status?(d(),e("button",{key:0,type:"button",onClick:v=>_(s==null?void 0:s.id),class:"btn-icon"},r[6]||(r[6]=[t("i",{class:"far fa-trash text-red-600"},null,-1)]),8,X)):b("",!0)])])]))),128)),p.value.length===0?(d(),e("tr",Y,r[7]||(r[7]=[t("td",{colspan:"8",class:"p-2 text-center text-red-500"},"No short leaves found",-1)]))):b("",!0)])])])]))])}}};export{et as default};
