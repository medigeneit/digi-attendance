import{g as h}from"./requirement-7MYrewoC.js";import{J as $,r as o,p as i,G as c}from"./index-CLvxCEgA.js";const E=$("requirement",()=>{const u=o([]),m=o(null),n=o(!1),s=o(null),d=async()=>{var e,t;n.value=!0,s.value=null;try{const a=await h();u.value=a.data}catch(a){s.value=((t=(e=a.response)==null?void 0:e.data)==null?void 0:t.message)||"রিকোয়ারমেন্ট লোড করতে ব্যর্থ হয়েছে।",console.error("Error fetching requirements:",a)}finally{n.value=!1}},f=async e=>{var t,a;n.value=!0,s.value=null;try{const r=await c.get(`/requirements/${e}`);m.value=r.data}catch(r){s.value=((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.message)||`রিকোয়ারমেন্ট (ID: ${e}) লোড করতে ব্যর্থ হয়েছে।`,console.error(`Error fetching requirement with id ${e}:`,r)}finally{n.value=!1}},q=async e=>{var t,a;n.value=!0,s.value=null;try{const r=await c.post("/requirements",e);return u.value.push(r.data.data),r.data.data}catch(r){s.value=((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.message)||"রিকোয়ারমেন্ট তৈরি করতে ব্যর্থ হয়েছে।",console.error("Error creating requirement:",r)}finally{n.value=!1}},p=async(e,t)=>{var a,r;n.value=!0,s.value=null;try{const l=await c.put(`/requirements/${e}`,t),v=u.value.findIndex(y=>y.id===e);return v!==-1&&(u.value[v]=l.data.data),l.data.data}catch(l){s.value=((r=(a=l.response)==null?void 0:a.data)==null?void 0:r.message)||`রিকোয়ারমেন্ট (ID: ${e}) আপডেট করতে ব্যর্থ হয়েছে।`,console.error(`Error updating requirement with id ${e}:`,l)}finally{n.value=!1}},g=async e=>{var t,a;n.value=!0,s.value=null;try{await c.delete(`/requirements/${e}`),u.value=u.value.filter(r=>r.id!==e)}catch(r){s.value=((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.message)||`রিকোয়ারমেন্ট (ID: ${e}) মুছতে ব্যর্থ হয়েছে।`,console.error(`Error deleting requirement with id ${e}:`,r)}finally{n.value=!1}};return{requirements:i(()=>u.value),requirement:i(()=>m.value),loading:i(()=>n.value),error:i(()=>s.value),fetchRequirements:d,fetchRequirement:f,createRequirement:q,updateRequirement:p,deleteRequirement:g}});export{E as u};
